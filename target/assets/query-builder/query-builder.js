(function(e){"use strict";var t=["string","integer","double","date","time","datetime","domain"],n=["text","radio","checkbox","select"],r=function(e){return e};var i=function(t,n){this.$el=t;this.settings=e.extend(true,{},i.DEFAULTS,n);this.status={group_id:0,rule_id:0,generatedId:false};this.filters=this.settings.filters;this.lang=this.settings.lang;this.operators=this.settings.operators;this.template=this.settings.template;if(n.operators){this.operators=e.extend(true,[],n.operators)}if(this.template.group===null){this.template.group=this.getGroupTemplate}if(this.template.rule===null){this.template.rule=this.getRuleTemplate}if(!this.$el.attr("id")){this.$el.attr("id","qb_"+Math.floor(Math.random()*99999));this.status.generatedId=true}this.$el_id=this.$el.attr("id");if(!this.filters||this.filters.length<1){e.error("Missing filters list")}this.checkFilters();this.init(n)};i.DEFAULTS={onValidationError:null,onAfterAddGroup:null,onAfterAddRule:null,allow_groups:true,sortable:false,filters:[],conditions:["AND","OR"],default_condition:"AND",readonly_behavior:{delete_group:false,sortable:true},template:{group:null,rule:null},lang:{add_rule:"Add rule",add_group:"Add group",delete_rule:"Delete",delete_group:"Delete",condition_and:"AND",condition_or:"OR",filter_select_placeholder:"------",operator_equal:"equal",operator_not_equal:"not equal",operator_in:"in",operator_not_in:"not in",operator_less:"less",operator_less_or_equal:"less or equal",operator_greater:"greater",operator_greater_or_equal:"greater or equal",operator_begins_with:"begins with",operator_not_begins_with:"doesn't begin with",operator_contains:"contains",operator_not_contains:"doesn't contain",operator_ends_with:"ends with",operator_not_ends_with:"doesn't end with",operator_is_empty:"is empty",operator_is_not_empty:"is not empty",operator_is_null:"is null",operator_is_not_null:"is not null"},operators:[{type:"equal",accept_values:true,apply_to:["string","number","datetime","domain"],sql:"= ?"},{type:"not_equal",accept_values:true,apply_to:["string","number","datetime","domain"],sql:"!= ?"},{type:"less",accept_values:true,apply_to:["number","datetime"],sql:"< ?"},{type:"less_or_equal",accept_values:true,apply_to:["number","datetime"],sql:"<= ?"},{type:"greater",accept_values:true,apply_to:["number","datetime"],sql:"> ?"},{type:"greater_or_equal",accept_values:true,apply_to:["number","datetime"],sql:">= ?"},{type:"begins_with",accept_values:true,apply_to:["string"],sql:{op:"LIKE(?)",fn:function(e){return e+"%"}}},{type:"not_begins_with",accept_values:true,apply_to:["string"],sql:{op:"NOT LIKE(?)",fn:function(e){return e+"%"}}},{type:"contains",accept_values:true,apply_to:["string"],sql:{op:"LIKE(?)",fn:function(e){return"%"+e+"%"}}},{type:"not_contains",accept_values:true,apply_to:["string"],sql:{op:"NOT LIKE(?)",fn:function(e){return"%"+e+"%"}}},{type:"ends_with",accept_values:true,apply_to:["string"],sql:{op:"LIKE(?)",fn:function(e){return"%"+e}}},{type:"not_ends_with",accept_values:true,apply_to:["string"],sql:{op:"NOTLIKE(?)",fn:function(e){return"%"+e}}},{type:"is_empty",accept_values:false,apply_to:["string"],sql:'== ""'},{type:"is_not_empty",accept_values:false,apply_to:["string"],sql:'!= ""'},{type:"is_null",accept_values:false,apply_to:["string","number","datetime","domain"],sql:"IS NULL"},{type:"is_not_null",accept_values:false,apply_to:["string","number","datetime","domain"],sql:"IS NOT NULL"}]};i.prototype.init=function(t){var n=this;this.$el.on("change.queryBuilder",".rules-group-header input[name$=_cond]",function(){var t=e(this);if(t.is(":checked")){t.parent().addClass("active");t.parent().siblings().removeClass("active")}});this.$el.on("change.queryBuilder",".rule-filter-container select[name$=_filter]",function(){var t=e(this),r=t.closest(".rule-container");n.createRuleOperators(r,t.val());n.createRuleInput(r,t.val())});this.$el.on("change.queryBuilder",".rule-operator-container select[name$=_operator]",function(){var t=e(this),r=t.closest(".rule-container");n.updateRuleOperator(r,t.val())});this.$el.on("click.queryBuilder","[data-add=rule]",function(){var t=e(this),r=t.closest(".rules-group-container").find(">.rules-group-body>.rules-list");n.addRule(r)});if(this.settings.allow_groups){this.$el.on("click.queryBuilder","[data-add=group]",function(){var t=e(this),r=t.closest(".rules-group-container").find(">.rules-group-body>.rules-list");n.addGroup(r)})}this.$el.on("click.queryBuilder","[data-delete=rule]",function(){var t=e(this),n=t.closest(".rule-container");n.remove()});this.$el.on("click.queryBuilder","[data-delete=group]",function(){var t=e(this),r=t.closest(".rules-group-container");n.deleteGroup(r)});if(this.settings.sortable){this.initSortable()}this.$el.addClass("query-builder");if(t.rules){this.setRules(t.rules)}else{this.addGroup(this.$el)}};i.prototype.destroy=function(){if(this.status.generatedId){this.$el.removeAttr("id")}this.$el.empty().off("click.queryBuilder change.queryBuilder").removeClass("query-builder").removeData("queryBuilder")};i.prototype.reset=function(){this.status.group_id=1;this.status.rule_id=0;this.addRule(this.$el.find(">.rules-group-container>.rules-group-body>.rules-list").empty())};i.prototype.clear=function(){this.status.group_id=0;this.status.rule_id=0;this.$el.empty()};i.prototype.getRules=function(){this.markRuleAsError(this.$el.find(".rule-container"),false);var t=this.$el.find(">.rules-group-container"),n=this;return function r(t){var i={},s=t.find(">.rules-group-body>.rules-list>*");i.condition=t.find(">.rules-group-header input[name$=_cond]:checked").val();i.rules=[];for(var o=0,u=s.length;o<u;o++){var a=s.eq(o),f;if(a.hasClass("rule-container")){var l=n.getRuleFilter(a);if(l=="-1"){continue}var c=n.getFilterById(l),h=n.getOperatorByType(n.getRuleOperator(a)),p=null;if(h.accept_values){p=n.getRuleValue(a,c);if(c.valueParser){p=c.valueParser.call(this,a,p,c,h)}var d=n.validateValue(p,c);if(d!==true){n.markRuleAsError(a,true);n.triggerValidationError(d,a,p,c,h);return{}}}f={id:c.id,field:c.field,type:c.type,input:c.input,operator:h.type,value:p};i.rules.push(f)}else{f=r(a);if(!e.isEmptyObject(f)){i.rules.push(f)}else{return{}}}}if(i.rules.length===0){return{}}return i}(t)};i.prototype.getSQL=function(t,n,r){r=r===undefined?this.getRules():r;t=t===true||t===undefined?"question_mark":t;n=n||n===undefined?"\n":" ";var i=this,s=1,o=[];var u=function a(r){if(!r.condition){r.condition=i.settings.default_condition}if(["AND","OR"].indexOf(r.condition.toUpperCase())===-1){e.error("Unable to build SQL query with "+r.condition+" condition")}if(!r.rules){return""}var u=[];e.each(r.rules,function(r,f){if(f.rules&&f.rules.length>0){u.push("("+n+a(f)+n+")"+n)}else{var l=i.getOperatorByType(f.operator),c=i.parseOperatorSql(l.sql),h="";if(!(f.value instanceof Array)){f.value=[f.value]}else if(!c.list&&f.value.length>1){e.error("Operator "+f.operator+" cannot accept multiple values")}f.value.forEach(function(e,n){if(n>0){h+=", "}if(f.type=="integer"||f.type=="double"){e=i.changeType(e,f.type)}else if(!t){e=i.escapeString(e)}e=c.fn(e);if(t){if(t=="question_mark"){h+="?"}else{h+="$"+s}o.push(e);s++}else{if(typeof e==="string"){e="'"+e+"'"}h+=e}});u.push(f.field+" "+c.op.replace(/\?/,h))}});return u.join(" "+r.condition+n)}(r);if(t){return{sql:u,params:o}}else{return{sql:u}}};i.prototype.setRules=function(t){this.clear();var n=this.$el,r=this;(function i(t,n){var s=r.addGroup(n,false),o=s.find(">.rules-group-body>.rules-list"),u=s.find(">.rules-group-header input[name$=_cond]");if(!t.condition){t.condition=r.settings.default_condition}for(var a=0,f=r.settings.conditions.length;a<f;a++){var l=r.settings.conditions[a];u.filter("[value="+l+"]").prop("checked",t.condition.toUpperCase()==l.toUpperCase())}u.trigger("change");e.each(t.rules,function(t,n){if(n.rules&&n.rules.length>0){if(!r.settings.allow_groups){e.error("Groups are disabled")}else{i(n,o)}}else{if(!n.id){e.error("Missing rule field id")}if(!n.value){n.value=""}if(!n.operator){n.operator="equal"}var s=r.addRule(o),u=r.getFilterById(n.id),a=r.getOperatorByType(n.operator),f=s.find(".rule-value-container");s.find(".rule-filter-container select[name$=_filter]").val(n.id).trigger("change");s.find(".rule-operator-container select[name$=_operator]").val(n.operator).trigger("change");if(a.accept_values){switch(u.input){case"radio":f.find('input[name$=_value][value="'+n.value+'"]').prop("checked",true).trigger("change");break;case"checkbox":if(!e.isArray(n.value)){n.value=[n.value]}e.each(n.value,function(e,t){f.find('input[name$=_value][value="'+t+'"]').prop("checked",true).trigger("change")});break;case"select":f.find("select[name$=_value]").val(n.value).trigger("change");break;case"text":default:f.find("input[name$=_value]").val(n.value).trigger("change");break}if(n.readonly){s.find("input, select").prop("disabled",true);s.addClass("disabled").find("[data-delete=rule]").remove();if(r.settings.sortable&&!r.settings.readonly_behavior.sortable){s.find(".drag-handle").remove()}}}if(u.onAfterSetValue){u.onAfterSetValue.call(r,s,n.value,u,a)}}})})(t,n)};i.prototype.checkFilters=function(){var r=[],i=this;e.each(this.filters,function(i,s){if(!s.id){e.error("Missing filter id: "+i)}if(r.indexOf(s.id)!=-1){e.error("Filter already defined: "+s.id)}r.push(s.id);if(!s.type){e.error("Missing filter type: "+s.id)}if(t.indexOf(s.type)==-1){e.error("Invalid type: "+s.type)}if(!s.input){s.input="text"}else if(typeof s.input!="function"&&n.indexOf(s.input)==-1){e.error("Invalid input: "+s.input)}if(!s.field){s.field=s.id}if(!s.label){s.label=s.field}switch(s.type){case"string":s.internalType="string";break;case"integer":case"double":s.internalType="number";break;case"date":case"time":case"datetime":s.internalType="datetime";break;case"domain":s.internalType="domain";break}switch(s.input){case"radio":case"checkbox":if(!s.values||s.values.length<1){e.error("Missing values for filter: "+s.id)}break}})};i.prototype.addGroup=function(t,n){var r=this.nextGroupId(),i=r==this.$el_id+"_group_0",s=e(this.template.group.call(this,r,i));t.append(s);if(this.settings.onAfterAddGroup){this.settings.onAfterAddGroup.call(this,s)}if(n===undefined||n===true){this.addRule(s.find(">.rules-group-body>.rules-list"))}return s};i.prototype.deleteGroup=function(t){if(t[0].id==this.$el_id+"_group_0"){return}if(this.settings.readonly_behavior.delete_group){t.remove()}var n=this,r=false;t.find(">.rules-group-body>.rules-list>*").each(function(){var t=e(this);if(t.hasClass("rule-container")){if(t.hasClass("disabled")){r=true}else{t.remove()}}else{n.deleteGroup(t)}});if(!r){t.remove()}};i.prototype.addRule=function(t){var n=this.nextRuleId(),r=e(this.template.rule.call(this,n)),i=e(this.getRuleFilterSelect(n));t.append(r);r.find(".rule-filter-container").append(i);if(this.settings.onAfterAddRule){this.settings.onAfterAddRule.call(this,r)}setQueryElementsStyle();return r};i.prototype.createRuleOperators=function(t,n){var r=t.find(".rule-operator-container").empty();if(n=="-1"){return}var i=this.getOperators(n),s=e(this.getRuleOperatorSelect(t.attr("id"),i));r.html(s);setQueryElementsStyle()};i.prototype.createRuleInput=function(t,n){var r=t.find(".rule-value-container").empty();if(n=="-1"){return}var i=this.getOperatorByType(this.getRuleOperator(t));if(!i.accept_values){return}var s=this.getFilterById(n),o=e(this.getRuleInput(t.attr("id"),s));r.append(o).show();if(s.onAfterCreateRuleInput){s.onAfterCreateRuleInput.call(this,t,s)}if(s.plugin){o[s.plugin](s.plugin_config||{})}if(s.type=="domain"){o.kendoAutoComplete({dataTextField:"name",filter:"contains",template:'<div class="autocomplete-row"><h4>#: data.name #</h4><span>#: data.typeString #</span></div>',dataSource:{serverFiltering:true,transport:{type:"odata",read:{url:s.dataUrl,dataType:"json",type:"POST"},parameterMap:function(e,t){if(t==="read"){var n=angular.element(document.getElementById("ngController")).scope();if(n)e.currentData=n.autoCompleteList.toJSON();return e}else{return e}}},schema:{data:"data"}}})}else{var u=angular.element(document.getElementById("ngController")).scope();o.kendoAutoComplete({dataSource:u.autoCompleteList,dataTextField:"name",filter:"contains",template:'<div class="autocomplete-row"><h4>#: data.name #</h4><span>#: data.typeString #</span></div>'})}setQueryElementsStyle()};i.prototype.updateRuleOperator=function(e,t){var n=e.find(".rule-value-container"),r=this.getFilterById(this.getRuleFilter(e)),i=this.getOperatorByType(t);if(!i.accept_values){n.hide()}else{n.show();if(n.is(":empty")){this.createRuleInput(e,r.id)}}if(r.onAfterChangeOperator){r.onAfterChangeOperator.call(this,e,r,i)}};i.prototype.validateValue=function(e,t){var n=t.validation||{};if(n.callback){return n.callback.call(this,e,t)}switch(t.input){case"radio":if(e===undefined){return"radio_empty"}break;case"checkbox":if(e.length===0){return"checkbox_empty"}break;case"select":if(t.multiple){if(e.length===0){return"select_empty"}}else{if(e===undefined){return"select_empty"}}break;case"text":default:switch(t.internalType){case"string":if(n.min!==undefined){if(e.length<n.min){return"string_exceed_min_length"}}else if(e.length===0){return"string_empty"}if(n.max!==undefined){if(e.length>n.max){return"string_exceed_max_length"}}if(n.format){if(!n.format.test(e)){return"string_invalid_format"}}break;case"number":if(isNaN(e)){return"number_nan"}if(t.type=="integer"){if(parseInt(e)!=e){return"number_not_integer"}}else{if(parseFloat(e)!=e){return"number_not_double"}}if(n.min!==undefined){if(e<n.min){return"number_exceed_min"}}if(n.max!==undefined){if(e>n.max){return"number_exceed_max"}}if(n.step){var r=e/n.step;if(parseInt(r)!=r){return"number_wrong_step"}}break;case"datetime":if(window.moment){if(n.format){var i=moment(e,n.format);if(!i.isValid()){return"datetime_invalid"}else{if(n.min){if(i<moment(n.min,n.format)){return"datetime_exceed_min"}}if(n.max){if(i>moment(n.max,n.format)){return"datetime_exceed_max"}}}}}break}}return true};i.prototype.markRuleAsError=function(e,t){if(t){e.addClass("has-error")}else{e.removeClass("has-error")}};i.prototype.triggerValidationError=function(e,t,n,r,i){if(r.onValidationError){r.onValidationError.call(this,t,e,n,r,i)}if(this.settings.onValidationError){this.settings.onValidationError.call(this,t,e,n,r,i)}var s=jQuery.Event("validationError.queryBuilder",{error:e,filter:r,operator:i,value:n,targetRule:t[0],builder:this});this.$el.trigger(s)};i.prototype.initSortable=function(){e.event.props.push("dataTransfer");var t,n,r=false;this.$el.on("mousedown",".drag-handle",function(e){r=true});this.$el.on("mouseup",".drag-handle",function(e){r=false});this.$el.on("dragstart","[draggable]",function(i){i.stopPropagation();if(r){r=false;i.dataTransfer.setData("text","drag");n=e(i.target);t=e('<div class="rule-placeholder">&nbsp;</div>');t.css("min-height",n.height());t.insertAfter(n);setTimeout(function(){n.hide()},0)}else{i.preventDefault()}});this.$el.on("dragenter","[draggable]",function(n){n.preventDefault();n.stopPropagation();var r=e(n.target),i;i=r.closest(".rule-container");if(i.length){t.detach().insertAfter(i);return}i=r.closest(".rules-group-container");if(i.length){t.detach().appendTo(i.find(".rules-list").eq(0));return}});this.$el.on("dragover","[draggable]",function(e){e.preventDefault();e.stopPropagation()});this.$el.on("drop",function(t){t.preventDefault();t.stopPropagation();var r=e(t.target),i;i=r.closest(".rule-container");if(i.length){n.detach().insertAfter(i);return}i=r.closest(".rules-group-container");if(i.length){n.detach().appendTo(i.find(".rules-list").eq(0));return}});this.$el.on("dragend","[draggable]",function(e){e.preventDefault();e.stopPropagation();n.show();t.remove()})};i.prototype.nextGroupId=function(){return this.$el_id+"_group_"+this.status.group_id++};i.prototype.nextRuleId=function(){return this.$el_id+"_rule_"+this.status.rule_id++};i.prototype.getOperators=function(e){if(typeof e=="string"){e=this.getFilterById(e)}var t=[];for(var n=0,r=this.operators.length;n<r;n++){if(this.operators[n].apply_to.indexOf(e.internalType)==-1){continue}if(e.operators){if(e.operators.indexOf(this.operators[n].type)==-1){continue}}t.push({type:this.operators[n].type,label:this.lang["operator_"+this.operators[n].type]||this.operators[n].type})}if(e.operators){t.sort(function(t,n){return e.operators.indexOf(t.type)-e.operators.indexOf(n.type)})}return t};i.prototype.getFilterById=function(e){for(var t=0,n=this.filters.length;t<n;t++){if(this.filters[t].id==e){return this.filters[t]}}throw"Undefined filter: "+e};i.prototype.getOperatorByType=function(e){for(var t=0,n=this.operators.length;t<n;t++){if(this.operators[t].type==e){return this.operators[t]}}throw"Undefined operator: "+e};i.prototype.getRuleFilter=function(e){return e.find(".rule-filter-container select[name$=_filter]").val()};i.prototype.getRuleOperator=function(e){return e.find(".rule-operator-container select[name$=_operator]").val()};i.prototype.getRuleValue=function(t,n){n=n||this.getFilterByType(this.getRulefilter(t));var r,i=t.find(".rule-value-container");switch(n.input){case"radio":r=i.find("input[name$=_value]:checked").val();break;case"checkbox":r=[];i.find("input[name$=_value]:checked").each(function(){r.push(e(this).val())});break;case"select":if(n.multiple){r=[];i.find("select[name$=_value] option:selected").each(function(){r.push(e(this).val())})}else{r=i.find("select[name$=_value] option:selected").val()}break;case"text":default:r=i.find("input[name$=_value]").val()}return r};i.prototype.parseOperatorSql=function(e){if(typeof e==="string"){e={op:e}}if(!e.fn){e.fn=r}if(!e.list){e.list=false}return e};i.prototype.changeType=function(e,t){switch(t){case"integer":return parseInt(e);case"double":return parseFloat(e);default:return e}};i.prototype.escapeString=function(e){return e.replace(/[\0\n\r\b\t\\\'\"\x1a]/g,function(e){switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"":return"\\Z";default:return"\\"+e}})};i.prototype.getGroupTemplate=function(e,t){var n='<dl id="'+e+'" class="rules-group-container" '+(this.settings.sortable?'draggable="true"':"")+'>   <dt class="rules-group-header">     <div class="btn-group pull-right">       <button type="button" class="btn btn-xs btn-success" data-add="rule"><i class="glyphicon glyphicon-plus"></i> '+this.lang.add_rule+"</button>       "+(this.settings.allow_groups?'<button type="button" class="btn btn-xs btn-success" data-add="group"><i class="glyphicon glyphicon-plus-sign"></i> '+this.lang.add_group+"</button>":"")+"       "+(!t?'<button type="button" class="btn btn-xs btn-danger" data-delete="group"><i class="glyphicon glyphicon-remove"></i> '+this.lang.delete_group+"</button>":"")+'     </div>     <div class="btn-group">       '+this.getGroupConditions(e)+"     </div>     "+(this.settings.sortable&&!t?'<div class="drag-handle"><i class="glyphicon glyphicon-sort"></i></div>':"")+"   </dt>   <dd class=rules-group-body>     <ul class=rules-list></ul>   </dd> </dl>";return n};i.prototype.getGroupConditions=function(e){var t="";for(var n=0,r=this.settings.conditions.length;n<r;n++){var i=this.settings.conditions[n],s=i==this.settings.default_condition,o=this.lang["condition_"+i.toLowerCase()]||i;t+='<label class="btn btn-xs btn-primary '+(s?"active":"")+'"><input type="radio" name="'+e+'_cond" value="'+i+'" '+(s?"checked":"")+"> "+o+"</label>"}return t};i.prototype.getRuleTemplate=function(e){var t='<li id="'+e+'" class="rule-container" '+(this.settings.sortable?'draggable="true"':"")+'>   <div class="rule-header">     <div class="btn-group pull-right">       <button type="button" class="btn btn-xs btn-danger" data-delete="rule"><i class="glyphicon glyphicon-remove"></i> '+this.lang.delete_rule+"</button>     </div>   </div>   "+(this.settings.sortable?'<div class="drag-handle"><i class="glyphicon glyphicon-sort"></i></div>':"")+'   <div class="rule-filter-container"></div>   <div class="rule-operator-container"></div>   <div class="rule-value-container"></div> </li>';return t};i.prototype.getRuleFilterSelect=function(t){var n='<select name="'+t+'_filter">';n+='<option value="-1">'+this.lang.filter_select_placeholder+"</option>";e.each(this.filters,function(e,t){n+='<option value="'+t.id+'">'+t.label+"</option>"});n+="</select>";return n};i.prototype.getRuleOperatorSelect=function(e,t){var n='<select name="'+e+'_operator">';for(var r=0,i=t.length;r<i;r++){n+='<option value="'+t[r].type+'">'+t[r].label+"</option>"}n+="</select>";return n};i.prototype.getRuleInput=function(t,n){if(typeof n.input=="function"){var r=this.$el.find("#"+t);return n.input.call(this,r,n)}var i=n.validation||{},s="",o;switch(n.input){case"radio":o=n.vertical?" class=block":"";e.each(n.values,function(e,n){s+="<label"+o+'><input type="radio" name="'+t+'_value" value="'+e+'"> '+n+"</label> "});break;case"checkbox":o=n.vertical?" class=block":"";e.each(n.values,function(e,n){s+="<label"+o+'><input type="checkbox" name="'+t+'_value" value="'+e+'"> '+n+"</label> "});break;case"select":s+='<select name="'+t+'_value"'+(n.multiple?" multiple":"")+">";if(n.values){e.each(n.values,function(e,t){s+='<option value="'+e+'"> '+t+"</option> "})}s+="</select>";break;case"text":default:switch(n.internalType){case"number":s+='<input type="number" name="'+t+'_value"';if(i.step)s+=' step="'+i.step+'"';if(i.min)s+=' min="'+i.min+'"';if(i.max)s+=' max="'+i.max+'"';if(n.placeholder)s+=' placeholder="'+n.placeholder+'"';s+=">";break;case"datetime":case"text":default:s+='<input type="text" name="'+t+'_value"';if(n.placeholder)s+=' placeholder="'+n.placeholder+'"';s+=">"}}return s};e.fn.queryBuilder=function(t){if(this.length>1){e.error("Unable to initialize on multiple target")}var n=this.data("queryBuilder"),r=typeof t=="object"&&t||{};if(!n&&t=="destroy"){return this}if(!n){this.data("queryBuilder",new i(this,r))}if(typeof t=="string"){return n[t].apply(n,Array.prototype.slice.call(arguments,1))}return this};e.fn.queryBuilder.defaults={set:function(t){e.extend(true,i.DEFAULTS,t)},get:function(t){var n=i.DEFAULTS;if(t){n=n[t]}return e.extend(true,{},n)}}})(jQuery)