(function(e){e.fn.scrollPagination=function(t){var n=e.extend(e.fn.scrollPagination.defaults,t);var r=n.scrollTarget;if(r==null){r=obj}n.scrollTarget=r;return this.each(function(){e.fn.scrollPagination.init(e(this),n)})};e.fn.stopScrollPagination=function(){return this.each(function(){e(this).attr("scrollPagination","disabled")})};var t=-1;e.fn.scrollPagination.loadContent=function(n,r){var i=r.scrollTarget;var s=e(i).scrollTop()+r.heightOffset>=e(document).height()-e(i).height();if(s){if(r.beforeLoad!=null){r.beforeLoad()}e(n).children().attr("rel","loaded");var o=e(n).children().size();if(t<o){t=o;e.ajax({type:"POST",url:r.contentPage,data:{skip:o},success:function(t){e(n).append(t);var i=e(n).children("[rel!=loaded]");if(r.afterLoad!=null){r.afterLoad(i)}if(t==""){e(n).removeAttr("scrollPagination")}},dataType:"html"})}}};e.fn.scrollPagination.init=function(t,n){var r=n.scrollTarget;e(t).attr("scrollPagination","enabled");e(r).scroll(function(r){if(e(t).attr("scrollPagination")=="enabled"){e.fn.scrollPagination.loadContent(t,n)}else{r.stopPropagation()}});e.fn.scrollPagination.loadContent(t,n)};e.fn.scrollPagination.defaults={contentPage:null,contentData:{},beforeLoad:null,afterLoad:null,scrollTarget:null,heightOffset:0}})(jQuery)