(function(e){"use strict";var t=e(window),n=function(t,n){t.each(function(){if(e(this).hasClass("number"))e(this).addClass(n.errorElementClass).removeClass("valid").parent().parent().addClass("has-error").removeClass("has-success");else e(this).addClass(n.errorElementClass).removeClass("valid").parent().addClass("has-error").removeClass("has-success")});if(n.borderColorOnError!==""){t.css("border-color",n.borderColorOnError)}},r=function(t,n){t.each(function(){i(e(this),"",n,n.errorMessagePosition);if(this.type=="textarea"){e(this).removeClass("valid").removeClass(n.errorElementClass).css("border-color","").parent().removeClass("has-error");e(this).removeClass("valid").removeClass(n.errorElementClass).css("border-color","").parent().parent().parent().removeClass("has-error").removeClass("has-success").find("."+n.errorMessageClass).remove()}else if(e(this).hasClass("number")){e(this).removeClass("valid").removeClass(n.errorElementClass).css("border-color","").parent().parent().removeClass("has-error");e(this).removeClass("valid").removeClass(n.errorElementClass).css("border-color","").parent().parent().parent().parent().parent().removeClass("has-error").removeClass("has-success").find("."+n.errorMessageClass).remove()}else e(this).removeClass("valid").removeClass(n.errorElementClass).css("border-color","").parent().parent().removeClass("has-error").removeClass("has-success").find("."+n.errorMessageClass).remove()})},i=function(t,n,r,i){var o=s(t);if(o){o.innerHTML=n}else if(typeof i=="object"){var u=false;i.find("."+r.errorMessageClass).each(function(){if(this.inputReferer==t[0]){u=e(this);return false}});if(u){if(!n){u.remove()}else{u.html(n)}}else{var a=e('<div class="'+r.errorMessageClass+'">'+n+"</div>");a[0].inputReferer=t[0];i.prepend(a)}}else{var a=t.parent().parent().find(".help").find("."+r.errorMessageClass+".help-block");if(a.length==0){a=e("<span></span>").addClass("help-block").addClass(r.errorMessageClass);if(e(t).get(0).type=="textarea")a.appendTo(t.parent().parent().parent().find(".help"));else if(e(e(t).get(0)).hasClass("number"))a.appendTo(t.parent().parent().parent().parent().parent().find(".help"));else a.appendTo(t.parent().parent().find(".help"))}a.html(n)}},s=function(e,t){return document.getElementById(e.attr("name")+"_err_msg")},o=function(t,n,r,i){var s=i.errorMessageTemplate.messages.replace(/\{errorTitle\}/g,n);var o=[];e.each(r,function(e,t){o.push(i.errorMessageTemplate.field.replace(/\{msg\}/g,t))});s=s.replace(/\{fields\}/g,o.join(""));var u=i.errorMessageTemplate.container.replace(/\{errorMessageClass\}/g,i.errorMessageClass);u=u.replace(/\{messages\}/g,s);t.children().eq(0).before(u)};e.fn.validateOnBlur=function(t,n){this.find("input[data-validation],textarea[data-validation],select[data-validation]").bind("blur.validation",function(){e(this).validateInputOnBlur(t,n)});return this};e.fn.validateOnEvent=function(t,n){this.find("input[data-validation][data-validation-event],textarea[data-validation][data-validation-event],select[data-validation][data-validation-event]").each(function(){var r=e(this),i=r.attr("data-validation-event");if(i){r.bind(i+".validation",function(){e(this).validateInputOnBlur(t,n,false,i)})}});return this};e.fn.showHelpOnFocus=function(t){if(!t){t="data-validation-help"}this.find(".has-help-txt").valAttr("has-keyup-event",false).valAttr("backend-valid",false).valAttr("backend-invalid",false).removeClass("has-help-txt");this.find("textarea,input").each(function(){var n=e(this),r="jquery_form_help_"+(n.attr("name")||"").replace(/(:|\.|\[|\])/g,""),i=n.attr(t);if(i){n.addClass("has-help-txt").unbind("focus.help").bind("focus.help",function(){var t=n.parent().find("."+r);if(t.length==0){t=e("<span />").addClass(r).addClass("help").addClass("help-block").text(i).hide();n.after(t)}t.fadeIn()}).unbind("blur.help").bind("blur.help",function(){e(this).parent().find("."+r).fadeOut("slow")})}});return this};e.fn.validateInputOnBlur=function(t,s,o,u){if(o===undefined)o=true;if(!u)u="blur";if((this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!window.postponedValidation){var a=this,f=this.valAttr("postpone")||200;window.postponedValidation=function(){a.validateInputOnBlur(t,s,o);window.postponedValidation=false};setTimeout(function(){if(window.postponedValidation){window.postponedValidation()}},f);return this}t=e.extend({},e.formUtils.LANG,t||{});r(this,s);var l=this,c=l.closest("form"),h=l.attr(s.validationRuleAttribute),p=e.formUtils.validateInput(l,t,e.extend({},s,{errorMessagePosition:"element"}),c,u);l.trigger("validation",[p===null?null:p===true]);if(p===true){l.addClass("valid").parent().addClass("has-success")}else if(p!==null){n(l,s);i(l,p,s,s.errorMessagePosition);if(o){l.bind("keyup",function(){e(this).validateInputOnBlur(t,s,false,"keyup")})}}return this};e.fn.valAttr=function(e,t){if(t===undefined){return this.attr("data-validation-"+e)}else if(t===false||t===null){return this.removeAttr("data-validation-"+e)}else{if(e.length>0)e="-"+e;return this.attr("data-validation"+e,t)}};e.fn.isValid=function(s,u,a){if(e.formUtils.isLoadingModules){var f=this;setTimeout(function(){f.isValid(s,u,a)},200);return null}u=e.extend({},e.formUtils.defaultConfig(),u||{});s=e.extend({},e.formUtils.LANG,s||{});a=a!==false;e.formUtils.isValidatingEntireForm=true;e.formUtils.haltValidation=false;var l=function(t,r){if(t!==null){if(e.inArray(t,c)<0){c.push(t)}h.push(r);r.attr("current-error",t);if(a)n(r,u)}},c=[],h=[],p=this,d=function(t,n){if(n==="submit"||n==="button"||n=="reset"){return true}return e.inArray(t,u.ignore||[])>-1};if(a){p.find("."+u.errorMessageClass+".alert").remove();r(p.find("."+u.errorElementClass+",.valid"),u)}p.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var t=e(this);var n=t.attr("type");if(!d(t.attr("name"),n)){var r=e.formUtils.validateInput(t,s,u,p,"submit");t.trigger("validation",[r===true]);if(typeof u.onElementValidate=="function"){u.onElementValidate(r===true,t,p,r)}if(r!==true){l(r,t)}else{t.valAttr("current-error",false).addClass("valid").parent().addClass("has-success")}}});if(typeof u.onValidate=="function"){var v=u.onValidate(p);if(e.isArray(v)){e.each(v,function(e,t){l(t.message,t.element)})}else if(v&&v.element&&v.message){l(v.message,v.element)}}e.formUtils.isValidatingEntireForm=false;if(!e.formUtils.haltValidation&&h.length>0){if(a){if(u.errorMessagePosition==="top"){o(p,s.errorTitle,c,u)}else if(u.errorMessagePosition==="custom"){if(typeof u.errorMessageCustom==="function"){u.errorMessageCustom(p,s.errorTitle,c,u)}}else{e.each(h,function(e,t){i(t,t.attr("current-error"),u,u.errorMessagePosition)})}if(u.scrollToTopOnError){t.scrollTop(p.offset().top-20)}}return false}return!e.formUtils.haltValidation};e.fn.validateForm=function(e,t){if(window.console&&typeof window.console.warn=="function"){window.console.warn("Use of deprecated function $.validateForm, use $.isValid instead")}return this.isValid(e,t,true)};e.fn.restrictLength=function(t){new e.formUtils.lengthRestriction(this,t);return this};e.fn.addSuggestions=function(t){var n=false;this.find("input").each(function(){var r=e(this);n=e.split(r.attr("data-suggestions"));if(n.length>0&&!r.hasClass("has-suggestions")){e.formUtils.suggest(r,n,t);r.addClass("has-suggestions")}});return this};e.split=function(t,n,r){if(typeof n!="function"){if(!t)return[];var i=[];e.each(t.split(n?n:","),function(t,n){n=e.trim(n);if(n.length)i.push(n)});return i}else if(t){if(!r)r=",";e.each(t.split(r),function(t,r){r=e.trim(r);if(r.length)return n(r,t)})}};e.validate=function(n){var i=e.extend(e.formUtils.defaultConfig(),{form:"form",validateOnEvent:true,validateOnBlur:true,showHelpOnFocus:true,addSuggestions:true,modules:"",onModulesLoaded:null,language:false,onSuccess:false,onError:false,onElementValidate:false});n=e.extend(i,n||{});e.split(n.form,function(i){var s=e(i);t.trigger("formValidationSetup",[s]);s.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation");s.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation");s.bind("submit.validation",function(){var t=e(this);if(e.formUtils.isLoadingModules){setTimeout(function(){t.trigger("submit.validation")},200);return false}var r=t.isValid(n.language,n);if(r&&typeof n.onSuccess=="function"){var i=n.onSuccess(t);if(i===false)return false}else if(!r&&typeof n.onError=="function"){n.onError(t);return false}else{return r}}).bind("reset.validation",function(){e(this).find("."+n.errorMessageClass+".alert").remove();r(e(this).find("."+n.errorElementClass+",.valid"),n)}).addClass("has-validation-callback");if(n.showHelpOnFocus){s.showHelpOnFocus()}if(n.addSuggestions){s.addSuggestions()}if(n.validateOnBlur){s.validateOnBlur(n.language,n);s.bind("html5ValidationAttrsFound",function(){s.validateOnBlur(n.language,n)})}if(n.validateOnEvent){s.validateOnEvent(n.language,n)}});if(n.modules!=""){if(typeof n.onModulesLoaded=="function"){t.one("validatorsLoaded",n.onModulesLoaded)}e.formUtils.loadModules(n.modules)}};e.formUtils={defaultConfig:function(){return{ignore:[],errorElementClass:"error",borderColorOnError:"#bc3100",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"element",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},errorMessageCustom:o,scrollToTopOnError:true,dateFormat:"yyyy-mm-dd",addValidClassOnAll:false,decimalSeparator:"."}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:false,isValidatingEntireForm:false,addValidator:function(e){var t=e.name.indexOf("validate_")===0?e.name:"validate_"+e.name;if(e.validateOnKeyUp===undefined)e.validateOnKeyUp=true;this.validators[t]=e},isLoadingModules:false,loadedModules:{},loadModules:function(n,r,i){if(i===undefined)i=true;if(e.formUtils.isLoadingModules){setTimeout(function(){e.formUtils.loadModules(n,r,i)});return}var s=false,o=function(n,r){var o=e.split(n),u=o.length,a=function(){u--;if(u==0){e.formUtils.isLoadingModules=false;if(i&&s){t.trigger("validatorsLoaded")}}};if(u>0){e.formUtils.isLoadingModules=true}var f="?__="+(new Date).getTime(),l=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];e.each(o,function(t,n){n=e.trim(n);if(n.length==0){a()}else{var i=r+n+(n.substr(-3)==".js"?"":".js"),o=document.createElement("SCRIPT");if(i in e.formUtils.loadedModules){a()}else{e.formUtils.loadedModules[i]=1;s=true;o.type="text/javascript";o.onload=a;o.src=i+(i.substr(-7)==".dev.js"?f:"");o.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){a();this.onload=null;this.onreadystatechange=null}};l.appendChild(o)}}})};if(r){o(n,r)}else{var u=function(){var t=false;e("script").each(function(){if(this.src){var e=this.src.substr(this.src.lastIndexOf("/")+1,this.src.length);if(e.indexOf("jquery.form-validator.js")>-1||e.indexOf("jquery.form-validator.min.js")>-1){t=this.src.substr(0,this.src.lastIndexOf("/"))+"/";if(t=="/")t="";return false}}});if(t!==false){o(n,t);return true}return false};if(!u()){e(u)}}},validateInput:function(t,n,r,i,s){if(t.attr("disabled"))return null;t.trigger("beforeValidation");var o=e.trim(t.val()||""),u=t.valAttr("optional"),a=false,f=false,l=false,c=t.valAttr("if-checked");if(c!=null){a=true;l=i.find('input[name="'+c+'"]');if(l.prop("checked")){f=true}}if(!o&&u==="true"||a&&!f){return r.addValidClassOnAll?true:null}var h=t.attr(r.validationRuleAttribute),p=true;if(!h){return r.addValidClassOnAll?true:null}e.split(h,function(u){if(u.indexOf("validate_")!==0){u="validate_"+u}var a=e.formUtils.validators[u];if(a&&typeof a["validatorFunction"]=="function"){if(u=="validate_checkbox_group"){t=e("[name='"+t.attr("name")+"']:eq(0)")}var f=true;if(s!="keyup"||a.validateOnKeyUp){f=a.validatorFunction(o,t,r,n,i)}if(!f){p=t.attr(r.validationErrorMsgAttribute+"-"+u.replace("validate_",""));if(!p){p=t.attr(r.validationErrorMsgAttribute);if(!p){p=n[a.errorMessageKey];if(!p)p=a.errorMessage}}return false}}else{console.warn('Using undefined validator "'+u+'"')}}," ");if(typeof p=="string"){return p}else{return true}},parseDate:function(t,n){var r=n.replace(/[a-zA-Z]/gi,"").substring(0,1),i="^",s=n.split(r),o,u,a,f;e.each(s,function(e,t){i+=(e>0?"\\"+r:"")+"(\\d{"+t.length+"})"});i+="$";o=t.match(new RegExp(i));if(o===null){return false}var l=function(t,n,r){for(var i=0;i<n.length;i++){if(n[i].substring(0,1)===t){return e.formUtils.parseDateInt(r[i+1])}}return-1};a=l("m",s,o);u=l("d",s,o);f=l("y",s,o);if(a===2&&u>28&&(f%4!==0||f%100===0&&f%400!==0)||a===2&&u>29&&(f%4===0||f%100!==0&&f%400===0)||a>12||a===0){return false}if(this.isShortMonth(a)&&u>30||!this.isShortMonth(a)&&u>31||u===0){return false}return[f,a,u]},parseDateInt:function(e){if(e.indexOf("0")===0){e=e.replace("0","")}return parseInt(e,10)},isShortMonth:function(e){return e%2===0&&e<7||e%2!==0&&e>7},lengthRestriction:function(t,n){var r=parseInt(n.text(),10),i=0,s=function(){var e=t.val().length;if(e>r){var s=t.scrollTop();t.val(t.val().substring(0,r));t.scrollTop(s)}i=r-e;if(i<0)i=0;n.text(i)};e(t).bind("keydown keyup keypress focus blur",s).bind("cut paste",function(){setTimeout(s,100)});e(document).bind("ready",s)},numericRangeCheck:function(t,n){var r=e.split(n,"-");var i=parseInt(n.substr(3),10);if(r.length==2&&(t<parseInt(r[0],10)||t>parseInt(r[1],10))){return["out",r[0],r[1]]}else if(n.indexOf("min")===0&&t<i){return["min",i]}else if(n.indexOf("max")===0&&t>i){return["max",i]}else{return["ok"]}},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(n,r,i){var s={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},o=function(e,t){var n=t.offset();e.css({width:t.outerWidth(),left:n.left+"px",top:n.top+t.outerHeight()+"px"})};if(i)e.extend(s,i);s.css["position"]="absolute";s.css["z-index"]=9999;n.attr("autocomplete","off");if(this._numSuggestionElements===0){t.bind("resize",function(){e(".jquery-form-suggestions").each(function(){var t=e(this),n=t.attr("data-suggest-container");o(t,e(".suggestions-"+n).eq(0))})})}this._numSuggestionElements++;var u=function(t){var n=t.valAttr("suggestion-nr");e.formUtils._selectedSuggestion=null;e.formUtils._previousTypedVal=null;e(".jquery-form-suggestion-"+n).fadeOut("fast")};n.data("suggestions",r).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){e(this).trigger("keyup");e.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var t=e(this),r=[],i=e.trim(t.val()).toLocaleLowerCase();if(i==e.formUtils._previousTypedVal){return}else{e.formUtils._previousTypedVal=i}var a=false,f=t.valAttr("suggestion-nr"),l=e(".jquery-form-suggestion-"+f);l.scrollTop(0);if(i!=""){var c=i.length>2;e.each(t.data("suggestions"),function(e,t){var n=t.toLocaleLowerCase();if(n==i){r.push("<strong>"+t+"</strong>");a=true;return false}else if(n.indexOf(i)===0||c&&n.indexOf(i)>-1){r.push(t.replace(new RegExp(i,"gi"),"<strong>$&</strong>"))}})}if(a||r.length==0&&l.length>0){l.hide()}else if(r.length>0&&l.length==0){l=e("<div></div>").css(s.css).appendTo("body");n.addClass("suggestions-"+f);l.attr("data-suggest-container",f).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+f)}else if(r.length>0&&!l.is(":visible")){l.show()}if(r.length>0&&i.length!=r[0].length){o(l,t);l.html("");e.each(r,function(n,r){e("<div></div>").append(r).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(l).click(function(){t.focus();t.val(e(this).text());u(t)})})}}).unbind("keydown.validation").bind("keydown.validation",function(t){var n=t.keyCode?t.keyCode:t.which,r,i,o=e(this);if(n==13&&e.formUtils._selectedSuggestion!==null){r=o.valAttr("suggestion-nr");i=e(".jquery-form-suggestion-"+r);if(i.length>0){var a=i.find("div").eq(e.formUtils._selectedSuggestion).text();o.val(a);u(o);t.preventDefault()}}else{r=o.valAttr("suggestion-nr");i=e(".jquery-form-suggestion-"+r);var f=i.children();if(f.length>0&&e.inArray(n,[38,40])>-1){if(n==38){if(e.formUtils._selectedSuggestion===null)e.formUtils._selectedSuggestion=f.length-1;else e.formUtils._selectedSuggestion--;if(e.formUtils._selectedSuggestion<0)e.formUtils._selectedSuggestion=f.length-1}else if(n==40){if(e.formUtils._selectedSuggestion===null)e.formUtils._selectedSuggestion=0;else e.formUtils._selectedSuggestion++;if(e.formUtils._selectedSuggestion>f.length-1)e.formUtils._selectedSuggestion=0}var l=i.innerHeight(),c=i.scrollTop(),h=i.children().eq(0).outerHeight(),p=h*e.formUtils._selectedSuggestion;if(p<c||p>c+l){i.scrollTop(p)}f.removeClass("active-suggestion").css("background","none").eq(e.formUtils._selectedSuggestion).addClass("active-suggestion").css(s.activeSuggestionCSS);t.preventDefault();return false}}}).unbind("blur.suggest").bind("blur.suggest",function(){u(e(this))});return n},LANG:{errorTitle:"Form submission failed!",requiredFields:"لطفاً مقدار این فیلد را وارد نمایید.",badTime:"You have not given a correct time",badEmail:"آدرس پست الکترونیک وارد شده صحیح نمی باشد.",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"You must give an answer between ",lengthBadEnd:" characters",lengthTooLongStart:"You have given an answer longer than ",lengthTooShortStart:"You have given an answer shorter than ",notConfirmed:"رمز عبورهای وارد شده مطابقت ندارند.",badDomain:"Incorrect domain value",badUrl:"The answer you gave was not a correct URL",badCustomVal:"You gave an incorrect answer",badInt:"The answer you gave was not a correct number",badSecurityNumber:"Your isVsocial security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The answer you gave must contain only alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large",wrongFileType:"The file you are trying to upload is of wrong type",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct"}};e.formUtils.addValidator({name:"email",validatorFunction:function(t){var n=t.toLowerCase().split("@");if(n.length==2){return e.formUtils.validators.validate_domain.validatorFunction(n[1])&&!/[^\w\+\.\-]/.test(n[0])}return false},errorMessage:"",errorMessageKey:"badEmail"});e.formUtils.addValidator({name:"domain",validatorFunction:function(e,t){var n=[".ac",".ad",".ae",".aero",".af",".ag",".ai",".al",".am",".an",".ao",".aq",".ar",".arpa",".as",".asia",".at",".au",".aw",".ax",".az",".ba",".bb",".bd",".be",".bf",".bg",".bh",".bi",".bike",".biz",".bj",".bm",".bn",".bo",".br",".bs",".bt",".bv",".bw",".by",".bz",".ca",".camera",".cat",".cc",".cd",".cf",".cg",".ch",".ci",".ck",".cl",".clothing",".cm",".cn",".co",".com",".construction",".contractors",".coop",".cr",".cu",".cv",".cw",".cx",".cy",".cz",".de",".diamonds",".directory",".dj",".dk",".dm",".do",".dz",".ec",".edu",".ee",".eg",".enterprises",".equipment",".er",".es",".estate",".et",".eu",".fi",".fj",".fk",".fm",".fo",".fr",".ga",".gallery",".gb",".gd",".ge",".gf",".gg",".gh",".gi",".gl",".gm",".gn",".gov",".gp",".gq",".gr",".graphics",".gs",".gt",".gu",".guru",".gw",".gy",".hk",".hm",".hn",".holdings",".hr",".ht",".hu",".id",".ie",".il",".im",".in",".info",".int",".io",".iq",".ir",".is",".it",".je",".jm",".jo",".jobs",".jp",".ke",".kg",".kh",".ki",".kitchen",".km",".kn",".kp",".kr",".kw",".ky",".kz",".la",".land",".lb",".lc",".li",".lighting",".lk",".lr",".ls",".lt",".lu",".lv",".ly",".ma",".mc",".md",".me",".menu",".mg",".mh",".mil",".mk",".ml",".mm",".mn",".mo",".mobi",".mp",".mq",".mr",".ms",".mt",".mu",".museum",".mv",".mw",".mx",".my",".mz",".na",".name",".nc",".ne",".net",".nf",".ng",".ni",".nl",".no",".np",".nr",".nu",".nz",".om",".org",".pa",".pe",".pf",".pg",".ph",".photography",".pk",".pl",".plumbing",".pm",".pn",".post",".pr",".pro",".ps",".pt",".pw",".py",".qa",".re",".ro",".rs",".ru",".rw",".sa",".sb",".sc",".sd",".se",".sexy",".sg",".sh",".si",".singles",".sj",".sk",".sl",".sm",".sn",".so",".sr",".st",".su",".sv",".sx",".sy",".sz",".tattoo",".tc",".td",".technology",".tel",".tf",".tg",".th",".tips",".tj",".tk",".tl",".tm",".tn",".to",".today",".tp",".tr",".travel",".tt",".tv",".tw",".tz",".ua",".ug",".uk",".uno",".us",".uy",".uz",".va",".vc",".ve",".ventures",".vg",".vi",".vn",".voyage",".vu",".wf",".ws",".xn--3e0b707e",".xn--45brj9c",".xn--80ao21a",".xn--80asehdb",".xn--80aswg",".xn--90a3ac",".xn--clchc0ea0b2g2a9gcd",".xn--fiqs8s",".xn--fiqz9s",".xn--fpcrj9c3d",".xn--fzc2c9e2c",".xn--gecrj9c",".xn--h2brj9c",".xn--j1amh",".xn--j6w193g",".xn--kprw13d",".xn--kpry57d",".xn--l1acc",".xn--lgbbat1ad8j",".xn--mgb9awbf",".xn--mgba3a4f16a",".xn--mgbaam7a8h",".xn--mgbayh7gpa",".xn--mgbbh1a71e",".xn--mgbc0a9azcg",".xn--mgberp4a5d4ar",".xn--mgbx4cd0ab",".xn--ngbc5azd",".xn--o3cw4h",".xn--ogbpf8fl",".xn--p1ai",".xn--pgbs0dh",".xn--q9jyb4c",".xn--s9brj9c",".xn--unup4y",".xn--wgbh1c",".xn--wgbl6a",".xn--xkc2al3hye2a",".xn--xkc2dl3a5ee0h",".xn--yfro4i67o",".xn--ygbi2ammx",".xxx",".ye",".yt",".za",".zm",".zw"],r=["co","me","ac","gov","judiciary","ltd","mod","net","nhs","nic","org","parliament","plc","police","sch","bl","british-library","jet","nls"],i=e.lastIndexOf("."),s=e.substring(0,i),o=e.substring(i,e.length),u=false;for(var a=0;a<n.length;a++){if(n[a]===o){if(o===".uk"){var f=e.split(".");var l=f[f.length-2];for(var c=0;c<r.length;c++){if(r[c]===l){u=true;break}}if(u)break}else{u=true;break}}}if(!u){return false}else if(i<2||i>57){return false}else{var h=s.substring(0,1),p=s.substring(s.length-1,s.length);if(h==="-"||h==="."||p==="-"||p==="."){return false}if(s.split(".").length>3||s.split("..").length>1){return false}if(s.replace(/[-\da-z\.]/g,"")!==""){return false}}if(typeof t!=="undefined"){t.val(e)}return true},errorMessage:"",errorMessageKey:"badDomain"});e.formUtils.addValidator({name:"required",validatorFunction:function(t,n,r,i,s){switch(n.attr("type")){case"checkbox":return n.is(":checked");case"radio":return s.find('input[name="'+n.attr("name")+'"]').filter(":checked").length>0;default:return e.trim(t)!==""}},errorMessage:"",errorMessageKey:"requiredFields"});e.formUtils.addValidator({name:"length",validatorFunction:function(t,n,r,i){var s=n.valAttr("length"),o=n.attr("type");if(s==undefined){var u=n.get(0).nodeName;alert('Please add attribute "data-validation-length" to '+u+" named "+n.attr("name"));return true}var a=o=="file"&&n.get(0).files!==undefined?n.get(0).files.length:t.length,f=e.formUtils.numericRangeCheck(a,s),l;switch(f[0]){case"out":this.errorMessage=i.lengthBadStart+s+i.lengthBadEnd;l=false;break;case"min":this.errorMessage=i.lengthTooShortStart+f[1]+i.lengthBadEnd;l=false;break;case"max":this.errorMessage=i.lengthTooLongStart+f[1]+i.lengthBadEnd;l=false;break;default:l=true}return l},errorMessage:"",errorMessageKey:""});e.formUtils.addValidator({name:"url",validatorFunction:function(t){var n=/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;if(n.test(t)){var r=t.split("://")[1];var i=r.indexOf("/");if(i>-1)r=r.substr(0,i);return e.formUtils.validators.validate_domain.validatorFunction(r)}return false},errorMessage:"",errorMessageKey:"badUrl"});e.formUtils.addValidator({name:"number",validatorFunction:function(e,t,n){if(e!==""){var r=t.valAttr("allowing")||"",i=t.valAttr("decimal-separator")||n.decimalSeparator,s=false,o,u;if(r.indexOf("number")==-1)r+=",number";if(r.indexOf("negative")>-1&&e.indexOf("-")===0){e=e.substr(1)}if(r.indexOf("range")>-1){o=parseFloat(r.substring(r.indexOf("[")+1,r.indexOf(";")));u=parseFloat(r.substring(r.indexOf(";")+1,r.indexOf("]")));s=true}if(i==","){if(e.indexOf(".")>-1){return false}e=e.replace(",",".")}if(r.indexOf("number")>-1&&e.replace(/[0-9]/g,"")===""&&(!s||e>=o&&e<=u)){return true}if(r.indexOf("float")>-1&&e.match(new RegExp("^([0-9]+)\\.([0-9]+)$"))!==null&&(!s||e>=o&&e<=u)){return true}}return false},errorMessage:"",errorMessageKey:"badInt"});e.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(e,t,n,r){var i="^([a-zA-Z0-9",s="]+)$",o=t.attr("data-validation-allowing"),u="";if(o){u=i+o+s;var a=o.replace(/\\/g,"");if(a.indexOf(" ")>-1){a=a.replace(" ","");a+=" and spaces "}this.errorMessage=r.badAlphaNumeric+r.badAlphaNumericExtra+a}else{u=i+s;this.errorMessage=r.badAlphaNumeric}return(new RegExp(u)).test(e)},errorMessage:"",errorMessageKey:""});e.formUtils.addValidator({name:"custom",validatorFunction:function(e,t,n){var r=new RegExp(t.valAttr("regexp"));return r.test(e)},errorMessage:"",errorMessageKey:"badCustomVal"});e.formUtils.addValidator({name:"date",validatorFunction:function(t,n,r){var i="yyyy-mm-dd";if(n.valAttr("format")){i=n.valAttr("format")}else if(r.dateFormat){i=r.dateFormat}return e.formUtils.parseDate(t,i)!==false},errorMessage:"",errorMessageKey:"badDate"});e.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(t,n,r,i,s){var o=true;var u=n.attr("name");var a=e("input[type=checkbox][name^='"+u+"']:checked",s).length;var f=n.valAttr("qty");if(f==undefined){var l=n.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+l+" named "+n.attr("name"))}var c=e.formUtils.numericRangeCheck(a,f);switch(c[0]){case"out":this.errorMessage=i.groupCheckedRangeStart+f+i.groupCheckedEnd;o=false;break;case"min":this.errorMessage=i.groupCheckedTooFewStart+c[1]+i.groupCheckedEnd;o=false;break;case"max":this.errorMessage=i.groupCheckedTooManyStart+c[1]+i.groupCheckedEnd;o=false;break;default:o=true}return o}})})(jQuery)