(function(e,t){e.formUtils.addValidator({name:"swesec",validatorFunction:function(n,r){var i,s,o,u;if(r.valAttr("use-hyphen")){u=n.split("-");if(u.length!=2){return false}n=u.join("")}if(!n.match(/^(\d{4})(\d{2})(\d{2})(\d{4})$/)){return false}i=RegExp.$1;s=e.formUtils.parseDateInt(RegExp.$2);o=e.formUtils.parseDateInt(RegExp.$3);t.ssnGender=parseInt(RegExp.$4.substring(2,3))%2===0?"female":"male";var a=new Array(31,28,31,30,31,30,31,31,30,31,30,31);if(i%400===0||i%4===0&&i%100!==0){a[1]=29}if(s<1||s>12||o<1||o>a[s-1]){return false}n=n.substring(2,n.length);var f="";for(var l=0;l<n.length;l++){f+=((l+1)%2+1)*n.substring(l,l+1)}var c=0;for(l=0;l<f.length;l++){c+=parseInt(f.substring(l,l+1),10)}return c%10===0},errorMessage:"",errorMessageKey:"badSecurityNumber"});e.formUtils.addValidator({name:"swecounty",validatorFunction:function(t){t=t.toLowerCase();if(e.inArray(t,this.counties)==-1){if(t.substr(-3).toLocaleLowerCase()!="län"){return e.inArray(t+"s län",this.counties)>-1}return false}else return true},errorMessage:"",errorMessageKey:"badCustomVal",counties:["stockholms län","uppsala län","södermanlands län","östergötlands län","jönköpings län","kronobergs län","kalmar län","gotlands län","blekinge län","skåne län","hallands län","västra götalands län","värmlands län","örebro län","västmanlands län","dalarnas län","gävleborgs län","västernorrlands län","jämtlands län","västerbottens län","norrbottens län"]});e.formUtils.addValidator({name:"swemunicipality",validatorFunction:function(t){t=t.toLowerCase();if(e.inArray(t,this.municipalities)==-1){if(t.substr(-8)=="s kommun"){if(e.inArray(t.substr(0,t.length-8),this.municipalities)>-1)return true}if(t.substr(-7)==" kommun"){return e.inArray(t.substr(0,t.length-7),this.municipalities)>-1}return false}else return true},errorMessage:"",errorMessageKey:"badCustomVal",municipalities:["ale","alingsås","alvesta","aneby","arboga","arjeplog","arvidsjaur","arvika","askersund","avesta","bengtsfors","berg","bjurholm","bjuv","boden","bollebygd","bollnäs","borgholm","borlänge","borås","botkyrka","boxholm","bromölla","bräcke","burlöv","båstad","dals-ed","danderyd","degerfors","dorotea","eda","ekerö","eksjö","emmaboda","enköpings","eskilstuna","eslövs","essunga","fagersta","falkenberg","falköping","falu","filipstad","finspång","flen","forshaga","färgelanda","gagnef","gislaved","gnesta","gnosjö","gotland","grum","grästorp","gullspång","gällivare","gävle","göteborg","götene","habo","hagfor","hallsberg","hallstahammar","halmstad","hammarö","haninge","haparanda","heby","hedemora","helsingborg","herrljunga","hjo","hofor","huddinge","hudiksvall","hultsfred","hylte","håbo","hällefor","härjedalen","härnösand","härryda","hässleholm","höganäs","högsby","hörby","höör","jokkmokk","järfälla","jönköping","kalix","kalmar","karlsborg","karlshamn","karlskoga","karlskrona","karlstad","katrineholm","kil","kinda","kiruna","klippan","knivsta","kramfors","kristianstad","kristinehamn","krokoms","kumla","kungsbacka","kungsör","kungälv","kävlinge","köping","laholm","landskrona","laxå","lekeberg","leksand","lerum","lessebo","lidingö","lidköping","lilla edets","lindesbergs","linköpings","ljungby","ljusdals","ljusnarsbergs","lomma","ludvika","luleå","lunds","lycksele","lysekil","malmö","malung-sälen","malå","mariestad","marks","markaryd","mellerud","mjölby","mora","motala","mullsjö","munkedal","munkfors","mölndal","mönsterås","mörbylånga","nacka","nora","norberg","nordanstig","nordmaling","norrköping","norrtälje","norsjö","nybro","nykvarn","nyköping","nynäshamn","nässjö","ockelbo","olofström","orsa","orust","osby","oskarshamn","ovanåker","oxelösund","pajala","partille","perstorp","piteå","ragunda","robertsfors","ronneby","rättvik","sala","salem","sandviken","sigtuna","simrishamn","sjöbo","skara","skellefteå","skinnskatteberg","skurup","skövde","smedjebacken","sollefteå","sollentuna","solna","sorsele","sotenäs","staffanstorp","stenungsund","stockholm","storfors","storuman","strängnäs","strömstad","strömsund","sundbyberg","sundsvall","sunne","surahammar","svalöv","svedala","svenljunga","säffle","säter","sävsjö","söderhamns","söderköping","södertälje","sölvesborg","tanum","tibro","tidaholm","tierp","timrå","tingsryd","tjörn","tomelilla","torsby","torså","tranemo","tranå","trelleborg","trollhättan","trosa","tyresö","täby","töreboda","uddevalla","ulricehamns","umeå","upplands väsby","upplands-bro","uppsala","uppvidinge","vadstena","vaggeryd","valdemarsvik","vallentuna","vansbro","vara","varberg","vaxholm","vellinge","vetlanda","vilhelmina","vimmerby","vindeln","vingåker","vårgårda","vänersborg","vännäs","värmdö","värnamo","västervik","västerås","växjö","ydre","ystad","åmål","ånge","åre","årjäng","åsele","åstorp","åtvidaberg","älmhult","älvdalen","älvkarleby","älvsbyn","ängelholm","öckerö","ödeshög","örebro","örkelljunga","örnsköldsvik","östersund","österåker","östhammar","östra göinge","överkalix","övertorneå"]});e.formUtils.addValidator({name:"swephone",validatorFunction:function(e){var t=e.match(/\+/g);var n=e.match(/-/g);if(t!==null&&t.length>1||n!==null&&n.length>1){return false}if(t!==null&&e.indexOf("+")!==0){return false}e=e.replace(/([-|\+])/g,"");return e.length>8&&e.match(/[^0-9]/g)===null},errorMessage:"",errorMessageKey:"badTelephone"});e.formUtils.addValidator({name:"swemobile",validatorFunction:function(t){if(!e.formUtils.validators.validate_swephone.validatorFunction(t)){return false}t=t.replace(/[^0-9]/g,"");var n=t.substring(0,3);if(t.length!=10&&n!=="467"){return false}else if(t.length!=11&&n==="467"){return false}return/07[0-9{1}]/.test(n)||n==="467"},errorMessage:"",errorMessageKey:"badTelephone"});var n=function(t){var n=[];e.each(t,function(e,t){n.push(t.substr(0,1).toUpperCase()+t.substr(1,t.length))});n.sort();return n};e.fn.suggestSwedishCounty=function(t){var r=n(e.formUtils.validators.validate_swecounty.counties);return e.formUtils.suggest(this,r,t)};e.fn.suggestSwedishMunicipality=function(t){var r=n(e.formUtils.validators.validate_swemunicipality.municipalities);return e.formUtils.suggest(this,r,t)}})(jQuery,window)