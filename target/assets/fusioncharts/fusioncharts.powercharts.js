FusionCharts.register("module",["private","modules.renderer.js-gradientlegend",function(){function e(e,t,n){var r=e[0],i=e[1];e=e[2];r+=(t[0]-r)*n;i+=(t[1]-i)*n;t=e+(t[2]-e)*n;return{hex:(a+(r<<16|i<<8|t).toString(16)).slice(-6),rgb:[r,i,t]}}function t(e,t){return e.maxvalue-t.maxvalue}function n(n){var r,i,s=n.colorRange||{},o=n.dataMin,a=n.dataMax,f=n.sortLegend||!1,l=n.mapByCategory||!1,c=n.defaultColor,m=n.numberFormatter,b=s.color;n=this.colorArr=[];var w,E,S;this.mapByCategory=l;"1"===s.mapbypercent&&(this.mapbypercent=!0);if("1"===s.gradient&&!l){this.gradient=!0;i=I(C(s.startcolor,s.mincolor,s.code));f=v(I(C(i,c,"CCCCCC")));l=this.scaleMin=u(s.startvalue,s.minvalue,this.mapbypercent?0:o);n.push({code:i,maxvalue:l,label:y(s.startlabel),codeRGB:v(i)});if(b&&(r=b.length))for(o=0;o<r;o+=1)c=b[o],i=I(C(c.color,c.code)),E=u(c.value,c.maxvalue),S=u(c.minvalue),E>l&&n.push({code:i,maxvalue:E,userminvalue:S,label:y(C(c.label,c.displayvalue)),codeRGB:v(i)});n.sort(t);r=n.length;for(o=1;o<r;o+=1)c=n[o],i=c.maxvalue-l,0<i?(c.minvalue=l,c.range=i,l=c.maxvalue):(n.splice(o,1),o-=1,r-=1);2<=n.length&&(this.scaleMax=l,n[o-1].label=C(s.endlabel,n[o-1].label,n[o-1].displayvalue));1===n.length&&(E=u(s.maxvalue,this.mapbypercent?100:a),n.push({minvalue:l,maxvalue:E,range:E-l,label:s.endlabel}),this.scaleMax=E,delete n[0].code);s=n[0];a=n[n.length-1];s.code&&a.code||(i=p(f),r=h((i[2]=0,i)),i=h((i[2]=100,i)),s.code||(s.codeRGB=r,s.code=d(r)),a.code||(a.codeRGB=i,a.code=d(i)));r=n.length;for(o=1;o<r;o+=1)if(c=n[o],c.code){if(w)for(a=c,S=s.maxvalue,b=a.maxvalue-S;w<o;w+=1)f=n[w],i=e(s.codeRGB,a.codeRGB,(f.maxvalue-S)/b),f.code=i.hex,f.codeRGB=i.rgb;w=null;s=c}else w=w||o;if(void 0===this.scaleMin||void 0===this.scaleMax)this.noValidRange=!0}else if(b&&(r=b.length)){for(o=0;o<r;o+=1)c=b[o],i=C(c.color,c.code),E=u(c.maxvalue),S=u(c.minvalue),w=C(c.label,c.displayvalue,l?g:m.dataLabels(S)+" - "+m.dataLabels(E)),(i&&E>S||l&&w)&&n.push({code:i,maxvalue:E,minvalue:S,label:y(w),labelId:w.toLowerCase()});n.length?f&&n.sort(t):this.noValidRange=!0}}function r(e,t){return t?O(100*e)/100+P:k(e,g).toString()}var i=this,s=i.hcLib,o=i.window,o=/msie/i.test(o.navigator.userAgent)&&!o.opera,u=s.pluckNumber,a=s.COLOR_BLACK,f=s.COLOR_GLASS,l=s.FC_CONFIG_STRING,c=s.graphics,h=c.HSBtoRGB,p=c.RGBtoHSB,d=c.RGBtoHex,v=c.HEXtoRGB,m=s.COMMASTRING,g=s.BLANKSTRING,y=s.parseUnsafeString,b=s.graphics.convertColor,w=s.POSITION_TOP,E=s.POSITION_MIDDLE,S=s.POSITION_START,x=s.POSITION_END,T=s.graphics.getDarkColor,N=s.graphics.getLightColor,C=s.pluck,k=s.getValidValue,L=s.toRaphaelColor,A=s.hasTouch,O=Math.round,M=Math.max,_=Math.min,D=Math.abs,P="%",H,B,j,F="rgba(192,192,192,"+(o?.002:1e-6)+")",I=function(e){return e&&e.replace(/^#?([a-f0-9]+)/ig,"$1")};n.prototype={getColorObj:function(t){var n=this.colorArr,r=this.gradient?1:0,i=n[r],s;if(this.mapByCategory){for(t=y(t).toLowerCase();i;){if(i.labelId===t)return{code:i.code,seriesIndex:r};r+=1;i=n[r]}return{outOfRange:!0}}if(this.gradient){if(this.scaleMin<=t&&this.scaleMax>=t){for(;i&&i.maxvalue<t;)r+=1,i=n[r];t=(t-i.minvalue)/i.range;return{code:e(n[r-1].codeRGB,i.codeRGB,t).hex}}return{outOfRange:!0}}for(;i;){if(i.maxvalue>t&&i.minvalue<=t)return{code:i.code,seriesIndex:r};i.maxvalue===t&&(s=r);r+=1;i=n[r]}return(i=n[s])&&i.maxvalue===t?{code:i.code,seriesIndex:s}:{outOfRange:!0}}};n.prototype.constructor=n;s.colorRange=n;H=s.configureGradientLegendOptions=function(e,t){var n=e.legend,r=t.chart;n.legendSliderBorderWidth=u(r.legendpointerborderthickness,1);n.legendSliderBorderColor=b(C(r.legendpointerbordercolor,a),u(r.legendpointerborderalpha,100));n.legendSliderWidth=u(r.legendpointerwidth,r.legendpointerswidth,12);n.legendSliderHeight=u(r.legendpointerheight,r.legendpointersheight,12);n.legendColorBoxBorderColor=n.borderColor;n.legendColorBoxBorderWidth=n.borderWidth;n.legendScaleColor=b(C(r.legendscalelinecolor,a),u(r.legendscalelinealpha,100));n.legendScalePadding=u(r.legendscalepadding,4);n.legendScaleLineThickness=u(r.legendscalelinethickness,1);n.legendScaleTickDistance=u(r.legendscaletickdistance,6);n.itemStyle.cursor="default";n.interActivity=u(r.interactivelegend,1)};s.placeGLegendBlockRight=function(e,t,n,i,s){this.configureLegendOptions(e,t.chart,!0,s,n);H(e,t);s=this.snapLiterals||(this.snapLiterals={});var o=e[l],a=this.smartLabel||o.smartLabel,f=e.legend,c=e.chart.spacingRight,h,p,d=f.textPadding=2,v=2*d,m=f.title.padding,y=0,b=0,w=2*f.padding;t=u(t.chart.legendpadding,7)+f.borderWidth/2+1;var E=e.colorRange||{},S=E.colorArr,x=E.mapbypercent,T=E.scaleMin,N=E.scaleMax-T,C=f.legendSliderWidth,k=f.legendSliderHeight/2;p=f.legendScalePadding;var L=f.legendScaleTickDistance,A=f.itemStyle||{};h=u(parseInt(A.lineHeight,10)||12);var O=.75*h,D=n-w,P,B,j=0,F,I,q,R,U,z,W;i-=w;if(!E.noValidRange&&S&&1<(B=S.length)){B-=1;f.title.text!==g&&(a.setStyle(f.title.style),h=a.getSmartText(f.title.text,D,M(h,i/4)),f.title.text=h.text,y=h.width+w,i-=b=h.height+m);a.setStyle(A);h=a.lineHeight;D-=L+p+C;f.colorBoxX=C;m=M(h,D/2);D=_(D-m-4,h);F=M(h,i/2);P=i/4;L=S[0];L.scaleLabel=r(L.maxvalue,x);h=a.getSmartText(L.label,P,D);L.label=h.text;A=h.height;L.labelY=O-h.height/2;p=a.getSmartText(L.scaleLabel,m,F);L.scaleLabel=p.text;E=p.height/2;I=p.width;L.scaleLabelY=O-p.height/2;f.colorBoxY=M(E,h.width+v,k)+b;L=W=S[B];L.scaleLabel=r(L.maxvalue,x);h=a.getSmartText(L.label,P,D);L.label=h.text;A=M(A,h.height);L.labelY=O-h.height/2;p=a.getSmartText(L.scaleLabel,m,F);L.scaleLabel=p.text;I=M(I,p.width);P=p.height/2;h=M(h.width+v,P,k);L.scaleLabelY=O-p.height/2;f.colorBoxHeight=k=i-f.colorBoxY-h;F=k-P;q=k/N;U=_(k-j,F-E)-4;for(P=1;P<B;P+=1)L=S[P],R=(L.maxvalue-T)*q,h=a.getSmartText(L.label,2*_(R-j,k-R),D),L.label=h.text,A=M(A,h.height),L.labelY=O-h.height/2,h=h.width/2,L.scaleLabel=r(L.maxvalue,x),p=a.getSmartText(L.scaleLabel,m,2*_(R-E,F-R)),L.scaleLabel=p.text,I=M(I,p.width),z=p.height/2,L.scaleLabelY=O-p.height/2,U=_(U,(R-M(z+E,h+j)-4)*N/L.range),j=h+R,E=z+R;U=M(_(U,(_(F-E,k-j)-4)*N/W.range,.3*i),0);f.colorBoxHeight-=U;f.colorBoxWidth=A&&A+v||15;f.height=f.totalHeight=i+b+w-U;f.width=(I&&I+d)+f.colorBoxWidth+C+f.legendScaleTickDistance+f.legendScalePadding+w;f.width<y&&(f.colorBoxX+=(y-f.width)/2,f.width=y);f.width>n&&(f.width=n);s.legendstartx=o.width-c-f.width;s.legendwidth=f.width;s.legendendx=s.legendstartx+s.legendwidth;s.legendheight=f.height;t+=f.width;e.chart.marginRight+=t;return t}f.enabled=!1;return 0};s.placeGLegendBlockBottom=function(e,t,n,i,s){this.configureLegendOptions(e,t.chart,!1,s,n);H(e,t);s=this.snapLiterals||(this.snapLiterals={});var o=e[l],a=this.smartLabel||o.smartLabel,f=e.legend,c=e.chart,h=c.spacingBottom,p=c.spacingLeft,c=c.spacingRight,d,v,m=f.textPadding=2,y=f.title.padding,b=0,w=0,E=2*f.padding;t=u(t.chart.legendpadding,7)+f.borderWidth/2+1;var S=e.colorRange||{},x=S.colorArr,T=S.mapbypercent,N=S.scaleMin,k=S.scaleMax-N,L=f.legendSliderWidth,A=f.legendSliderHeight,O=f.legendScalePadding,D=f.legendScaleTickDistance,P=f.itemStyle||{};d=u(parseInt(P.lineHeight,10)||12);var B=.75*d,j=i-E,F,I,q,R,U=0,z,W,X;n-=E;if(!S.noValidRange&&x&&1<(I=x.length)){I-=1;f.title.text!==g&&(a.setStyle(f.title.style),d=a.getSmartText(f.title.text,n,j/3),f.title.text=d.text,b=d.width+E,j-=w=d.height+y);a.setStyle(P);d=a.lineHeight;j-=D+O+A;y=M(d,j/2);P=_(j-y-4,d);F=n/4;R=2*F;q=x[0];q.scaleLabel=r(q.maxvalue,T);d=a.getSmartText(q.label,F,P);q.label=d.text;j=d.height;q.labelY=B-d.height/2;v=a.getSmartText(q.scaleLabel,R,y);q.scaleLabel=v.text;O=v.width/2;D=v.height;q.code||(q.code=C(f.minColor,"CCCCCC"));f.colorBoxX=M(O,d.width+m,L);q=S=x[I];q.scaleLabel=r(q.maxvalue,T);d=a.getSmartText(q.label,F,P);q.label=d.text;j=M(j,d.height);q.labelY=B-d.height/2;v=a.getSmartText(q.scaleLabel,R,y);q.scaleLabel=v.text;D=M(D,v.height);q=v.width/2;d=M(d.width+m,q,L);f.colorBoxWidth=L=n-f.colorBoxX-d;R=L-q;z=L/k;X=_(L-U,R-O)-4;for(F=1;F<I;F+=1)q=x[F],W=(q.maxvalue-N)*z,d=a.getSmartText(q.label,2*_(W-U,L-W),P),q.label=d.text,j=M(j,d.height),q.labelY=B-d.height/2,d=d.width/2,q.scaleLabel=r(q.maxvalue,T),v=a.getSmartText(q.scaleLabel,2*_(W-O,R-W),y),q.scaleLabel=v.text,D=M(D,v.height),v=v.width/2,X=_(X,(W-M(v+O,d+U)-4)*k/q.range),U=d+W,O=v+W;X=M(_(X,(_(R-O,L-U)-4)*k/S.range,.3*n),0);f.colorBoxWidth-=X;f.width=n+E-X;f.width<b&&(f.colorBoxX+=(b-f.width)/2,f.width=b);f.colorBoxY=w+A;f.colorBoxHeight=j&&j+2*m||15;f.height=f.totalHeight=(D&&D+m)+f.colorBoxHeight+w+A+f.legendScaleTickDistance+f.legendScalePadding+E;f.height>i&&(f.height=i);s.legendstartx=p+.5*(o.width-p-c-f.width)+(f.x||0);s.legendwidth=f.width;s.legendendx=s.legendstartx+s.legendwidth;s.legendstarty=o.height-h-f.height;s.legendheight=f.height;s.legendendy=s.legendstarty+s.legendheight;t+=f.height;e.chart.marginBottom+=t;return t}f.enabled=!1;return 0};B=function(){return{point:this}};j=function(e){return O(100*e)/100};s.rendererRoot.drawGradientLegendItem=function(e){var t=this,n=t.paper,r=t.options,s=t.canvasLeft,o=t.canvasTop,l=t.canvasWidth,c=t.canvasHeight,h=r.colorRange,p,d,v,y,k=r.legend,_=u(k.padding,4),P=k.itemStyle,r=k.symbolStyle,H=k.interActivity,I=e.elements;e=I.elementGroup.trackTooltip(!0);var q="vertical"===k.layout,R,U,z,W,X,V,$=0,K=k.lighting3d,Q=k.colorBoxWidth,G=k.colorBoxHeight,Y=Q,Z=G,et={FCcolor:{color:g,alpha:g,angle:0,ratio:g}},tt=et.FCcolor,nt=k.colorBoxX+_,rt=k.colorBoxY+_,it,st,ot=k.legendColorBoxBorderColor,ut=k.legendColorBoxBorderWidth,at=["M"],ft=k.legendScaleColor;V=k.legendScalePadding;var lt=k.legendScaleLineThickness,ct=lt%2/2;d=k.legendScaleTickDistance;var ht=k.legendSliderWidth,pt=k.legendSliderHeight;X=Z/2;y=Y/2;var dt=ht/2,vt=pt/2,mt,gt,yt;st=0;var bt=N("ABABAB",50),_=T("ABABAB",70),k=b("ABABAB",100),_=b(_,100),bt=b(bt,100),wt,Et={isFirst:!0},St={},xt,Tt,Nt,Ct;if(h&&(p=h.colorArr)&&1<(v=p.length)){Et.toolText=xt=z=h.scaleMin;St.toolText=Tt=h=h.scaleMax;W=h-z;Et.snapPX=St.snapPX=0;Et.tooltipConstraint=St.tooltipConstraint="chart";Et.getLabelConfig=St.getLabelConfig=B;Et.tooltipPos=[0,0];St.tooltipPos=[0,0];St.tooltipOffsetReference=Et.tooltipOffsetReference={};St.tooltipOffsetReference.left=Et.tooltipOffsetReference.left+=s-20;St.tooltipOffsetReference.top=Et.tooltipOffsetReference.top+=o;Nt=I.colorBox=n.group("colorBox",e);if(q){Et.tooltipPos[0]=St.tooltipPos[0]=l+s;st=270;tt.angle=90;s=nt-ht;l=nt+Y;o=rt-vt;R=rt+vt;s=O(nt-ht)+.5;l=O(nt)+.5;o=O(rt-vt)+.5;R=O(rt+vt)+.5;mt=O(nt+Y)+.5;yt=O(rt-2)+.5;U=O(rt+2)+.5;it=O(rt)+.5;c=nt-dt/2;gt=O(c-vt)+.5;c=O(c)+.5;X=rt-vt/2;vt=O(X+vt)+.5;X=O(X)+.5;Q/=2;dt=["M",s,o,"L",l,o,l,yt,mt,it,l,U,l,R,s,R,"Z","M",gt,X,"L",c,X,"M",gt,it,"L",c,it,"M",gt,vt,"L",c,vt];vt=["M",s+1,o,"L",s+1,R,"M",gt,X-1,"L",c,X-1,"M",gt,it-1,"L",c,it-1,"M",gt,vt-1,"L",c,vt-1];X=nt+Y+V;R=O(X+d)+ct;X=O(X)+ct;it=nt+y;gt=v-1;for(d=0;d<v;d+=1)y=p[d],l=(y.maxvalue-z)/W,U=Z*l+rt,V=O(U)+ct,d?(tt.ratio+=m,tt.color+=m,tt.alpha+=m,at.push("L",X,V,R,V,"M",X,V),d===gt?(c=x,V=U+2):(c=E,V=U)):(at.push(X,V,"L",R,V,"M",X,V),c=S,V=U-2),tt.ratio+=100*(l-$),tt.color+=C(y.code,a),tt.alpha+=C(y.alpha,100),$=l,y.legendItem=n.text(e).attr({text:y.label,x:it,y:V,"text-anchor":c,"vertical-align":E}).rotate(st,it,V).css(P),y.legendSymbol=n.text(e).attr({text:y.scaleLabel,x:R,y:U,"text-anchor":S,"vertical-align":E}).css(P);Et.xMin=St.xMin=0;Et.xMax=St.xMax=0;Et.yMin=St.yMin=0;Et.yMax=St.yMax=Z;Et.x=St.x=0;Et.y=0;St.y=Z;p=pt+Y;v=ht}else{Et.tooltipPos[1]=St.tooltipPos[1]=c+o;s=O(nt-dt)+.5;l=O(nt+dt)+.5;o=O(rt-pt)+.5;R=O(rt+Z)+.5;mt=O(nt-2)+.5;c=O(nt+2)+.5;gt=O(nt)+.5;yt=O(rt)+.5;U=rt-vt/2;it=O(U-vt)+.5;U=O(U)+.5;st=nt-dt/2;y=O(st+dt)+.5;st=O(st)+.5;G/=2;dt=["M",s,o,"L",l,o,l,yt,c,yt,gt,R,mt,yt,s,yt,"Z","M",st,it,"L",st,U,"M",gt,it,"L",gt,U,"M",y,it,"L",y,U];vt=["M",s,o+1,"L",l,o+1,"M",st-1,it,"L",st-1,U,"M",gt-1,it,"L",gt-1,U,"M",y-1,it,"L",y-1,U];V=rt+Z+V;st=O(V+d)+ct;V=O(V)+ct;U=rt+X;gt=v-1;for(d=0;d<v;d+=1)y=p[d],l=(y.maxvalue-z)/W,R=Y*l+nt,X=O(R)+ct,d?(tt.ratio+=m,tt.color+=m,tt.alpha+=m,at.push("L",X,V,X,st,"M",X,V),d===gt?(c=S,X=R+2):(c=E,X=R)):(at.push(X,V,"L",X,st,"M",X,V),c=x,X=R-2),tt.ratio+=100*(l-$),tt.color+=C(y.code,a),tt.alpha+=C(y.alpha,100),$=l,y.legendItem=n.text(e).attr({text:y.label,x:X,y:U,"text-anchor":c,"vertical-align":E}).css(P),y.legendSymbol=n.text(e).attr({text:y.scaleLabel,x:R,y:st,"text-anchor":E,"vertical-align":w}).css(P);Et.xMin=St.xMin=0;Et.xMax=St.xMax=Y;Et.yMin=St.yMin=0;Et.yMax=St.yMax=0;Et.y=St.y=0;Et.x=0;St.x=Y;p=ht;v=pt+Z}I.colorBox=n.rect(Nt).attr({x:nt,y:rt,width:Y,height:Z,fill:L(et),stroke:ot,strokeWidth:ut});K&&(I.colorBoxEffect=n.rect(Nt).attr({x:nt,y:rt,width:Q,height:G,fill:f,"stroke-width":0}));I.scale=n.path(e).attr({path:at,stroke:ft,"stroke-width":lt});wt=function(e,n,r,i,s){var o;q?(o=n*W/Z+z,i=0<n?i:i+n+.01):(o=e*W/Y+z,r=0<e?r:r+e+.01);e=j(o);s?(I.slider1.translate(r,i),I.slider1Effect.translate(r,i),I.slider1Tracker.toFront().translate(r,i).tooltip(e,null,null,!0),xt=o):(I.slider2.translate(r,i),I.slider2Effect.translate(r,i),I.slider2Tracker.toFront().translate(r,i).tooltip(e,null,null,!0),Tt=o);H&&(Ct=clearTimeout(Ct),Ct=setTimeout(function(){t.setScaleRange&&t.setScaleRange(xt,Tt)},100))};K=function(e,t){var n=0,r=n,i,s=this.isFirst,o=s?St:Et;if(q){r=this._startY+t;0>=r&&(r=0);r>Z&&(r=Z);if(s?r>o.y:r<o.y)r=o.y;D(r-this.y)>=(this.snapPX||0)&&(i=!0)}else{n=this._startX+e;0>=n&&(n=0);n>Y&&(n=Y);if(s?n>o.x:n<o.x)n=o.x;D(n-this.x)>=(this.snapPX||0)&&(i=!0)}i&&(wt(n,r,n-this.x,r-this.y,s),this.x=n,this.y=r)};Q=function(){var e=this.isFirst;this._startX=this.x;this._startY=this.y;this._scaleStart=xt;this._scaleEnd=Tt;i.raiseEvent("LegendPointerDragStart",{pointerIndex:e?0:1,pointers:[{value:xt},{value:Tt}],legendPointerHeight:pt,legendPointerWidth:ht},t.logic.chartInstance)};G=function(){var e=this._scaleStart,n=this._scaleEnd;i.raiseEvent("LegendPointerDragStop",{pointerIndex:this.isFirst?0:1,pointers:[{value:xt},{value:Tt}],legendPointerHeight:pt,legendPointerWidth:ht},t.logic.chartInstance);e===xt&&n===Tt||i.raiseEvent("LegendRangeUpdated",{previousMinValue:e,previousMaxValue:n,minValue:xt,maxValue:Tt},t.logic.chartInstance);delete this._scaleStart;delete this._scaleEnd};et=j(z);I.slider1=n.path(e).attr({path:dt,fill:k,strokeWidth:1,stroke:_});I.slider1Effect=n.path(e).attr({path:vt,fill:"none",strokeWidth:1,stroke:bt});A&&(s-=.5*(M(30,p)-p),o-=.5*(M(40,v)-v),p=M(30,p),v=M(40,v));I.slider1Tracker=n.rect(e).attr({ishot:!0,width:p,height:v,x:s,y:o,fill:F,stroke:"none"}).drag(K,Q,G,Et,Et,Et).tooltip(et,null,null,!0).css(r);et=j(h);I.slider2=n.path(e).attr({path:dt,fill:k,strokeWidth:1,stroke:_}).translate(St.x,St.y);I.slider2Effect=n.path(e).attr({path:vt,fill:"none",strokeWidth:1,stroke:bt}).translate(St.x,St.y);I.slider2Tracker=n.rect(e).attr({ishot:!0,width:p,height:v,x:s,y:o,fill:F,stroke:"none"}).translate(St.x,St.y).css(r).drag(K,Q,G,St,St,St).tooltip(et,null,null,!0)}}}]);FusionCharts.register("module",["private","modules.renderer.js-powercharts",function(){function e(e,t,n){var s=e.fcObj;r.hcLib.createChart(s,e.container,e.type,void 0,void 0,!1,!0);i.raiseEvent("chartUpdated",y({sourceEvent:n},t),s,[s.id])}function t(e,t,n,r,i,s){var o=R.atan((t-r)/(e-n)),u=[];0>o&&(o=2*R.PI+o);if(r>t){if(n>=e&&o>R.PI||n<e&&o>R.PI)o-=R.PI}else if(n>=e&&o<R.PI&&0!==o||n<e&&o<R.PI)o+=R.PI;"undefined"==typeof s?(n=e+i*z(o),i=t+i*U(o)):(i=$(i)/2,s=$(s)/2,n=e+(i=e<n?i:-i),i=t+i*R.tan(o),$(t-i)>$(s)&&(i=t+(s=t<r?s:-s),n=e+s/R.tan(o)));u.push(I,n,i,n+10*z(o+.79),i+10*U(o+.79),F,n+10*z(o-.79),i+10*U(o-.79),I,n,i);return u}function n(e,t){var n;t._origAttr||(t._origAttr={});for(n in e)j.test(n)||(t._origAttr[n]=e[n]);return t._origAttr}var r=this,i=r.hcLib,s=i.Raphael,o=r.window,u=o.document,a=i.BLANKSTRING,f=i.createTrendLine,l=i.parseTooltext,c=i.pluck,h=i.getValidValue,p=i.pluckNumber,d=i.getFirstValue,v=i.getDefinedColor,m=i.parseUnsafeString,g=i.FC_CONFIG_STRING,y=i.extend2,b=i.getDashStyle,w=i.toRaphaelColor,E=i.toPrecision,S=i.hasSVG,x=i.createContextMenu,T=i.isIE,N=i.regex.dropHash,C=i.HASHSTRING,k=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},L=i.each,A=i.addEvent,O=i.removeEvent,M=i.getTouchEvent,_=function(e){return void 0!==e&&null!==e},D="rgba(192,192,192,"+(T?.002:1e-6)+")",P=i.TOUCH_THRESHOLD_PIXELS,H=i.CLICK_THRESHOLD_PIXELS,B=8===o.document.documentMode?"visible":"",j=/^_/,F="M",I="L",q=i.BGRATIOSTRING,R=Math,U=R.sin,z=R.cos,W=R.round,X=R.min,V=R.max,$=R.abs,J=R.PI,K=R.ceil,Q=R.floor,G=R.sqrt,Y=R.pow,Z=J/180,et=2*J,tt=i.hasTouch,nt=tt?P:H,rt=i.graphics.getColumnColor,it=i.getFirstColor,st=i.setLineHeight,ot=i.pluckFontSize,ut=i.pluckColor,at=i.getFirstAlpha,ft=i.graphics.getDarkColor,lt=i.graphics.getLightColor,ct=i.graphics.convertColor,ht=i.COLOR_TRANSPARENT,pt=i.POSITION_CENTER,dt=i.POSITION_TOP,vt=i.POSITION_BOTTOM,mt=i.POSITION_RIGHT,gt=i.POSITION_LEFT,yt=i.bindSelectionEvent,bt=i.chartAPI,wt=i.graphics.mapSymbolName,Et=bt.singleseries,St=i.COMMASTRING,xt=i.ZEROSTRING,Tt=i.HUNDREDSTRING,Nt=i.COMMASPACE,Ct=i.getMouseCoordinate,kt=i.plotEventHandler,Lt=r.xssEncode,At=i.SHAPE_RECT,Ot=i.deltend,Mt=i.graphics,_t=Mt.parseColor,Dt=Mt.getValidColor,Pt=i.placeHorizontalAxis,Ht=i.placeVerticalAxis,Bt=i.stepYAxisNames,jt=i.adjustHorizontalCanvasMargin,Ft=i.adjustVerticalCanvasMargin,It=i.getDataParser,qt={pageX:0,pageY:0},Rt,Ut,zt,Wt,Xt=function(){this.data("move",!1);clearTimeout(this._longpressactive);delete this._longpressactive},Vt=i.createElement;i.eventList.chartupdated="FC_ChartUpdated";i.eventList.dataposted="FC_DataPosted";i.eventList.dataposterror="FC_DataPostError";i.eventList.datarestored="FC_DataRestored";r.addEventListener("rendered",function(e){e=e.sender;var t=e.__state,n=e.jsVars&&e.jsVars.instanceAPI;!t.listenersAdded&&n&&"function"===typeof n.getCollatedData&&(e.addEventListener(["chartupdated","dataupdated","rendered"],function(e){delete e.sender.__state.hasStaleData}),t.listenersAdded=!0)});bt("spline",{friendlyName:"Spline Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"spline",rendererId:"spline"},bt.linebase);bt("splinearea",{friendlyName:"Spline Area Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"areaspline",anchorAlpha:"100",rendererId:"spline"},bt.area2dbase);bt("msspline",{friendlyName:"Multi-series Spline Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"spline",rendererId:"spline"},bt.mslinebase);bt("mssplinedy",{friendlyName:"Multi-series Dual Y-Axis Spline Chart",standaloneInit:!0,creditLabel:!1,isDual:!0,series:bt.mscombibase.series,secondarySeriesType:"spline",secondarySeriesFilter:{spline:!0},defaultSeriesFilter:{spline:!0}},bt.msspline);bt("mssplinearea",{friendlyName:"Multi-series Spline Area Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"areaspline",rendererId:"spline"},bt.msareabase);bt("msstepline",{friendlyName:"Multi-series Step Line Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"line",rendererId:"cartesian",stepLine:!0},bt.mslinebase);bt("inversemsline",{friendlyName:"Inverted Y-Axis Multi-series Line Chart",standaloneInit:!0,creditLabel:!1,inversed:!0,rendererId:"cartesian"},bt.mslinebase);bt("inversemsarea",{friendlyName:"Inverted Y-Axis Multi-series Area Chart",standaloneInit:!0,creditLabel:!1,inversed:!0,rendererId:"cartesian"},bt.msareabase);bt("inversemscolumn2d",{friendlyName:"Inverted Y-Axis Multi-series Column Chart",standaloneInit:!0,creditLabel:!1,inversed:!0,rendererId:"cartesian"},bt.mscolumn2dbase);bt("logmsline",{friendlyName:"Multi-series Log Line Chart",standaloneInit:!0,isValueAbs:!0,isLog:!0,configureAxis:bt.logbase.configureAxis,pointValueWatcher:bt.logbase.pointValueWatcher,getLogAxisLimits:bt.logbase.getLogAxisLimits,creditLabel:!1,rendererId:"cartesian"},bt.mslinebase);bt("logmscolumn2d",{friendlyName:"Multi-series Log Column Chart",standaloneInit:!0,isLog:!0,isValueAbs:!0,configureAxis:bt.logbase.configureAxis,pointValueWatcher:bt.logbase.pointValueWatcher,getLogAxisLimits:bt.logbase.getLogAxisLimits,creditLabel:!1,rendererId:"cartesian"},bt.mscolumn2dbase);bt("logstackedcolumn2d",{friendlyName:"Stacked Log Column Chart",standaloneInit:!0,creditLabel:!1,isStacked:!0},bt.logmscolumn2d);bt("errorbar2d",{friendlyName:"Error Bar Chart",standaloneInit:!0,creditLabel:!1,showValues:0,rendererId:"cartesian",isErrorChart:!0,fireGroupEvent:!0,chart:function(){var e=this.base.chart.apply(this,arguments),t=this.drawErrorValue;e.callbacks||(e.callbacks=[]);e.callbacks.push(function(){for(var e=this.elements.plots,n=this.dataset||this.options.series,r=e&&e.length;r--;)n[r]&&t.call(this,e[r],n[r])});return e},point:function(e,t,n,r,i,s,o,u,f){e=p(r.ignoreemptydatasets,0);var l=!1,d=!p(r.halferrorbar,1),m=i[g],w=c(this.isValueAbs,m.isValueAbs,!1),E=p(n.showvalues,m.showValues),S=p(t.yAxis,0),x=p(r.use3dlighting,1),T=i[g].numberFormatter,N=this.colorManager,C=p(r.useplotgradientcolor,1)?v(r.plotgradientcolor,N.getColor("plotGradientColor")):a,k=c(n.alpha,r.plotfillalpha,"100"),L=at(c(n.errorbaralpha,r.errorbaralpha,k)),A=p(n.dashed,r.plotborderdashed,0),O=p(n.dashlen,r.plotborderdashlen,5),M=p(n.dashgap,r.plotborderdashgap,4),_=c(t.type,this.defaultSeriesType),D=i.plotOptions[_]&&i.plotOptions[_].stacking,_=N.getPlotColor(),P,H,B,j,F,I,q,R,U,z,W,V,$,J,K,Q;this.errorBarShadow=p(r.errorbarshadow);t.errorBar2D=!0;t.name=h(n.seriesname);D||(t.columnPosition=p(f,u,o));if(0===p(n.includeinlegend)||0===k||void 0===t.name)t.showInLegend=!1;t.errorBarWidthPercent=p(n.errorbarwidthpercent,r.errorbarwidthpercent,70);t.errorBarColor=ct(it(c(n.errorbarcolor,r.errorbarcolor,"AAAAAA")),L);t.errorBarThickness=p(n.errorbarthickness,r.errorbarthickness,1);t.color=c(n.color,_).split(",")[0].replace(/^#?/g,"#");if(o=n.data)for(V=c(r.plotborderthickness,"1"),D=i.chart.useRoundEdges,f=this.isBar,u=/3d$/.test(i.chart.defaultSeriesType),J=c(r.plotbordercolor,N.getColor("plotBorderColor")).split(",")[0],K="0"==r.showplotborder?"0":c(r.plotborderalpha,"100"),K=u?r.showplotborder?K:"0":K,J=u?c(r.plotbordercolor,"#FFFFFF"):J,N=0;N<s;N+=1)(H=o[N])?(R=T.getCleanValue(H.value,w),U=T.getCleanValue(H.errorvalue,w),null===R?t.data.push({y:null}):(l=!0,q=m.oriCatTmp[N],j=c(H.color,n.color,_),F=at(c(H.alpha,k))+a,P=c(H.ratio,n.ratio,r.plotfillratio),B=c(360-r.plotfillangle,90),0>R&&(B=360-B),z={opacity:F/100},$=X(F,at(K))+a,I=rt(j+","+C,F,P,B,D,J,$,f,u),W={opacity:L/250},Q=this.getPointStub(H,R,q,i,n,E,S,U),q=[],q.push({errorValue:U,toolText:Q._errortoolText,shadow:W}),d&&q.push({errorValue:-U,toolText:Q._errortoolText,shadow:W}),P=this.pointHoverOptions(H,t,{plotType:"column",is3d:u,isBar:f,use3DLighting:x,isRoundEdged:D,color:j,gradientColor:C,alpha:F,ratio:P,angle:B,borderWidth:V,borderColor:J,borderAlpha:$,borderDashed:A,borderDashGap:M,borderDashLen:O,shadow:z}),t.data.push(y(Q,{y:R,shadow:z,errorValue:q,color:I[0],borderColor:I[1],borderWidth:V,use3DLighting:x,dashStyle:p(H.dashed,A)?b(c(H.dashlen,O),c(H.dashgap,M),V):void 0,hoverEffects:P.enabled&&P.options,rolloverProperties:P.enabled&&P.rolloverOptions})),this.pointValueWatcher(i,R,U))):t.data.push({y:null});e&&!l&&(t.showInLegend=!1);return t},pointValueWatcher:function(e,t,n){var r=e[g];null!==t&&(n?(e=t+n,t-=n):e=t,r[0]||(r[0]={}),n=r[0],n.max=n.max>e?n.max:e,n.min=n.min<e?n.min:e,n.max=n.max>t?n.max:t,n.min=n.min<t?n.min:t)},drawErrorValue:function(e,t){var n=this,r=n.options,i=r.plotOptions.series,s=r[g],s=n.smartLabel||s.smartLabel,o=n.paper,u=n.layers,f=n.xAxis[0],l=n.yAxis[0],c=isNaN(+i.animation)&&i.animation.duration||1e3*i.animation,h=u.dataset=u.dataset||o.group("dataset-orphan"),d=e.errorGroup=o.group("errorBar").insertAfter(e.lineLayer||h.column||h),v=u.errorTracker||(u.errorTracker=o.group("hot-error",u.tracker||h).toBack()),m=h.errorValueGroup||(h.errorValueGroup=o.group("errorValues")),y=t.errorBar2D,b=t.data||[],w=b.length,E=e.items,S=!1!==(r.tooltip||{}).enabled,x,T,N,C,k=e.graphics=e.graphics||[],L=!1===t.visible?"hidden":"visible",A=r.chart,O=A.valuePadding||0,A=1==A.rotateValues?270:void 0,M=t.columnPosition||0,P=n.definition.chart,H=f.getAxisPosition(0),B=f.getAxisPosition(1)-H,j=i.groupPadding,I=i.maxColWidth,H=t.numColumns||1,B=(1-.01*(P&&P.plotspacepercent))*B||X(B*(1-2*j),I*H),P=B/H,M=M*P-B/2,H=n.logic,B=!H.avoidCrispError,j=n.canvasHeight+n.canvasTop,q=u.shadows||(u.shadows=o.group("shadows",h).toBack()),u={},I=r.plotOptions.series.dataLabels.style,R=n.chartWidth,U=n.chartHeight,z={fontFamily:I.fontFamily,fontSize:I.fontSize,lineHeight:I.lineHeight,fontWeight:I.fontWeight,fontStyle:I.fontStyle},V,$,J,K,Q,G,Y,Z,et,tt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt=function(e){kt.call(this,n,e)},dt=function(e){kt.call(this,n,e,"DataPlotRollOver")},vt=function(e){kt.call(this,n,e,"DataPlotRollOut")},mt=function(e){return function(){void 0!==e&&n.linkClickFN.call({link:e},n)}},gt=function(){d.show();m.attr({transform:"...t"+ -R+","+ -U});q.show()};if(0<w){for(;w--;)if(x=b[w],r=p(x.errorStartValue,x.y),it=x.errorValue,h=x.link,void 0!==r&&it&&(ut=it.length)){x=p(x.x,w);C=l.getAxisPosition(r);N=f.getAxisPosition(x);y&&(M&&(N+=M),P&&(N+=P/2));tt=E[w]||(E[w]={});tt.errorBars=tt.errorBars||[];tt.errorValues=tt.errorValues||[];tt.trackerBars=tt.trackerBars||[];for($=(V=tt.tracker||tt.graphic)&&V.data("groupId");ut--;)ct=at=ht=null,st=it[ut],et=st.errorStartValue,T=st.tooltext||st.toolText,Q=isNaN(et)?C:l.getAxisPosition(et),J=st.displayValue,ot=st.errorValue,st&&_(ot)&&(K=p(st.isHorizontal,0),lt=p(st.errorBarThickness,t.errorBarThickness,1),at=p(P*t.errorBarWidthPercent/100,st.errorWidth,K?t.hErrorBarWidth:t.vErrorBarWidth,t.errorBarWidth),ft=at/2,at=st.errorBarColor||t.errorBarColor,_(J)&&J!==a&&(ht=o.text(m).attr({text:J,fill:I.color,"text-bound":[I.backgroundColor,I.borderColor,I.borderThickness,I.borderPadding,I.borderRadius,I.borderDash]}).css(z),s.setStyle(z),u=s.getOriSize(J)),K?(J=rt=et=f.getAxisPosition(x+ot),K=N,B&&(J=W(Q)+lt%2/2,K=W(rt)+lt%2/2),Q=[F,N,J,"H",K,F,K,J-ft,"V",J+ft]):(J=rt=et=l.getAxisPosition((et||r)+ot),K=N,B&&(J=W(rt)+lt%2/2,K=W(N)+lt%2/2),Z=.5*(A?u.width:u.height),G=rt+.5*lt+O+Z,Y=rt-.5*lt-O-Z,Q>rt?(et=Y,Y-n.canvasTop<Z&&(et=G)):(et=G,j-G<Z&&(et=Y)),Q=[F,K,Q,"V",J,F,K-ft,J,"H",K+ft]),at=o.path(Q,d).attr({stroke:at,"stroke-width":lt,cursor:h?"pointer":"","stroke-linecap":"round",visibility:L}).shadow(p(H.errorBarShadow,i.shadow)&&0<lt&&st.shadow,q),(h||S)&&lt<nt&&(ct=o.path(Q,v).attr({stroke:D,"stroke-width":nt,cursor:h?"pointer":"",ishot:!!h,visibility:L})),ct=ct||at,ct.data("eventArgs",V&&V.data("eventArgs")||{link:h,toolText:T,displayValue:st.displayValue,value:ot}),ct.click(pt).data("groupId",$).hover(dt,vt).tooltip(T),(h||S)&&ct.click(mt(h)),ht&&(ht.attr({x:N,y:et,title:st.originalText||"",visibility:L}).css(z),A&&ht.attr("transform","T0,0,R"+A)),at&&(k.push(at),tt.errorBars.push(at)),ht&&(k.push(ht),tt.errorValues.push(ht)),ct&&ct!==at&&(k.push(ct),tt.trackerBars.push(ct)));c&&(d.hide(),m.attr({transform:"...t"+R+","+U}),q.hide(),setTimeout(gt,c))}e.visible=!1!==t.visible}}},bt.mscolumn2dbase);bt("errorline",{friendlyName:"Error Line Chart",standaloneInit:!0,creditLabel:!1,chart:bt.errorbar2d.chart,drawErrorValue:bt.errorbar2d.drawErrorValue,useErrorGroup:!0,rendererId:"cartesian",isErrorChart:!0,fireGroupEvent:!0,canvasPaddingModifiers:["anchor","errorbar"],point:function(e,t,n,r,i,s){e=p(r.ignoreemptydatasets,0);var o=!1,u=!p(r.halferrorbar,1),f=i[g],l=c(this.isValueAbs,f.isValueAbs,!1),d=p(n.showvalues,f.showValues),v=p(t.yAxis,0),m=this.numberFormatter,w=this.colorManager,E=it(c(n.color,r.linecolor,w.getPlotColor())),S=i.chart,x=p(n.alpha,r.linealpha,"100"),T=p(n.errorbaralpha,r.errorbaralpha,x),N=p(n.linethickness,r.linethickness,2),C=Boolean(p(n.dashed,r.linedashed,0)),k=p(n.linedashlen,r.linedashlen,5),L=p(n.linedashgap,r.linedashgap,4),A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,st,ot;this.errorBarShadow=p(r.errorbarshadow);t.name=h(n.seriesname);t.color={FCcolor:{color:E,alpha:x}};t.lineWidth=N;H=p(n.drawanchors,n.showanchors,r.drawanchors,r.showanchors);J=p(n.anchorsides,r.anchorsides,0);K=p(n.anchorradius,r.anchorradius,3);Q=it(c(n.anchorbordercolor,r.anchorbordercolor,E));G=p(n.anchorborderthickness,r.anchorborderthickness,1);Y=it(c(n.anchorbgcolor,r.anchorbgcolor,w.getColor("anchorBgColor")));Z=c(n.anchoralpha,r.anchoralpha,"100");et=c(n.anchorbgalpha,r.anchorbgalpha,Z);tt=p(n.anchorstartangle,r.anchorstartangle,90);w=t.anchorShadow=p(r.anchorshadow,0);t.errorBarWidth=p(r.errorbarwidth,n.errorbarwidth,5);t.errorBarColor=ct(it(c(n.errorbarcolor,r.errorbarcolor,"AAAAAA")),T);t.errorBarThickness=X(N,p(n.errorbarthickness,r.errorbarthickness,1));if(0===p(n.includeinlegend)||void 0===t.name||0===x&&1!==H)t.showInLegend=!1;t.marker={fillColor:{FCcolor:{color:Y,alpha:et*Z/100+a}},lineColor:{FCcolor:{color:Q,alpha:Z+a}},lineWidth:G,radius:K,symbol:wt(J),startAngle:tt};if(r=n.data)for(_=0;_<s;_+=1)(z=r[_])?(O=m.getCleanValue(z.value,l),M=m.getCleanValue(z.errorvalue,l),null===O?t.data.push({y:null}):(o=!0,U=p(z.anchorsides,J),R=p(z.anchorradius,K),I=it(c(z.anchorbordercolor,Q)),q=p(z.anchorborderthickness,G),F=it(c(z.anchorbgcolor,Y)),B=c(z.anchoralpha,Z),j=c(z.anchorbgalpha,et),D=it(c(z.color,E)),P=c(z.alpha,x),rt=p(z.dashed,C)?b(k,L,N):void 0,W={opacity:P/100},nt=void 0===H?0!==P:!!H,A=f.oriCatTmp[_],ot=this.getPointStub(z,O,A,i,n,d,v,M),st=[],st.push({errorValue:M,toolText:ot._errortoolText,shadow:{opacity:T/250}}),u&&st.push({errorValue:null===M?null:-M,toolText:ot._errortoolText,shadow:{opacity:T/250}}),V=c(z.anchorstartangle,tt),$=Boolean(p(z.anchorshadow,w,0)),A=this.pointHoverOptions(z,t,{plotType:"anchor",anchorBgColor:F,anchorAlpha:B,anchorBgAlpha:j,anchorAngle:V,anchorBorderThickness:q,anchorBorderColor:I,anchorBorderAlpha:B,anchorSides:U,anchorRadius:R,shadow:W}),t.data.push(y(ot,{y:O,shadow:W,dashStyle:rt,errorValue:st,valuePosition:c(z.valueposition,S.valuePosition),color:{FCcolor:{color:D,alpha:P}},marker:{enabled:nt,shadow:$&&{opacity:B/100},fillColor:{FCcolor:{color:F,alpha:j*B/100+a}},lineColor:{FCcolor:{color:I,alpha:B}},lineWidth:q,radius:R,symbol:wt(U),startAngle:V},hoverEffects:A.enabled&&A.options,rolloverProperties:A.enabled&&A.rolloverOptions})),bt.errorbar2d.pointValueWatcher(i,O,M))):t.data.push({y:null});e&&!o&&(t.showInLegend=!1);return t}},bt.mslinebase);bt("errorscatter",{friendlyName:"Error Scatter Chart",isXY:!0,standaloneInit:!0,creditLabel:!1,chart:bt.errorbar2d.chart,drawErrorValue:bt.errorbar2d.drawErrorValue,defaultZeroPlaneHighlighted:!1,useErrorGroup:!0,rendererId:"cartesian",isErrorChart:!0,fireGroupEvent:!0,point:function(e,t,n,r,i,s,o){e=p(r.ignoreemptydatasets,0);s=!1;var u=p(n.drawline,0),f=p(n.drawprogressioncurve,0),l,d,v=p(n.showvalues,i[g].showValues),m=this.numberFormatter,y=p(n.showregressionline,r.showregressionline,0),w=c(r.errorbarcolor,"AAAAAA"),E=c(r.errorbaralpha,"100"),S=p(r.errorbarthickness,1);d=p(r.errorbarwidth,5);var x=p(r.halfverticalerrorbar,1),T=p(n.verticalerrorbaralpha,n.errorbaralpha,r.verticalerrorbaralpha,E),N=ct(c(n.verticalerrorbarcolor,n.errorbarcolor,r.verticalerrorbarcolor,w),T),C=p(n.verticalerrorbarthickness,n.errorbarthickness,r.verticalerrorbarthickness,S),k=p(r.halfhorizontalerrorbar,1),E=c(n.horizontalerrorbaralpha,n.errorbaralpha,r.horizontalerrorbaralpha,E),w=ct(c(n.horizontalerrorbarcolor,n.errorbarcolor,r.horizontalerrorbarcolor,w),E),S=p(n.horizontalerrorbarthickness,n.errorbarthickness,r.horizontalerrorbarthickness,S),L=p(n.usehorizontalerrorbar,r.usehorizontalerrorbar,0),A=p(n.useverticalerrorbar,r.useverticalerrorbar,1),O={sumX:0,sumY:0,sumXY:0,sumXsqure:0,sumYsqure:0,xValues:[],yValues:[]};l=this.colorManager;var M=l.getPlotColor(),_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt;this.errorBarShadow=p(r.errorbarshadow);t.zIndex=1;t.name=h(n.seriesname);if(0===p(n.includeinlegend)||void 0===t.name)t.showInLegend=!1;t.vErrorBarWidth=p(n.verticalerrorbarwidth,n.errorbarwidth,r.verticalerrorbarwidth,d);t.hErrorBarWidth=p(n.horizontalerrorbarwidth,n.errorbarwidth,r.horizontalerrorbarwidth,d);if(u||f)f&&(t.type="spline"),D=it(c(n.color,M)),u=c(n.alpha,Tt),f=p(n.linethickness,r.linethickness,2),d=Boolean(p(n.linedashed,n.dashed,r.linedashed,0)),P=p(n.linedashlen,r.linedashlen,5),H=p(n.linedashgap,r.linedashgap,4),t.color=ct(c(n.linecolor,r.linecolor,D),p(n.linealpha,r.linealpha,u)),t.lineWidth=f,t.dashStyle=d?b(P,H,f):void 0;u=Boolean(p(n.drawanchors,n.showanchors,r.drawanchors,r.showanchors,1));o=p(n.anchorsides,r.anchorsides,o+3);f=p(n.anchorradius,r.anchorradius,3);D=it(c(n.anchorbordercolor,n.color,r.anchorbordercolor,D,M));M=p(n.anchorborderthickness,r.anchorborderthickness,1);H=it(c(n.anchorbgcolor,r.anchorbgcolor,l.getColor("anchorBgColor")));j=c(n.anchoralpha,n.alpha,r.anchoralpha,"100");F=c(n.anchorbgalpha,r.anchorbgalpha,j);P=c(n.anchorstartangle,r.anchorstartangle);t.anchorShadow=p(r.anchorshadow,0);t.marker={fillColor:this.getPointColor(H,"100"),lineColor:{FCcolor:{color:D,alpha:j+a}},lineWidth:M,radius:f,symbol:wt(o)};if(l=n.data){d=l.length;y&&(t.events={hide:this.hideRLine,show:this.showRLine},Y=p(n.showyonx,r.showyonx,1),Z=it(c(n.regressionlinecolor,r.regressionlinecolor,D)),et=p(n.regressionlinethickness,r.regressionlinethickness,M),r=at(p(n.regressionlinealpha,r.regressionlinealpha,j)),Z=ct(Z,r));for(_=0;_<d;_+=1)(B=l[_])?(r=m.getCleanValue(B.y),V=m.getCleanValue(B.x),m.getCleanValue(B.errorvalue),$=m.getCleanValue(c(B.horizontalerrorvalue,B.errorvalue)),J=m.getCleanValue(c(B.verticalerrorvalue,B.errorvalue)),null===r?t.data.push({y:null,x:V}):(s=!0,K=this.getPointStub(B,r,m.xAxis(V),i,n,v,void 0,J,$,V),I=p(B.anchorsides,o),q=p(B.anchorradius,f),R=it(c(B.anchorbordercolor,D)),U=p(B.anchorborderthickness,M),z=it(c(B.anchorbgcolor,H)),W=c(B.anchoralpha,B.alpha,j),X=c(B.anchorbgalpha,F),Q=Boolean(p(B.usehorizontalerrorbar,L)),G=Boolean(p(B.useverticalerrorbar,A)),tt=[],Q&&(Q=K._hErrortoolText,tt.push({errorValue:$,toolText:Q,errorBarColor:w,isHorizontal:1,errorBarThickness:S,shadow:{opacity:E/250}}),k||tt.push({errorValue:-$,toolText:Q,errorBarColor:w,isHorizontal:1,errorBarThickness:S,shadow:{opacity:E/250}})),G&&(G=K._errortoolText,tt.push({errorValue:J,toolText:G,errorBarColor:N,errorBarThickness:C,shadow:{opacity:T/250}}),x||tt.push({errorValue:-J,toolText:G,errorBarColor:N,errorBarThickness:C,shadow:{opacity:T/250}})),G=this.pointHoverOptions(B,t,{plotType:"anchor",anchorBgColor:z,anchorAlpha:W,anchorBgAlpha:X,anchorAngle:P,anchorBorderThickness:U,anchorBorderColor:R,anchorBorderAlpha:W,anchorSides:I,anchorRadius:q}),t.data.push({y:r,x:V,errorValue:tt,displayValue:K.displayValue,toolText:K.toolText,link:K.link,marker:{enabled:u,shadow:void 0,fillColor:{FCcolor:{color:z,alpha:X*W/100+a}},lineColor:{FCcolor:{color:R,alpha:W}},lineWidth:U,radius:q,symbol:wt(I),startAngle:c(B.anchorstartangle,P)},hoverEffects:G.enabled&&G.options,rolloverProperties:G.enabled&&G.rolloverOptions}),this.pointValueWatcher(i,x?r:r-J,k?V:V-$,y&&O),this.pointValueWatcher(i,r+J,V+$,y&&O))):t.data.push({y:null});y&&(n=this.getRegressionLineSeries(O,Y,d),this.pointValueWatcher(i,n[0].y,n[0].x),this.pointValueWatcher(i,n[1].y,n[1].x),i={type:"line",color:Z,showInLegend:!1,lineWidth:et,enableMouseTracking:!1,marker:{enabled:!1},data:n,zIndex:0},t=[t,i])}e&&!s&&(t.showInLegend=!1);return t}},bt.scatterbase);bt("waterfall2d",{friendlyName:"Waterfall Chart",standaloneInit:!0,isWaterfall:!0,creditLabel:!1,point:function(e,t,n,r,i){var s,o,u,f,y,w,E,S,x,T,N,C,k,L,A;e=c(r.connectorthickness,1);var O={step:!0,type:"line",enableMouseTracking:!1,data:[],dataLabels:{enabled:!1},marker:{enabled:!1},dashStyle:"1"===r.connectordashed?b(p(r.connectordashlen,2),p(r.connectordashgap,2),e):void 0,drawVerticalJoins:!1,useForwardSteps:!0,color:ct(c(r.connectorcolor,"000000"),c(r.connectoralpha,100)),lineWidth:e},M=this.colorManager,_=n.length,D=i[g],P=D.axisGridManager,H=i.xAxis,B=D.x,j=/3d$/.test(i.chart.defaultSeriesType),F=this.isBar,I="1"===c(r.showplotborder,j?"0":"1")?j?1:p(r.plotborderthickness,1):0,q=i.chart.useRoundEdges,R=p(r.plotborderalpha,r.plotfillalpha,100)+a,U=c(r.plotbordercolor,M.getColor("plotBorderColor").split(",")[0]),z=p(r.useplotgradientcolor,1)?v(r.plotgradientcolor,M.getColor("plotGradientColor")):a,W=p(r.plotborderdashed,0),X=p(r.plotborderdashlen,6),V=p(r.plotborderdashgap,3),$=0,J=Boolean(p(r.use3dlighting,1)),K=0,Q=0,G=i[g].numberFormatter,Y,Z=0,et,tt=p(r.showsumatend,1);for(s=0;s<_;s+=1)S=n[s],e=G.getCleanValue(S.value),u=p(S.issum,0),S.vline||u||(Z+=e,S._value=e);Y=G.dataLabels(Z);tt&&(tt=!0,_+=1,et={label:d(r.sumlabel,"Total"),_value:Z,value:Z,issum:1,cumulative:1});for(o=s=0;s<_;s+=1)S=n[s],!S&&tt&&(S=et),S.vline?P.addVline(H,S,$,i):(e=S._value,delete S._value,u=p(S.issum,0),E=p(S.cumulative,1),u?(e=E?K:K===Q?K:K-Q,Q=K,O.data.push({y:null,x:o-.5})):K+=e,u=p(S.showlabel,r.showlabels,1),u=m(u?d(S.label,S.name):a),P.addXaxisCat(H,$,$,u),$+=1,0<e?(f=c(S.color,r.positivecolor,M.getPlotColor()),t.hoverEffects&&(t.hoverEffects.color=c(S.positivehovercolor,r.positivehovercolor,r.plotfillhovercolor))):(f=c(S.color,r.negativecolor,M.getPlotColor()),t.hoverEffects&&(t.hoverEffects.color=c(S.negativehovercolor,r.negativehovercolor,r.plotfillhovercolor))),y=c(S.alpha,r.plotfillalpha,"100"),w=c(S.ratio,r.plotfillratio),x=c(360-r.plotfillangle,90),0>e&&(x=360-x),C=c(S.alpha,R),k=p(S.dashed,W),L=c(S.dashgap,V),A=c(S.dashlen,X),T={opacity:y/100,inverted:F},E=rt(f+St+z.replace(/,+?$/,""),y,w,x,q,U,c(S.alpha,R),F,j),N=k?b(A,L,I):"none",f=this.pointHoverOptions(S,t,{plotType:"column",is3d:j,isBar:F,use3DLighting:J,isRoundEdged:q,color:f,gradientColor:z,alpha:y,ratio:w,angle:x,borderWidth:I,borderColor:U,borderAlpha:C,borderDashed:k,borderDashGap:L,borderDashLen:A,shadow:T}),y=h(m(S.displayvalue)),w=null===e?e:G.dataLabels(e),x=h(m(c(S.tooltext,D.tooltext))),x=D.showTooltip?void 0!==x?l(x,[1,2,3,5,6,7,20,21,24,25],{formattedValue:w,label:u,yaxisName:m(r.yaxisname),xaxisName:m(r.xaxisname),cumulativeValue:K,cumulativeDataValue:G.dataLabels(K),sum:Y,unformattedSum:Z},S,r):null===w?!1:u!==a?u+D.tooltipSepChar+w:w:a,y=p(S.showvalue,D.showValues)?void 0!==y?y:w:a,t.data.push({y:e,_FCY:0>e?K-e:K,previousY:0>e?K:0===K-e?void 0:K-e,shadow:T,color:E[0],borderColor:E[1],borderWidth:I,dashStyle:N,use3DLighting:J,hoverEffects:f.enabled&&f.options,rolloverProperties:f.enabled&&f.rolloverOptions,displayValue:y,categoryLabel:u,toolText:x,link:c(S.link)}),O.data.push({y:e&&K,x:o}),this.pointValueWatcher(i,K),o+=1);B.catCount=$;"0"!=r.showconnectors&&(t=[O,t]);return t},defaultSeriesType:"column",rendererId:"cartesian"},Et);bt("multilevelpie",{friendlyName:"Multi-level Pie Chart",standaloneInit:!0,defaultSeriesType:"multilevelpie",rendererId:"multiLevelPie",defaultPlotShadow:0,series:function(){var e=this.dataObj,t=this.hcJSON,n=e.chart,r=t.series,i={},s=Boolean(p(n.usehovercolor,1)),o=ct(c(n.hoverfillcolor,"FF5904"),p(n.hoverfillalpha,100)),u=parseInt(n.pieradius,10),a=0,f=!0;t.chart.plotBorderColor=0;t.chart.plotBackgroundColor=null;t.plotOptions.series.dataLabels.style=t.xAxis.labels.style;t.plotOptions.series.dataLabels.color=t.xAxis.labels.style.color;t.legend.enabled=!1;t.plotOptions.pie.allowPointSelect=!1;t.plotOptions.series.borderColor=ct(c(n.plotbordercolor,n.piebordercolor,"FFFFFF"),"0"!=n.showplotborder?c(n.plotborderalpha,n.pieborderalpha,100):0);t.plotOptions.series.borderWidth=p(n.pieborderthickness,n.plotborderthickness,1);t.plotOptions.pie.startingAngle=0;t.plotOptions.pie.size="100%";i.showLabels=p(n.showlabels,1);i.showValues=p(n.showvalues,0);i.showValuesInTooltip=p(n.showvaluesintooltip,n.showvalues,0);i.showPercentValues=p(n.showpercentvalues,n.showpercentagevalues,0);i.showPercentInTooltip=p(n.showpercentintooltip,0);i.toolTipSepChar=c(n.tooltipsepchar,n.hovercapsepchar,Nt);i.labelSepChar=c(n.labelsepchar,i.toolTipSepChar);i.tooltext=n.plottooltext;s&&(t.plotOptions.series.point.events={mouseOver:function(){for(var e=this,t=e.chart.plots,n,r;e;)e.graphic.attr({fill:o}),r=e.prevPointIndex,e=e.prevSeriesIndex,e=(n=t[e])&&n.items&&n.items[r]},mouseOut:function(){for(var e=this,t=e.chart.plots,n,r;e;)e.graphic.attr({fill:e.color}),r=e.prevPointIndex,e=e.prevSeriesIndex,e=(n=t[e])&&n.items&&n.items[r]}});t.chart.plotBorderWidth=0;e.category&&this.addMSPieCat(e.category,0,0,100,c(n.plotfillalpha,n.piefillalpha,100),i,null);u=parseInt(n.pieradius,10);a=0;f=!0;u?(e=2*u/r.length,f=!1):e=parseInt(100/r.length,10);t.plotOptions.series.dataLabels.distance=0;t.plotOptions.series.dataLabels.placeLabelsInside=!0;for(t=0;t<r.length;t+=1)r[t].innerSize=a+(f?"%":""),r[t].size=(a+=e)+(f?"%":""),0===r[t].data[r[t].data.length-1].y&&r[t].data.pop()},spaceManager:function(e,t,n,r){var i=e[g];this.titleSpaceManager(e,t,n-(i.marginLeftExtraSpace+i.marginRightExtraSpace+e.chart.marginRight+e.chart.marginLeft),.4*(r-(i.marginBottomExtraSpace+i.marginTopExtraSpace+e.chart.marginBottom+e.chart.marginTop)))},addMSPieCat:function(e,t,n,r,i,s,o){var u=this.numberFormatter,f=this.colorManager,d,v,g=0,y=e.length-1,b,w,E;d=this.hcJSON.series;var S=s.labelSepChar,x,T,N,C,k,L;void 0===this.colorCount&&(this.colorCount=0);0===t&&(this.colorCount=0);d[t]||(d[t]={data:[{toolText:!1,doNotSlice:!0,y:100,visible:!1,color:"rgba(255,255,255,0)"}]});d=d[t];(v=n-100+d.data[d.data.length-1].y)&&d.data.splice(d.data.length-1,0,{toolText:!1,doNotSlice:!0,y:v,visible:!1,color:"rgba(255,255,255,0)"});d.data[d.data.length-1].y=100-r;for(w=0;w<=y;w+=1)b=e[w],b._userValue=u.getCleanValue(b.value,this.isValueAbs),b._value=p(b._userValue,1),g+=b._value;g=g||1;v=(r-n)/g;for(w=y;0<=w;w-=1)b=e[w],y=v*b._value,E=m(c(b.label,b.name)),N=null!==b._userValue?u.dataLabels(b._userValue):a,C=u.percentValue(b._value/g*100),x=d.data.length-1,T=p(b.alpha,i),L=s.showLabels?E:a,s.showValues&&(s.showPercentValues?L+=L!==a?S+C:C:void 0!==N&&N!==a&&(L+=L!==a?S+N:N)),k=m(c(b.tooltext,b.hovertext,s.tooltext)),k===a?(k=E,s.showValuesInTooltip&&(s.showPercentInTooltip?k+=k!==a?S+C:C:void 0!==N&&N!==a&&(k+=k!==a?S+N:N))):k=l(k,[1,2,3,14],{percentValue:C,label:E,formattedValue:N},b),d.data.splice(x,0,{prevPointIndex:o,prevSeriesIndex:t-1,displayValue:L,toolText:k,y:y,link:h(b.link),doNotSlice:!0,color:ct(b.color||f.getPlotColor(),T),shadow:{opacity:.01*W(50<T?T*T*T*1e-4:T*T*.01)}}),this.colorCount+=1,b.category&&this.addMSPieCat(b.category,t+1,n,0===w?r:n+y,i,s,x),n+=y},isValueAbs:!0,creditLabel:!1},Et);bt("radar",{friendlyName:"Radar Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"radar",areaAlpha:50,spaceManager:function(e,t,n,r){e.chart.plotBorderWidth=0;e.chart.plotBackgroundColor=null;var i=e[g],s=i.x,o=e.xAxis,u=e.yAxis[0],a=t.chart,u=p(a.labelpadding,a.labelxpadding,parseInt(u&&u.labels&&u.labels.style&&u.labels.style.fontSize||10,10));n-=i.marginLeftExtraSpace+i.marginRightExtraSpace+e.chart.marginRight+e.chart.marginLeft;r-=i.marginBottomExtraSpace+i.marginTopExtraSpace+e.chart.marginBottom+e.chart.marginTop;i=this.colorManager;r-=this.titleSpaceManager(e,t,n,.4*r);o.min=p(s.min,0);o.max=p(s.max,s.catCount-1);o.gridLineColor=ct(c(a.radarspikecolor,i.getColor("divLineColor")),p(a.radarspikealpha,a.radarinlinealpha,i.getColor("divLineAlpha")));o.gridLineWidth=p(a.radarspikethickness,1);o.showRadarBorder=p(a.showradarborder,1);o.radarBorderThickness=p(a.radarborderthickness,2);o.radarBorderColor=ct(c(a.radarbordercolor,i.getColor("divLineColor")),p(a.radarborderalpha,100));o.radarFillColor=ct(c(a.radarfillcolor,i.getColor("altHGridColor")),p(a.radarfillalpha,i.getColor("altHGridAlpha")));e.legend.enabled&&(c(a.legendposition,vt).toLowerCase()!=mt?r-=this.placeLegendBlockBottom(e,t,n,r/2):n-=this.placeLegendBlockRight(e,t,n/3,r));t=p(a.radarradius);s=2*p(parseInt(o.labels.style.lineHeight,10),12);a=2*u;s=X(n-(100+a),r-(s+a));t=t||.5*s;n=X(.3*n,.3*r);t<n&&(t=n);e.chart.axisRadius=t;o.labels.labelPadding=u},anchorAlpha:"100",showValues:0,isRadar:!0,rendererId:"radar"},bt.msareabase);Rt={dragExtended:!0,defaultRestoreButtonVisible:1,spaceManager:function(e,t,n,i){var s=e[g],o=e.chart,u=t.chart,a=s.outCanvasStyle,f=i-.3*(s.marginBottomExtraSpace+o.marginBottom+o.marginTop),l=0,d=0,s=this.smartLabel||s.smartLabel,v,m;o.formAction=h(u.formaction);o.formDataFormat=c(u.formdataformat,r.dataFormats.XML);o.formTarget=c(u.formtarget,"_self");o.formMethod=c(u.formmethod,"POST");o.submitFormAsAjax=p(u.submitformusingajax,1);o.showFormBtn=p(u.showformbtn,1)&&o.formAction;o.formBtnTitle=c(u.formbtntitle,"Submit");o.formBtnBorderColor=c(u.formbtnbordercolor,"CBCBCB");o.formBtnBgColor=c(u.formbtnbgcolor,"FFFFFF");o.btnPadding=p(u.btnpadding,7);o.btnSpacing=p(u.btnspacing,5);o.formBtnStyle={fontSize:a.fontSize,fontFamily:a.fontFamily,fontWeight:"bold"};o.formBtnLabelFill=a.color;u.btntextcolor&&(o.formBtnLabelFill=u.btntextcolor.replace(N,C));0<=(a=p(u.btnfontsize))&&(o.formBtnStyle.fontSize=a+"px");st(o.formBtnStyle);o.showRestoreBtn=p(u.showrestorebtn,this.defaultRestoreButtonVisible,1);o.showRestoreBtn&&(o.restoreBtnTitle=c(u.restorebtntitle,"Restore"),o.restoreBtnBorderColor=c(u.restorebtnbordercolor,o.formBtnBorderColor),o.restoreBtnBgColor=c(u.restorebtnbgcolor,o.formBtnBgColor),o.restoreBtnStyle={fontSize:o.formBtnStyle.fontSize,fontFamily:o.formBtnStyle.fontFamily,fontWeight:"bold"},o.restoreBtnLabelFill=o.formBtnLabelFill,u.restorebtntextcolor&&(o.restoreBtnLabelFill=u.restorebtntextcolor.replace(N,C)),0<=(a=p(u.restorebtnfontsize))&&(o.restoreBtnStyle.fontSize=a+"px"),st(o.restoreBtnStyle));o.showLimitUpdateMenu=p(u.showlimitupdatemenu,1);o.showFormBtn&&(s.setStyle(o.formBtnStyle),v=s.getOriSize(o.formBtnTitle),l=v.height||0);o.showRestoreBtn&&(s.setStyle(o.restoreBtnStyle),m=s.getOriSize(o.restoreBtnTitle),l=V(m.height,l)||0);0<l&&(l+=o.btnPadding+4,l>f&&(o.btnPadding=V(o.btnPadding-l+f,0)/2,l=f));o.btnHeight=l;o.showFormBtn&&(d=v.width+l,o.formBtnWidth=p(u.formbtnwidth,d),o.formBtnWidth<v.width&&(o.formBtnWidth=d));o.showRestoreBtn&&(d=m.width+l,o.restoreBtnWidth=p(u.restorebtnwidth,d),o.restoreBtnWidth<m.width&&(o.restoreBtnWidth=d));o.marginBottom+=l+o.btnPadding;o.spacingBottom+=l+o.btnPadding;(e.callbacks||(e.callbacks=[])).push(this.drawButtons);return this.placeVerticalXYSpaceManager.apply(this,arguments)},drawButtons:function(){var e=this.logic,t=this.paper,n=this.options.chart,r=n.btnSpacing,i=this.chartHeight-n.spacingBottom+n.btnPadding,s=this.chartWidth-n.spacingRight,o=this.layers.layerAboveDataset,u=0;n.showFormBtn&&(this.submitBtn=t.button(s-n.formBtnWidth,i,n.formBtnTitle,void 0,{width:n.formBtnWidth,height:n.btnHeight,verticalPadding:1,horizontalPadding:15},o).labelcss(n.formBtnStyle).attr({fill:[it(n.formBtnBgColor),n.formBtnLabelFill],stroke:it(n.formBtnBorderColor)}).buttonclick(function(){e.chartInstance.submitData()}),u=n.formBtnWidth+r);n.showRestoreBtn&&(this.restoreBtn=t.button(s-n.restoreBtnWidth-u,i,n.restoreBtnTitle,void 0,{width:n.restoreBtnWidth,height:n.btnHeight,verticalPadding:1,horizontalPadding:15},o).labelcss(n.restoreBtnStyle).attr({fill:[it(n.restoreBtnBgColor),n.restoreBtnLabelFill],stroke:it(n.restoreBtnBorderColor)}).buttonclick(function(){e.chartInstance.restoreData()}))},drawAxisUpdateUI:function(){var e=this,t=e.logic,n=e.elements,r=e.options,s=r.chart,o=r[g],a=t.chartInstance,t=t.renderer,f=e.yAxis[0],l=f.axisData,c=f.poi,h=l.plotLines,p=e.container,d=r.chart.showRangeError,v=o.inCanvasStyle,r=e.toolbar||(e.toolbar=[]),f=e.menus||(e.menus=[]),m=k({outline:"none","-webkit-appearance":"none",filter:"alpha(opacity=0)",position:"absolute",background:"transparent",border:"1px solid #cccccc",textAlign:"right",top:0,left:0,width:50,zIndex:20,opacity:0,borderRadius:0},v),y,b;t&&!t.forExport&&(b=function(t,n,r){if(t===n+"")return null;n=r?a.setUpperLimit(t,!0):a.setLowerLimit(t,!0);!n&&d&&e.showMessage("Sorry! Not enough range gap to modify axis limit to "+(Number(t)||"0")+".<br />Please modify the data values to be within range.<br />&nbsp;<br />(click anywhere on the chart to close this message)",!0);return n},L(["max","min"],function(t){t=c[t];var n=t.label,r=h[t.index];t=n&&n.getBBox();var o,a,f,l,d,g,y;if(t&&n){a=t.x+t.width-s.spacingLeft;f=s.marginLeft-a-(S?4:5);o=Vt("input",{type:"text",value:r.value},p,!0);k(m,{top:t.y+(S?-1:0)+"px",left:f+"px",width:a+"px"});for(l in m)o.style[l]=m[l];i.dem.listen(o,["focus","mouseup","blur","keyup"],[function(){var e={opacity:1,filter:"alpha(opacity=100)",color:v.color},t;this.value=r.value;for(t in e)this.style[t]=e[t];d=y=!0;n.hide()},function(){var e=this;y&&(y=!1,tt||setTimeout(function(){e.select()},0))},function(){!0!==b(this.value,r.value,r.isMaxLabel)&&(this.style.opacity=0,this.style.filter="alpha(opacity=0)",n.show());T&&u.getElementsByTagName("body")[0].focus&&u.getElementsByTagName("body")[0].focus();d=y=!1},function(e){var t=e.originalEvent.keyCode,n=this.value;13===t?(e=b(n,r.value,r.isMaxLabel),!1===e&&(this.style.color="#dd0000")):27===t&&(this.value=r.value,i.dem.fire(this,"blur",e))}]);o.setAttribute("isOverlay","true");S?(A(e,"defaultprevented",g=function(e){o.parentNode&&i.dem.fire(o,"blur",e)}),A(e,"destroy",function(){O(e,"defaultprevented",g);o.parentNode.removeChild(o)})):(A(e.container,"mousedown",g=function(e){e.srcElement!==o&&d&&i.dem.fire(o,"blur",e)}),A(e,"destroy",function(){O(e.container,"mousedown",g);o.parentNode.removeChild(o)}))}}),s.showLimitUpdateMenu&&(f.push(y=x({chart:e,basicStyle:o.outCanvasStyle,items:[{text:"Increase Upper Limit",onclick:function(){a.setUpperLimit(l.max+l.tickInterval,!0)}},{text:"Increase Lower Limit",onclick:function(){a.setLowerLimit(l.min+l.tickInterval,!0)}},{text:"Decrease Upper Limit",onclick:function(){a.setUpperLimit(l.max-l.tickInterval,!0)}},{text:"Decrease Lower Limit",onclick:function(){a.setLowerLimit(l.min-l.tickInterval,!0)}}],position:{x:s.spacingLeft,y:a.height-s.spacingBottom+(s.showFormBtn||s.showRestoreBtn?10:-15)}})),n.configureButton=r.add("configureIcon",function(e,t){return function(){y.visible?y.hide():y.show({x:e,y:t+1})}}(),{x:s.spacingLeft,y:a.height-s.spacingBottom+(s.showFormBtn||s.showRestoreBtn?10:-15),tooltip:"Change Y-Axis Limits"})))},getCollatedData:function(){var e=this.chartInstance,t=e.__state,n=e.jsVars,e=this.updatedDataObj||y({},e.getChartData(r.dataFormats.JSON)),i=n._reflowData,n=e.dataset,s=(i=i&&i.hcJSON&&i.hcJSON.series)&&i.length,o,u,a,f;if(void 0!==t.hasStaleData&&!t.hasStaleData&&this.updatedDataObj)return this.updatedDataObj;if(n&&i)for(;s--;)if(u=n[s]&&n[s].data,(o=(a=i[s]&&i[s].data)&&a.length)&&u)for(;o--;)if(f=a[o])u[o].value=f.y;t.hasStaleData=!1;return this.updatedDataObj=e},eiMethods:{restoreData:function(){var e=this.jsVars,t=e.fcObj;e._reflowData={};delete e._reflowClean;r.hcLib.createChart(t,e.container,e.type,void 0,void 0,!1,!0);i.raiseEvent("dataRestored",{},t,[t.id]);return!0},submitData:function(){var e=this.jsVars,t=e.fcObj,n=t.__state,s=n._submitAjaxObj||(n._submitAjaxObj=new r.ajax),n=r.dataFormats.JSON,u=r.dataFormats.CSV,a=r.dataFormats.XML,e=e.instanceAPI,f=e.hcJSON.chart,l=f.formAction,c=f.submitFormAsAjax,h,p,d,v,m;f.formDataFormat===n?(h=n,p=JSON.stringify(e.getCollatedData())):f.formDataFormat===u?(h=u,p=e.getCSVString&&e.getCSVString(),void 0===p&&(p=r.core.transcodeData(e.getCollatedData(),n,u))):(h=a,p=r.core.transcodeData(e.getCollatedData(),n,a));r.raiseEvent("beforeDataSubmit",{data:p},t,void 0,function(){c?(s.onError=function(e,n,r,s){i.raiseEvent("dataSubmitError",{xhrObject:n.xhr,url:s,statusText:e,httpStatus:n.xhr&&n.xhr.status?n.xhr.status:-1,data:p},t,[t.id,e,n.xhr&&n.xhr.status])},s.onSuccess=function(e,n,r,o){i.raiseEvent("dataSubmitted",{xhrObject:s,response:e,url:o,data:p},t,[t.id,e])},d={},d["str"+h.toUpperCase()]=p,s.open&&s.abort(),s.post(l,d)):(v=o.document.createElement("span"),v.innerHTML='<form style="display:none" action="'+l+'" method="'+f.formMethod+'" target="'+f.formTarget+'"> <input type="hidden" name="strXML" value="'+Lt(p)+'"><input type="hidden" name="dataFormat" value="'+h.toUpperCase()+'" /></form>',m=v.removeChild(v.firstChild),o.document.body.appendChild(m),m.submit&&m.submit(),m.parentNode.removeChild(m),v=m=null)},function(){r.raiseEvent("dataSubmitCancelled",{data:p},t)})},getDataWithId:function(){for(var e=this.jsVars.instanceAPI.getCollatedData(),t=[[a]],n=e.dataset,e=e.categories&&e.categories[0]&&e.categories[0].category,r=n&&n.length||0,i=0,s,o,u,f,l,c;r--;)if(o=n[r])for(t[0][r+1]=o.id||o.seriesname,f=o.id||r+1,c=(o=o.data)&&o.length||0,l=0;l<c;l+=1){u=l+1;if(!t[u]){for(s=e&&e[l+i]||{};s.vline;)i+=1,s=e[l+i]||{};s=s.label||s.name||a;t[u]=[s]}s=t[u];u=o[l].id||u+"_"+f;s[r+1]=[u,Number(o[l].value)]}return t},getData:function(e){var t=this.jsVars.instanceAPI.getCollatedData(),n=[[a]],i=t.dataset,s=t.categories&&t.categories[0]&&t.categories[0].category,o=i&&i.length||0,u=0,f,l,c;if(e)n=/^json$/ig.test(e)?t:r.core.transcodeData(t,"json",e);else for(;o--;)if(e=i[o])for(n[0][o+1]=i[o].seriesname,t=(e=i[o]&&i[o].data)&&e.length||0,c=0;c<t;c+=1){l=c+1;if(!n[l]){for(f=s&&s[c+u]||{};f.vline;)u+=1,f=s[c+u]||{};f=f.label||f.name||a;n[l]=[f]}l=n[l];l[o+1]=Number(e[c].value)}return n},setYAxisLimits:function(e,t){var n=this.jsVars.instanceAPI,r=n.hcJSON,i=n.dataObj,s=i&&i.chart||{},r=r&&r.yAxis&&r.yAxis[0]||!1,o=!1;s.animation=!1;if(!r)return!1;void 0!==e&&e>n.highValue&&e!==r.max?(s.yaxismaxvalue=e,o=!0):(e=n.highValue>r.max?n.highValue:r.max,s.yaxismaxvalue=e);void 0!==t&&t<n.lowValue&&t!==r.min?(s.yaxisminvalue=t,o=!0):(t=n.lowValue<r.min?n.lowValue:r.min,s.yaxisminvalue=t);o&&n.updateChartWithData(i);return o},getUpperLimit:function(){var e=this.jsVars.instanceAPI.hcJSON;return(e=e.yAxis&&e.yAxis[0])?e.max:void 0},setUpperLimit:function(e){return this.jsVars.fcObj.setYAxisLimits(e,void 0)},getLowerLimit:function(){var e=this.jsVars.instanceAPI.hcJSON;return(e=e.yAxis&&e.yAxis[0])?e.min:void 0},setLowerLimit:function(e){return this.jsVars.fcObj.setYAxisLimits(void 0,e)}},updateChartWithData:function(e){var t=this.chartInstance,n=t.jsVars,i=e&&e.chart;e=n._reflowData||(n._reflowData={});i={dataObj:{chart:{yaxisminvalue:p(i.yaxisminvalue),yaxismaxvalue:p(i.yaxismaxvalue),animation:i.animation}}};y(e,i,!0);r.hcLib.createChart(t,n.container,n.type)},preSeriesAddition:function(){var e=this,t=e.hcJSON,n=e.dataObj.chart,r=t.chart;e.tooltipSepChar=t[g].tooltipSepChar;r.allowAxisChange=p(n.allowaxischange,1);r.changeDivWithAxis=1;r.snapToDivOnly=p(n.snaptodivonly,0);r.snapToDiv=r.snapToDivOnly?1:p(n.snaptodiv,1);r.snapToDivRelaxation=p(n.snaptodivrelaxation,10);r.doNotSnap=p(n.donotsnap,0);r.doNotSnap&&(r.snapToDiv=r.snapToDivOnly=0);r.showRangeError=p(n.showrangeerror,0);p(n.allowaxischange,1)&&(t.callbacks||(t.callbacks=[])).push(function(t){var n=this,r=arguments,i;A(t,"destroy",function(){i&&(i=clearTimeout(i))});i=setTimeout(function(){e.drawAxisUpdateUI.apply(n,r);i=null},1)})},getTooltextCreator:function(){var e=arguments;return function(){var t=arguments,n=t.length,r,i,s;for(s=0;s<n;s+=1)void 0!==(i=t[s])&&void 0!==(r=e[s])&&(e[s]="object"===typeof r?y(r,i):i);return l.apply(this,e)}},getPointStub:function(e,t,n,r,i,s,o){var u=this.isDual,f=this.dataObj.chart;r=r[g];var l=null===t?t:r.numberFormatter.dataLabels(t,1===o?!0:!1),v=h(m(c(e.tooltext,i.plottooltext,r.tooltext))),y=r.tooltipSepChar,b=i._sourceDataset;t=p(e.allowdrag,b.allowdrag,1);var b=p(e.allownegativedrag,b.allownegativedrag,i.allownegativedrag,1),w,E,S,x,T=0,N=0,C,k;r.showTooltip?void 0!==v?(k=this.getTooltextCreator(v,[1,2,3,4,5,6,7],{yaxisName:m(u?o?f.syaxisname:f.pyaxisname:f.yaxisname),xaxisName:m(f.xaxisname),formattedValue:l,label:n},e,f,i),i=k(),i===v&&(k=void 0,T=1)):null===l?i=!1:(r.seriesNameInToolTip&&(x=d(i&&i.seriesname)),i=x?x+y:a,C=i+=n?n+y:a,r.showPercentInToolTip?w=!0:i+=l):i=!1;p(e.showvalue,s)?void 0!==h(e.displayvalue)?(S=m(e.displayvalue),N=1):r.showPercentValues?E=!0:S=l:S=a;e=c(e.link);return{displayValue:S,categoryLabel:n,toolText:i,link:e,showPercentValues:E,showPercentInToolTip:w,allowDrag:t,allowNegDrag:b,_toolTextStr:C,_isUserValue:N,_isUserTooltip:T,_getTooltext:k}}};bt("dragnode",{friendlyName:"Dragable Node Chart",standaloneInit:!0,decimals:2,numdivlines:0,numVDivLines:0,defaultZeroPlaneHighlighted:!1,defaultZeroPlaneHidden:!0,spaceManager:Rt.spaceManager,drawButtons:Rt.drawButtons,updateChartWithData:Rt.updateChartWithData,creditLabel:!1,canvasPaddingModifiers:null,defaultSeriesType:"dragnode",rendererId:"dragnode",tooltipsepchar:" - ",showAxisLimitGridLines:0,cleanedData:function(e,t){var n=e&&e.hcJSON,r=t&&t.hcJSON,i,s,o,u,a,f,l,c,h;if(n&&r){if(n.series&&r.series&&(a=r.series.length))for(c=0;c<a;c+=1)if(s=r.series[c],i=n.series[c],s.data&&(f=s.data.length))for(h=0;h<f;h+=1)!0===s.data[h]&&i&&i.data&&i.data[h]&&(delete i.data[h],i.data[h]={y:null});if(n.connectors&&r.connectors&&(o=r.connectors.length))for(c=0;c<o;c+=1)if(s=r.connectors[c],i=n.connectors[c],s.connector&&(l=s.connector.length))for(h=0;h<l;h+=1)!0===s.connector[h]&&i&&i.connector&&i.connector[h]&&(delete i.connector[h],i.connector[h]={});if(n.dragableLabels&&r.dragableLabels&&(u=r.dragableLabels.length))for(c=0;c<u;c+=1)!0===r.dragableLabels[c]&&n.dragableLabels[c]&&(delete n.dragableLabels[c],n.dragableLabels[c]={})}},eiMethods:y(k(bt.scatterbase.eiMethods,Rt.eiMethods),{addNode:function(t){var n=this.jsVars,i=n.instanceAPI,s=n._reflowData||(n._reflowData={}),o=i.hcJSON,u=i.numberFormatter,i=c(t.datasetId),a=u.getCleanValue(t.y),u=u.getCleanValue(t.x),f=!1,l=o.series,h=l.length,p=o.xAxis.min,d=o.xAxis.max,v=o.yAxis[0].min,m=o.yAxis[0].max,o={hcJSON:{series:[]}},g=o.hcJSON.series,b;if(void 0!==i&&null!==a&&a>=v&&a<=m&&null!==u&&u>=p&&u<=d){for(p=0;p<h&&!f;p+=1)i==l[p].id&&(g[p]={data:[]},f=!0,b=l[p],v=b.data,d=v.length,v.push(v=b._dataParser(t,d,u,a)),g[p].data[d]=v,y(s,o,!0),b={index:d,dataIndex:d,link:t.link,y:t.y,x:t.x,shape:t.shape,width:t.width,height:t.height,radius:t.radius,sides:t.sides,label:t.name,toolText:t.tooltext,id:t.id,datasetIndex:p,datasetName:b.name,sourceType:"dataplot"});if(f)return e(n,b,"nodeadded"),r.raiseEvent("nodeadded",b,n.fcObj),!0}return!1},getNodeAttribute:function(e){var t=this.jsVars,n=t.instanceAPI,t=t._reflowData||(t._reflowData={}),t=t.hcJSON&&t.hcJSON.series||[],n=n.hcJSON.series,r=n.length,i,s,o,u;if(void 0!==e)for(i=0;i<r;i+=1)for(s=n[i],u=s.data,o=u.length,s=0;s<o;s+=1)if(u[s].id===e)return t[i]&&t[i].data&&t[i].data[s]?y(u[s]._options,t[i].data[s]._options,!0):u[s]._options;return!1},setNodeAttribute:function(t,n,i){var s=this.jsVars,o=s.instanceAPI,u=s._reflowData||(s._reflowData={}),a=o.hcJSON,f=o.numberFormatter,l=a.series,c=l.length,h=a.xAxis.min,p=a.xAxis.max,d=a.yAxis[0].min,v=a.yAxis[0].max,a={hcJSON:{series:[]}},o=a.hcJSON.series,m=u.hcJSON&&u.hcJSON.series||[],g,b,w,E;"object"===typeof n&&void 0===i?E=n:(E={},E[n]=i);if(void 0!==t)for(n=0;n<c;n+=1)for(g=l[n],b=g.data,w=b.length,i=0;i<w;i+=1)if(t===b[i].id)return t=b[i],delete E.id,m[n]&&m[n].data&&m[n].data[i]&&m[n].data[i]._options&&(E=y(m[n].data[i]._options,E,!0)),E=y(t._options,E,!0),t=f.getCleanValue(E.y),f=f.getCleanValue(E.x),null!==t&&t>=d&&t<=v&&null!==f&&f>=h&&f<=p?(o[n]={data:[]},h=g._dataParser(E,i,f,t),p={index:i,dataIndex:i,link:E.link,y:E.y,x:E.x,shape:E.shape,width:E.width,height:E.height,radius:E.radius,sides:E.sides,label:E.name,toolText:E.tooltext,id:E.id,datasetIndex:n,datasetName:g.name,sourceType:"dataplot"},o[n].data[i]=h,y(u,a,!0),e(s,p,"nodeupdated"),r.raiseEvent("nodeupdated",p,s.fcObj),!0):!1;return!1},deleteNode:function(t){if(void 0!==t){var n=this.jsVars,i=n.instanceAPI,s=n._reflowClean||(n._reflowClean={}),o=i.hcJSON.series,u={hcJSON:{series:[]}},a,f,l,c,h;if(o&&(l=o.length))for(c=0;c<l;c+=1)if((i=o[c])&&(f=i.data)&&(a=f.length))for(h=0;h<a;h+=1)if(t===f[h].id)return u.hcJSON.series[c]={data:[]},u.hcJSON.series[c].data[h]=!0,y(s,u,!0),t=f[h],t={index:h,dataIndex:h,link:t.link,y:t.y,x:t.x,shape:t._options.shape,width:t._options.width,height:t._options.height,radius:t._options.radius,sides:t._options.sides,label:t.displayValue,toolText:t.toolText,id:t.id,datasetIndex:c,datasetName:i.name,sourceType:"dataplot"},e(n,t,"nodedeleted"),r.raiseEvent("nodedeleted",t,n.fcObj),!0}return!1},addConnector:function(t){if("object"===typeof t){var n=this.jsVars,i=n.instanceAPI,s=n._reflowData||(n._reflowData={}),i=i.hcJSON,o=i.connectors&&i.connectors[0]||{connector:[]},i=o.connector.length,u={hcJSON:{connectors:[{connector:[]}]}};t=o._connectorParser&&o._connectorParser(t,i);o={arrowAtEnd:t.arrowAtEnd,arrowAtStart:t.arrowAtStart,fromNodeId:t.from,id:t.id,label:t.label,link:t.connectorLink,sourceType:"connector",toNodeId:t.to};u.hcJSON.connectors[0].connector[i]=t;y(s,u,!0);e(n,o,"connectoradded");r.raiseEvent("connectoradded",o,n.fcObj);return!0}return!1},editConnector:function(t,n,i){var s=this.jsVars,o=s.instanceAPI,u=s._reflowData||(s._reflowData={}),o=o.hcJSON,a=o.connectors||(o.connectors=[]),f=a.length,o={hcJSON:{connectors:[]}},l=o.hcJSON.connectors,c,h,p,d;"object"===typeof n&&void 0===i?d=n:(d={},d[n]=i);if(void 0!==t)for(n=0;n<f;n+=1)if((h=a[n])&&(c=h.connector))for(p=c.length,i=0;i<p;i+=1)if(t===c[i].id)return c=c[i],delete d.id,u.hcJSON&&u.hcJSON.connectors&&u.hcJSON.connectors[n]&&u.hcJSON.connectors[n].connector&&u.hcJSON.connectors[n].connector[i]&&u.hcJSON.connectors[n].connector[i]._options&&(d=y(u.hcJSON.connectors[n].connector[i]._options,d,!0)),d=y(c._options,d,!0),t={arrowAtEnd:Boolean(d.arrowatend),arrowAtStart:Boolean(d.arrowatstart),fromNodeId:d.from,id:t,label:d.label,link:d.link,sourceType:"connector",toNodeId:d.to},l[n]={connector:[]},c=h._connectorParser(d,i),l[n].connector[i]=c,y(u,o,!0),e(s,t,"connectorupdated"),r.raiseEvent("connectorupdated",t,s.fcObj),!0;return!1},deleteConnector:function(t){if(void 0!==t){var n=this.jsVars,i=n.instanceAPI,s=n._reflowClean||(n._reflowClean={}),o=i.hcJSON.connectors,i={hcJSON:{connectors:[]}},u,a,f,l,c,h={};if(o&&(l=o.length))for(c=0;c<l;c+=1)if((u=o[c])&&(f=u.connector)&&(a=f.length))for(u=0;u<a;u+=1)if(t===f[u].id)return t=f[u],h={arrowAtEnd:t.arrowAtEnd,arrowAtStart:t.arrowAtStart,fromNodeId:t.from,id:t.id,label:t.label,link:t.connectorLink,sourceType:"connector",toNodeId:t.to},i.hcJSON.connectors[c]={connector:[]},i.hcJSON.connectors[c].connector[u]=!0,y(s,i,!0),e(n,h,"connectordeleted"),r.raiseEvent("connectordeleted",h,n.fcObj),!0}return!1},addLabel:function(t){if(t){var n=this.jsVars,i=n.instanceAPI,s=n._reflowData||(n._reflowData={}),o={hcJSON:{dragableLabels:[]}};o.hcJSON.dragableLabels[(i.hcJSON.dragableLabels||[]).length]=t;y(s,o,!0);t={text:t.text,x:t.x,y:t.y,allowdrag:t.allowdrag,sourceType:"labelnode",link:t.link};e(n,t,"labeladded");r.raiseEvent("labeladded",t,n.fcObj);return!0}return!1},deleteLabel:function(t,n){var i=this.jsVars,s=i.instanceAPI,o=i._reflowClean||(i._reflowClean={}),u={hcJSON:{dragableLabels:[]}};return t<(s.hcJSON.dragableLabels||[]).length?(u.hcJSON.dragableLabels[t]=!0,y(o,u,!0),e(i,n,"labeldeleted"),r.raiseEvent("labeldeleted",n,i.fcObj),!0):!1},setThreshold:function(e){var t=this.jsVars.hcObj.connectorsStore||[],n=t.length,r,i;for(i=0;i<n;i+=1)(r=t[i])&&r.options&&(r.options.conStrength<e?(r.graphic&&r.graphic.hide(),r.text&&(r.text.hide(),r.text.textBoundWrapper&&r.text.textBoundWrapper.hide())):(r.graphic&&r.graphic.show(),r.text&&(r.text.show(),r.text.textBoundWrapper&&r.text.textBoundWrapper.show())))}}),getCollatedData:function(){var e=this.chartInstance,t=e.__state,n=e.jsVars,e=this.updatedDataObj||y({},e.getChartData(r.dataFormats.JSON)),i=n._reflowData,s=n._reflowClean,n=(e.labels||(e.labels={label:[]}))&&(e.labels.label||(e.labels.label=[])),o=i&&i.hcJSON&&i.hcJSON.dragableLabels,u=s&&s.hcJSON&&s.hcJSON.dragableLabels,a=e.connectors,f=i&&i.hcJSON&&i.hcJSON.connectors,l=s&&s.hcJSON&&s.hcJSON.connectors,c=e.dataset,h=i&&i.hcJSON&&i.hcJSON.series,i=s&&s.hcJSON&&s.hcJSON.series,s=h&&h.length,p,d,v,m;if(void 0!==t.hasStaleData&&!t.hasStaleData&&this.updatedDataObj)return this.updatedDataObj;if(c&&h)for(;s--;)if(d=c[s]&&c[s].data,(p=(v=h[s]&&h[s].data)&&v.length)&&d)for(;p--;)if(m=v[p])d[p]?y(d[p],m._options):d[p]=m._options;if(s=f&&f.length)for(e.connectors||(a=e.connectors=[{connector:[]}]);s--;)if(h=a[s]&&a[s].connector,(p=(d=f[s]&&f[s].connector)&&d.length)&&h)for(;p--;)if(v=d[p])h[p]?y(h[p],v._options):h[p]=v._options;if((s=o&&o.length)&&o)for(;s--;)o[s]&&(n[s]=o[s]);Ot(c,i);Ot(a,l);Ot(n,u);t.hasStaleData=!1;return this.updatedDataObj=e},createHtmlDialog:function(e,t,n,r,i,s){var o=e.paper,u=this.hcJSON[g].inCanvasStyle,a=e.chartWidth,f=e.chartHeight,l={color:u.color,textAlign:"center",paddingTop:"1px",border:"1px solid #cccccc",borderRadius:"4px",cursor:"pointer",_cursor:"hand",backgroundColor:"#ffffff",zIndex:21,"-webkit-border-radius":"4px"},c;c=o.html("div",{fill:"transparent",width:a,height:f},{fontSize:"10px",lineHeight:"15px",fontFamily:u.fontFamily},e.container);c.veil=o.html("div",{fill:"000000",width:a,height:f,opacity:.3},void 0,c);c.dialog=o.html("div",{x:(a-t)/2,y:(f-n)/2,fill:"efefef",strokeWidth:1,stroke:"000000",width:t,height:n},{borderRadius:"5px",boxShadow:"1px 1px 3px #000000","-webkit-border-radius":"5px","-webkit-box-shadow":"1px 1px 3px #000000",filter:'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color="#000000")'},c);c.ok=o.html("div",{x:t-70-5,y:n-23-5,width:65,height:17,text:"Submit",tabIndex:1},l,c.dialog).on("click",r);c.cancel=o.html("div",{x:t-140-5,y:n-23-5,width:65,height:17,text:"Cancel",tabIndex:2},l,c.dialog).on("click",i);c.remove=o.html("div",{x:t-210-5,y:n-23-5,width:65,height:17,text:"Delete",tabIndex:3,visibility:"hidden"},l,c.dialog).on("click",s);c.handleKeyPress=function(e){13===e.keyCode?c.ok.trigger(tt?"touchStart":"click",e):27===e.keyCode&&c.cancel.trigger(tt?"touchStart":"click",e)};c.hide();return c},nodeUpdateUIDefinition:[{key:"id",text:"Id",inputWidth:60,x:10,y:15},{key:"dataset",text:"Dataset",inputType:"select",inputWidth:110,innerHTML:void 0,x:170,y:15},{key:"x",text:"Value",x:10,y:40,inputWidth:21},{key:"y",text:",",x:88,y:40,inputWidth:21,labelWidth:5},{text:"(x, y)",x:125,y:40,labelWidth:33,noInput:!0},{key:"tooltip",text:"Tooltip",inputWidth:105,x:170,y:40},{key:"label",text:"Label",inputWidth:92,x:10,y:65},{key:"labelalign",text:"Align",labelWidth:70,inputWidth:110,inputType:"select",innerHTML:'<option></option><option value="top">Top</option><option value="middle">Middle</option><option value="bottom">Bottom</option>',x:145,y:63},{key:"color",text:"Color",x:10,y:90,inputWidth:60},{key:"colorOut",innerHTML:"&nbsp;",x:85,y:90,inputWidth:15,inputType:"span"},{key:"alpha",text:"Alpha",x:170,y:90,inputWidth:20},{key:"draggable",text:"Allow Drag",value:!0,inputWidth:20,x:250,y:90,labelWidth:58,inputPaddingTop:3,type:"checkbox"},{key:"shape",text:"Shape",inputType:"select",inputWidth:97,innerHTML:'<option value="rect">Rectangle</option><option value="circ">Circle</option><option value="poly">Polygon</option>',x:10,y:115},{key:"rectHeight",text:"Height",x:170,y:115,inputWidth:20},{key:"rectWidth",text:"Width",x:255,y:115,inputWidth:20},{key:"circPolyRadius",text:"Radius",x:170,y:115,inputWidth:20},{key:"polySides",text:"Sides",x:255,y:115,inputWidth:20},{key:"link",text:"Link",x:10,y:140,inputWidth:92},{key:"image",text:"Image",type:"checkbox",inputPaddingTop:4,inputWidth:20,x:10,y:170},{key:"imgUrl",text:"URL",inputWidth:105,x:170,y:170},{key:"imgWidth",text:"Width",inputWidth:20,x:10,y:195},{key:"imgHeight",text:"Height",inputWidth:20,x:82,y:195},{key:"imgAlign",text:"Align",inputType:"select",inputWidth:75,innerHTML:'<option value="top">Top</option><option value="middle">Middle</option><option value="bottom">Bottom</option>',x:170,y:195}],showNodeUpdateUI:function(){var e=function(e){e=e.cacheUpdateUI;for(var t=e.fields.shape,n=["rectWidth","rectHeight","circPolyRadius","polySides"],r=n.length,i;r--;)i=n[r],/rect|poly|circ/ig.test(i)&&(e.labels[i].hide(),e.fields[i].hide()),RegExp(c(t.val(),"rect"),"ig").test(i)&&(e.labels[i].show(),e.fields[i].show())},t=function(e){e=e.cacheUpdateUI.fields;var t=Dt(e.color.val());t&&e.colorOut.css({background:_t(t)})},n=function(e,t){var n=e.cacheUpdateUI,r=e.chartHeight,s=n.fields.image.val(),o=t?300:0,u=["imgWidth","imgHeight","imgAlign","imgUrl"],a,f,l;a=s?250:215;n.ok.hide();n.cancel.hide();n.remove.hide();n.error.hide();for(f=u.length;!s&&f--;)l=u[f],n.labels[l].hide(),n.fields[l].hide();i.danimate.animate(n.dialog.element,{top:(r-a)/2,height:a},o,"linear",function(){for(f=u.length;f--&&s;)l=u[f],n.labels[l].show(),n.fields[l].show();n.ok.attr({y:a-23-5}).show();n.cancel.attr({y:a-23-5}).show();n.remove.attr({y:a-23-5});n.error.attr({y:a-23-5+4}).show();n.edit?n.remove.show():n.remove.hide()})};return function(r,i,s){var o=this,u=r.cacheUpdateUI,f=r.paper,l={width:"80px",border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",padding:"2px",fontFamily:o.hcJSON[g].inCanvasStyle.fontFamily},c=0,h={textAlign:"right"},p=u&&u.fields,v=u&&u.labels,m;u||(u=r.cacheUpdateUI=o.createHtmlDialog(r,350,215,function(){var e=u&&u.fields,t=u.edit,n=o.chartInstance,r=o.hcJSON,i,s,a,f,l,h,p;if(!r)return!1;i=r.xAxis.min;s=r.yAxis[0].min;r=r.series;a=r.length;if(e){switch(e.shape.val()){case"circ":l="circle";break;case"poly":l="polygon";break;default:l="rectangle"}p={x:d(e.x.val(),i),y:d(e.y.val(),s),id:i=e.id.val(),datasetId:e.dataset.val(),name:e.label.val(),tooltext:e.tooltip.val(),color:e.color.val(),alpha:e.alpha.val(),labelalign:e.labelalign.val(),allowdrag:e.draggable.val(),shape:l,width:e.rectWidth.val(),height:e.rectHeight.val(),radius:e.circPolyRadius.val(),numsides:e.polySides.val(),imagenode:e.image.val(),imagewidth:e.imgWidth.val(),imageheight:e.imgHeight.val(),imagealign:e.imgAlign.val(),imageurl:e.imgUrl.val(),link:e.link.val()};if(void 0!==i&&!t)for(c=0;c<a&&!f;c+=1)for(l=r[c].data,h=l.length,s=0;s<h;s+=1)i===l[s].id&&(f=!0);if(f)u.error.attr({text:"ID already exist."}),e.label.focus();else{t?n&&n.setNodeAttribute&&n.setNodeAttribute(p.id,p):n&&n.addNode&&n.addNode(p);return}}u.enableFields()},function(){u.hide();u.enableFields();u.error.attr({text:a})},function(){o.chartInstance.deleteNode&&o.chartInstance.deleteNode(u.fields.id.val())}),m=u.dialog,v=u.labels={},p=u.fields={});u.config=i;u.edit=s;u.error||(u.error=f.html("span",{color:"ff0000",x:30,y:228},void 0,m));u.enableFields||(u.enableFields=function(){for(var e in i)i[e]&&i[e].disabled&&p[e]&&p[e].element.removeAttribute("disabled")});L(this.nodeUpdateUIDefinition,function(s){var o,c=s.key,g={},y=i[c]||{},b,w;!v[c]&&(v[c]=f.html("label",{x:s.x,y:s.y,width:s.labelWidth||45,text:s.text},h,m));if(!s.noInput){o=p[c];if(!o){l.border="checkbox"==s.type?a:"1px solid #cccccc";o=p[c]=f.html(s.inputType||"input",{x:s.labelWidth&&s.labelWidth+5||50,y:-2+(s.inputPaddingTop||0),width:s.inputWidth||50},l);if("select"!==s.inputType)o.attr({type:s.type||"text"}).on("keyup",u.handleKeyPress);o.add(v[c])}_(b=d(y.innerHTML,s.innerHTML))&&(g.innerHTML=b);y.disabled&&(g.disabled="disabled");o.attr(g);_(w=d(y.value,s.value))&&o.val(w);"shape"==c&&o.on("change",function(){e(r)});"image"==c&&o.on("click",function(){n(r,!0)});"color"==c&&o.on("keyup",function(){t(r)})}});t(r);n(r);e(r);r.options.chart.animation?u.fadeIn("fast"):u.show();u.fields[s?"label":"id"].focus()}}(),labelUpdateUIDefinition:[{key:"label",text:"Label*",x:10,y:15,inputWidth:235},{key:"size",text:"Size",x:10,y:40},{key:"padding",text:"Padding",x:10,y:65},{key:"x",text:"Position",x:120,y:65,labelWidth:70,inputWidth:25},{key:"y",text:",",x:225,y:65,labelWidth:10,inputWidth:25},{key:"xy",text:"(x, y)",x:260,y:65,noInput:!0},{key:"allowdrag",text:"Allow Drag",x:120,y:40,inputType:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:70,val:1},{key:"color",text:"Color",x:10,y:90},{key:"alpha",text:"Alpha",x:145,y:90,inputWidth:30,val:"100"},{key:"bordercolor",text:"Border Color",x:10,y:125,labelWidth:100},{key:"bgcolor",text:"Background Color",x:10,y:150,labelWidth:100}],showLabelUpdateUI:function(e,t){var n=this,r=e.paper,i=e.cacheLabelUpdateUI,s={border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",fontFamily:n.hcJSON[g].inCanvasStyle.fontFamily,padding:"2px"},o={textAlign:"right"},u=i&&i.fields,a=i&&i.labels,f,l,h;i||(i=e.cacheLabelUpdateUI=n.createHtmlDialog(e,315,205,function(){var e=i&&i.fields,t;e&&(t={text:e.label.val(),x:e.x.val(),y:e.y.val(),color:e.color.val(),alpha:e.alpha.val(),bgcolor:e.bgcolor.val(),bordercolor:e.bordercolor.val(),fontsize:e.size.val(),allowdrag:e.allowdrag.val(),padding:e.padding.val()},t.text?n.chartInstance&&n.chartInstance.addLabel&&n.chartInstance.addLabel(t):(i.error.attr({text:"Label cannot be blank."}),e.label.focus()))},function(){i.error.attr({text:""});i.hide()}),h=i.dialog,a=i.labels={},u=i.fields={});L(n.labelUpdateUIDefinition,function(e){var n=e.key;a[n]||(a[n]=r.html("label",{x:e.x,y:e.y,width:e.labelWidth||45,text:e.text},o,h));e.noInput||((f=u[n])||(f=u[n]=r.html("input",{y:-2+(e.inputPaddingTop||0),x:e.labelWidth&&e.labelWidth+5||50,width:e.inputWidth||50,type:e.inputType||"text"},s,a[n]).on("keyup",i.handleKeyPress)),void 0!==(l=c(t[n],e.val))&&f.val(l))});i.error||(i.error=r.html("span",{color:"ff0000",x:10,y:180},void 0,h));e.animation?i.fadeIn("fast"):i.show();i.fields.label.focus()},showLabelDeleteUI:function(e,t){var n=this,r=e.paper,i=e["cache-label-delete-ui"],s=t.data&&t.data("data")||{},o=t.data&&t.data("eventArgs"),s=s&&s.labelNode;i||(i=e["cache-label-delete-ui"]=n.createHtmlDialog(e,250,100,void 0,function(){i.hide()},function(){n.chartInstance.deleteLabel(s.index,o)}),i.message=r.html("span",{x:10,y:10,width:230,height:80}).add(i.dialog),i.ok.hide(),i.remove.translate(175).show());i.message.attr({text:'Would you really like to delete the label: "'+s.text+'"?'});e.animation?i.fadeIn("fast"):i.show()},connectorUpdateUIDefinition:[{key:"fromid",text:"Connect From",inputType:"select",x:10,y:15,labelWidth:80,inputWidth:100},{key:"toid",text:"Connect To",inputType:"select",x:10,y:40,labelWidth:80,inputWidth:100},{key:"arratstart",text:"Arrow At Start",x:200,y:15,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"arratend",text:"Arrow At End",x:200,y:40,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"label",text:"Label",x:10,y:75,labelWidth:40,inputWidth:120},{key:"id",text:"Node ID",x:190,y:75,inputWidth:55},{key:"color",text:"Color",x:10,y:100,labelWidth:40,inputWidth:35},{key:"alpha",text:"Alpha",x:110,y:100,inputWidth:25,labelWidth:35},{key:"strength",text:"Strength",x:190,y:100,inputWidth:55,val:"0.1"},{key:"url",text:"Link",x:10,y:125,labelWidth:40,inputWidth:120},{key:"tooltext",text:"Tooltip",x:190,y:125,labelWidth:40,inputWidth:60},{key:"dashed",text:"Dashed",x:10,y:150,type:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:40},{key:"dashgap",text:"Dash Gap",x:85,y:150,labelWidth:60,inputWidth:25},{key:"dashlen",text:"Dash Length",x:190,y:150,labelWidth:70,inputWidth:30}],showConnectorUpdateUI:function(e,t,n){var r=this.chartInstance,i=e.paper,s=e.cacheConnectorUpdateUI,o={border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",fontFamily:this.hcJSON[g].inCanvasStyle.fontFamily,padding:"2px"},u={textAlign:"right"},a=s&&s.fields,f=s&&s.labels,l,h,p,d;s||(s=e.cacheConnectorUpdateUI=this.createHtmlDialog(e,315,215,function(){var e=s&&s.fields,t;e&&(t={from:e.fromid.val(),to:e.toid.val(),id:e.id.val(),label:e.label.val(),color:e.color.val(),alpha:e.alpha.val(),link:e.url.val(),tooltext:e.tooltext.val(),strength:e.strength.val(),arrowatstart:e.arratstart.val(),arrowatend:e.arratend.val(),dashed:e.dashed.val(),dashlen:e.dashlen.val(),dashgap:e.dashgap.val()},t.from?t.to?t.from!=t.to?(n?r.editConnector(t.id,t):r.addConnector(t),s.enableFields()):(s.error.attr({text:"Connector cannot start and end at the same node!"}),e.fromid.focus()):(s.error.attr({text:"Please select a valid connector end."}),e.toid.focus()):(s.error.attr({text:"Please select a valid connector start."}),e.fromid.focus()))},function(){s.error.attr({text:""});s.enableFields();s.hide()},function(){r.deleteConnector(s.fields.id.val())}),d=s.dialog,f=s.labels={},a=s.fields={});s.config=t;s.enableFields=function(){for(var e in t)t[e]&&t[e].disabled&&a[e]&&a[e].element.removeAttribute("disabled")};L(this.connectorUpdateUIDefinition,function(e){var n=e.key,r=t[n]||{};f[n]||(f[n]=i.html("label",{x:e.x,y:e.y,width:e.labelWidth||45,text:e.text},u,d));if(!e.noInput){if(!(h=a[n])){h=a[n]=i.html(e.inputType||"input",{y:-2+(e.inputPaddingTop||0),x:e.labelWidth&&e.labelWidth+5||50,width:e.inputWidth||50},o);if("select"!==e.inputType)h.attr({type:e.type||"text"}).on("keyup",s.handleKeyPress);h.add(f[n])}(l=c(r.innerHTML,e.innerHTML))&&h.attr({innerHTML:l});void 0!==(p=c(r.val,e.val))&&h.val(p);r.disabled&&h.attr({disabled:"disabled"})}});s.checkDash=function(){var e=a.dashed&&a.dashed.val()?"show":"hide";f.dashgap&&f.dashgap[e]();a.dashgap&&a.dashgap[e]();f.dashlen&&f.dashlen[e]();a.dashlen&&a.dashlen[e]()};s.checkDash();a.dashed.on("click",s.checkDash);s.error||(s.error=i.html("span",{color:"ff0000",x:10,y:170},void 0,d));s.remove[n?"show":"hide"]();e.animation?s.fadeIn("fast"):s.show()},drawNodeUpdateButtons:function(){var e=this,t=e.logic,n=e.options,r=n.chart,i=n.pointStore||{},s=n.series,n=(n=n[g])&&n.outCanvasStyle||e.outCanvasStyle||{},o=e.menu||(e.menu=[]),u=e.toolbar,f=s.length,l="",c="",h,p;for(p in i)l+='<option value="'+p+'">'+p+"</option>";for(p=0;p<f;p+=1)i=s[p],c+='<option value="'+i.id+'">'+(i.name!==a&&void 0!==i.name&&i.name+St+" "||a)+i.id+"</option>";o.push(h=x({chart:e,basicStyle:n,items:[{text:"Add a Node",onclick:function(){t.showNodeUpdateUI(e,{dataset:{innerHTML:c}})}},{text:"Add a Label",onclick:function(){t.showLabelUpdateUI(e,{})}},{text:"Add a Connector",onclick:function(){t.showConnectorUpdateUI(e,{fromid:{innerHTML:l},toid:{innerHTML:l}})}}],position:{x:r.spacingLeft,y:e.chartHeight-r.spacingBottom+(r.showFormBtn||r.showRestoreBtn?10:-15)}}));e.elements.configureButton=u.add("configureIcon",function(e,t){return function(){h.visible?h.hide():h.show({x:e,y:t+1})}}(),{x:r.spacingLeft,y:e.chartHeight-r.spacingBottom+(r.showFormBtn||r.showRestoreBtn?10:-15),tooltip:"Add or edit items"})},postSeriesAddition:function(){var e=this.hcJSON,t=this.dataObj.chart,n=this.base.postSeriesAddition&&this.base.postSeriesAddition.apply(this,arguments);e.legend.enabled="1"==t.showlegend?!0:!1;(e.chart.viewMode=p(t.viewmode,0))||(e.callbacks||(e.callbacks=[])).push(this.drawNodeUpdateButtons);return n},pointHoverOptions:function(e,t,n,r){var i=p(e.showhovereffect,t.showhovereffect,n.plothovereffect,n.showhovereffect),s={},o=!!c(e.hovercolor,t.hovercolor,n.plotfillhovercolor,e.hoveralpha,t.hoveralpha,n.plotfillhoveralpha,e.borderhovercolor,t.borderhovercolor,n.plotborderhovercolor,e.borderhoveralpha,t.borderhoveralpha,n.plotborderhoveralpha,e.borderhoverthickness,t.borderhoverthickness,n.plotborderhoverthickness,e.hoverheight,t.hoverheight,n.plothoverheight,e.hoverwidth,t.hoverwidth,n.plothoverwidth,e.hoverradius,t.hoverradius,n.plothoverradius,i),u=!1;if(void 0===i&&o||i)u=!0,i=c(e.hovercolor,t.hovercolor,n.plotfillhovercolor,lt(r.color,70)),o=c(e.hoveralpha,t.hoveralpha,n.plotfillhoveralpha,r.alpha),s={stroke:ct(c(e.borderhovercolor,t.borderhovercolor,n.plotborderhovercolor,r.borderColor),p(e.borderhoveralpha,t.borderhoveralpha,n.plotborderhoveralpha,o,r.borderAlpha)),"stroke-width":p(e.borderhoverthickness,t.borderhoverthickness,n.plotborderhoverthickness,r.borderThickness),height:p(e.hoverheight,t.hoverheight,n.plothoverheight,r.height),width:p(e.hoverwidth,t.hoverwidth,n.plothoverwidth,r.width),r:p(e.hoverradius,t.hoverradius,n.plothoverradius,r.radius)},e=r.use3D?this.getPointColor(it(c(e.hovercolor,t.hovercolor,n.plotfillhovercolor,lt(r.color,70))),c(e.hoveralpha,t.hoveralpha,n.plotfillhoveralpha,r.alpha),r.shapeType):ct(i,o),s.fill=w(e);return{enabled:u,rolloverProperties:s}},point:function(e,t,n,r,i,s,o){var u=this;e=p(r.ignoreemptydatasets,0);var f=u.numberFormatter,l=(s=n.data)&&s.length,d=p(n.showvalues,i[g].showValues),v=p(r.useroundedges),m=!1,b=u.colorManager,w,E,S,x,T,N,C,k,L,A,O,M,D,P;t.zIndex=1;t.name=h(n.seriesname);N=t.id=c(n.id,o);if(e&&!n.data)return t.showInLegend=!1,t;if(0===p(n.includeinlegend)||void 0===t.name)t.showInLegend=!1;E=c(r.plotfillalpha,"100");S=p(r.showplotborder,1);o=it(c(r.plotbordercolor,"666666"));w=p(r.plotborderthickness,v?2:1);x=c(r.plotborderalpha,r.plotfillalpha,v?"35":"95");T=Boolean(p(r.use3dlighting,r.is3d,v?1:0));C=it(c(n.color,b.getPlotColor()));k=c(n.plotfillalpha,n.nodeFillAlpha,n.alpha,E);v=Boolean(p(n.showplotborder,S));L=it(c(n.plotbordercolor,n.nodebordercolor,o));A=p(n.plotborderthickness,n.nodeborderthickness,w);O=v?c(n.plotborderalpha,n.nodeborderalpha,n.alpha,x):"0";M=Boolean(p(n.allowdrag,1));t.marker={enabled:!0,fillColor:ct(C,k),lineColor:{FCcolor:{color:L,alpha:O}},lineWidth:A,symbol:"poly_4"};x=t._dataParser=function(e,t,s,o){t=c(e.id,N+"_"+t);var l=Boolean(p(e.allowdrag,M)),v=h(e.shape,"rectangle").toLowerCase(),m=h(e.height,10),g=h(e.width,10),b=h(e.radius,10),w=h(e.numsides,4),E=it(c(e.color,C)),S=c(e.alpha,k),x=h(e.imageurl),H=Boolean(p(e.imagenode));switch(v){case"circle":P=0;break;case"polygon":P=2;v=wt(w);break;default:P=1}D=T?u.getPointColor(E,S,P):ct(E,S);w=u.pointHoverOptions(e,n,r,{plotType:"funnel",shapeType:P,use3D:T,height:m,width:g,radius:b,color:E,alpha:S,borderColor:L,borderAlpha:O,borderThickness:A});return y(u.getPointStub(e,o,f.xAxis(s),i,n,d),{hoverEffects:w,_options:e,y:o,x:s,id:t,imageNode:H,imageURL:x,imageAlign:h(e.imagealign,a).toLowerCase(),imageWidth:h(e.imagewidth),imageHeight:h(e.imageheight),labelAlign:c(e.labelalign,H&&_(x)?dt:"middle"),allowDrag:l,marker:{enabled:!0,fillColor:D,lineColor:{FCcolor:{color:L,alpha:O}},lineWidth:A,radius:b,height:m,width:g,symbol:v},tooltipConstraint:u.tooltipConstraint})};for(o=0;o<l;o+=1)if(w=s[o])v=f.getCleanValue(w.y),b=f.getCleanValue(w.x),null===v?t.data.push({_options:w,y:null}):(m=!0,t.data.push(x(w,o,b,v)),this.pointValueWatcher(i,v,b));e&&!m&&(t.showInLegend=!1);return t},getPointColor:function(e,t,n){var r;e=it(e);t=at(t);r=lt(e,80);e=ft(e,65);t={FCcolor:{gradientUnits:"objectBoundingBox",color:r+","+e,alpha:t+","+t,ratio:q}};n?t.FCcolor.angle=1===n?0:180:(t.FCcolor.cx=.4,t.FCcolor.cy=.4,t.FCcolor.r="50%",t.FCcolor.radialGradient=!0);return t},getPointStub:function(e,t,n,r,i){var s=this.dataObj.chart,o=r[g],u=null===t?t:o.numberFormatter.dataLabels(t),f=h(m(c(e.tooltext,i.plottooltext,o.tooltext))),p=this.tooltipSepChar=o.tooltipSepChar,v=c(e.label,e.name);t=m(v);var y;r=a;var b=!1;o.showTooltip?void 0!==f?(b=!0,i=l(f,[3,4,5,6,8,9,10,11],{yaxisName:m(s.yaxisname),xaxisName:m(s.xaxisname),yDataValue:u,xDataValue:n,label:t},e,s,i)):void 0!==v?(i=t,b=!0):null===u?i=!1:(o.seriesNameInToolTip&&(y=d(i&&i.seriesname)),i=r=y?y+p:a,i+=n?n+p:a,i+=u):i=!1;e=c(e.link);return{displayValue:t,toolText:i,link:e,_toolTextStr:r,_isUserTooltip:b}},connector:function(e,t,n,r,i){var s=i[g],o=s.smartLabel;i=(e=n.connector)&&e.length;var u,f,l,d,v,y,w,E,S,x,T,N=h(m(c(n.connectortooltext,r.connectortooltext))),C="$fromLabel"+s.tooltipSepChar+"$toLabel";u=p(n.stdthickness,1);f=it(c(n.color,"FF5904"));l=c(n.alpha,"100");d=p(n.dashgap,5);v=p(n.dashlen,5);y=Boolean(p(n.dashed,0));w=Boolean(p(n.arrowatstart,1));E=Boolean(p(n.arrowatend,1));S=p(n.strength,1);r=t.connector;x=t._connectorParser=function(e,t){var n=m(c(e.label,e.name)),r=c(e.alpha,l),r={FCcolor:{color:it(c(e.color,f)),alpha:r}},i=o.getOriSize(n),g=h(m(c(e.tooltext,N)));T=s.showTooltip?c(g,n?"$label":C):!1;return{_options:e,id:c(e.id,t).toString(),from:c(e.from,a),to:c(e.to,a),label:n,toolText:T,customToolText:g,color:r,dashStyle:Boolean(p(e.dashed,y))?b(p(e.dashlen,v),p(e.dashgap,d),u):void 0,arrowAtStart:Boolean(p(e.arrowatstart,w)),arrowAtEnd:Boolean(p(e.arrowatend,E)),conStrength:p(e.strength,S),connectorLink:h(e.link),stdThickness:u,labelWidth:i.widht,labelHeight:i.height}};for(n=0;n<i;n+=1)r.push(x(e[n],n));return t},series:function(e,t,n){var r=t[g],i=[],s,o,u,a;t.legend.enabled=Boolean(p(e.chart.showlegend,1));if(e.dataset&&0<(o=e.dataset.length)){this.categoryAdder(e,t);r.x.requiredAutoNumericLabels=!1;if(e.connectors&&(s=e.connectors.length))for(a=0,u=s;a<u;a+=1)s={connector:[]},i.push(this.connector(n,s,e.connectors[a],e.chart,t,r.oriCatTmp.length,a));else s={connector:[]},i.push(this.connector(n,s,{},e.chart,t,r.oriCatTmp.length,a));for(a=0;a<o;a+=1)s={hoverEffects:this.parseSeriesHoverOptions(e,t,e.dataset[a],n),data:[]},s=this.point(n,s,e.dataset[a],e.chart,t,r.oriCatTmp.length,a),s instanceof Array?t.series=t.series.concat(s):t.series.push(s);t.connectors=i;e.labels&&e.labels.label&&0<e.labels.label.length&&(t.dragableLabels=e.labels.label);e.chart.showyaxisvalue=c(e.chart.showyaxisvalue,0);this.configureAxis(t,e);e.trendlines&&f(e.trendlines,t.yAxis,r,!1,this.isBar)}}},bt.scatterbase);zt=function(e,t,n,r,i,s){var o=s.logic,u,a,f=t[e.from],h=t[e.to],d={sourceType:"connector"},v=e&&e._options,m=o.numberFormatter,g,y,b,E,S;this.renderer=r;this.connectorsGroup=i;this.pointStore=t;this.options=e;this.style=n||{};f&&h&&(this.fromPointObj=f,this.toPointObj=h,this.fromX=g=f._xPos,this.fromY=y=f._yPos,this.toX=b=h._xPos,this.toY=E=h._yPos,this.arrowAtStart=d.arrowAtStart=e.arrowAtStart,this.arrowAtEnd=d.arrowAtEnd=e.arrowAtEnd,this.strokeWidth=t=e.conStrength*e.stdThickness,this.textBgColor=a=(this.color=u=e.color)&&u.FCcolor&&u.FCcolor.color,this.label=d.label=S=e.label,m=l(e.toolText,[3,83,84,85,86,87,88,89,90,91,92],{label:e.label,fromXValue:m.dataLabels(f.x),fromYValue:m.dataLabels(f.y),fromXDataValue:f.x,fromYDataValue:f.y,fromLabel:c(f.displayValue,f.id),toXValue:m.dataLabels(h.x),toYValue:m.dataLabels(h.y),toXDataValue:h.x,toYDataValue:h.y,toLabel:c(h.displayValue,h.id)}),this.link=d.link=v&&v.link,d.id=e.id,d.fromNodeId=f.id,d.toNodeId=h.id,f._config&&f._config.startConnectors&&f._config.startConnectors.push(this),h._config&&h._config.endConnectors&&h._config.endConnectors.push(this),f=function(){var t=this,n=e._options||{};t._longpressactive=clearTimeout(t._longpressactive);t.data("fire_click_event",1);t._longpressactive=setTimeout(function(){t.data("fire_click_event",0);t.data("viewMode")||o.showConnectorUpdateUI(s,{fromid:{val:n.from,innerHTML:"<option>"+n.from+"</option>",disabled:!0},toid:{val:n.to,innerHTML:"<option>"+n.to+"</option>",disabled:!0},arratstart:{val:Boolean(p(n.arrowatstart,1))},arratend:{val:Boolean(p(n.arrowatend,1))},dashed:{val:p(n.dashed)},dashgap:{val:n.dashgap},dashlen:{val:n.dashlen},label:{val:n.label},tooltext:{val:n.tooltext},id:{val:e.id,disabled:!0},strength:{val:n.strength},alpha:{val:n.alpha},color:{val:n.color}},!0)},1e3)},this.graphic=r.path(this.getlinePath(),i).attr({"stroke-width":t,ishot:!0,"stroke-dasharray":e.dashStyle,cursor:this.link?"pointer":"",stroke:w(u)}).mousedown(f).mousemove(function(){this.data("fire_click_event",0);Xt.call(this)}).mouseup(function(e){Xt.call(this);kt.call(this,s,e,"ConnectorClick")}).hover(function(e){kt.call(this,s,e,"ConnectorRollover")},function(e){kt.call(this,s,e,"ConnectorRollout")}).tooltip(m).data("eventArgs",d).data("viewMode",s.options.chart.viewMode),S&&(this.text=r.text(),i.appendChild(this.text),this.text.css(n).attr({text:S,x:(g+b)/2,y:(y+E)/2,fill:n.color,ishot:!0,cursor:this.link?"pointer":"","text-bound":[c(n.backgroundColor,a),c(n.borderColor,a),1,"2"]}).tooltip(m).mousedown(f).mousemove(function(){this.data("fire_click_event",0);Xt.call(this)}).hover(function(e){kt.call(this,s,e,"ConnectorRollover")},function(e){kt.call(this,s,e,"ConnectorRollout")}).mouseup(function(e){Xt.call(this);kt.call(this,s,e,"ConnectorClick")}).tooltip(m).data("eventArgs",d).data("viewMode",s.options.chart.viewMode)))};zt.prototype={updateFromPos:function(e,t){this.fromX=e;this.fromY=t;this.graphic&&this.graphic.animate({path:this.getlinePath()});this.text&&this.text.animate({x:(this.fromX+this.toX)/2,y:(this.fromY+this.toY)/2})},updateToPos:function(e,t){this.toX=e;this.toY=t;this.graphic&&this.graphic.animate({path:this.getlinePath()});this.text&&this.text.animate({x:(this.fromX+this.toX)/2,y:(this.fromY+this.toY)/2})},getlinePath:function(){var e=this.fromPointObj,n=this.toPointObj,r=this.fromX,i=this.fromY,s=this.toX,o=this.toY,u=[F,r,i];this.arrowAtStart&&(e=e._config,u=e.shapeType===At?u.concat(t(r,i,s,o,e.shapeArg.width,e.shapeArg.height)):u.concat(t(r,i,s,o,e.shapeArg.radius)));this.arrowAtEnd&&(e=n._config,u=e.shapeType===At?u.concat(t(s,o,r,i,e.shapeArg.width,e.shapeArg.height)):u.concat(t(s,o,r,i,e.shapeArg.radius)));u.push(I,s,o);return u}};zt.prototype.constructor=zt;Wt={mouseDown:function(e){delete e.data.point.dragActive},click:function(e){return!e.data.point.dragActive},dragHandler:function(e){var t=e.data,n=e.type,r=t.point,s=t.series,o=s.chart||s,u=o.tooltip,a=tt&&M(e)||qt,o=o.options.instanceAPI;switch(n){case"dragstart":u.block(!0);t.dragStartY=e.pageY||a.pageY||0;t.dragStartX=e.pageX||a.pageX||0;t.startValue=r.y;t.startXValue=r.x;r.dragActive=!0;s.dragStartHandler&&s.dragStartHandler(t);break;case"dragend":u.block(!1);s.repositionItems(t,t.changeX?(e.pageX||a.pageX||0)-t.dragStartX:0,t.changeY?(e.pageY||a.pageY||0)-t.dragStartY:0,!0);n={dataIndex:r.index+1,datasetIndex:s.index+1,startValue:t.startValue,endValue:r.y,datasetName:s.name};e=[o.chartInstance.id,n.dataIndex,n.datasetIndex,n.datasetName,n.startValue,n.endValue];t.changeX&&(n.startYValue=t.startValue,n.endYValue=r.y,n.startXValue=t.startXValue,n.endXValue=r.x,e.push(t.startXValue,r.x),delete n.startValue,delete n.endValue);i.raiseEvent("chartupdated",n,o.chartInstance,e);delete t.dragStartY;delete t.dragStartX;delete t.startValue;delete t.startXValue;break;default:s.repositionItems(t,t.changeX?(e.pageX||a.pageX||0)-t.dragStartX:0,t.changeY?(e.pageY||a.pageY||0)-t.dragStartY:0)}},dragLabelHandler:function(e){var t=e.data,n=e.type,r=t.element,i=t.tracker,s=t.toolTip,o=tt&&M(e)||qt,u=t.series,a,f,l;"dragstart"===n?(s.block(!0),t.dragStartY=e.pageY||o.pageY||0,t.dragStartX=e.pageX||o.pageX||0):(a=t.x+(e.pageX||o.pageX||0)-t.dragStartX,l=a-t.leftDistance,l+t.width>t.plotWidth&&(l=t.plotWidth-t.width),0>l&&(l=0),a=l+t.leftDistance,f=t.y+(e.pageY||o.pageY||0)-t.dragStartY,e=f-t.topDistance,e+t.height>t.plotHeight&&(e=t.plotHeight-t.height),0>e&&(e=0),f=e+t.topDistance,"dragend"===n?(s.block(!1),t.x=a,t.y=f,delete t.dragStartY,delete t.dragStartX):(r.attr({x:a,y:f}).textBound(),i.attr({x:l,y:e})));"dragend"==n&&(n={hcJSON:{dragableLabels:[]}},n.hcJSON.dragableLabels[t.index]={y:u.yAxis.translate(u.chart.plotHeight-f+t.yAdjustment,1),x:u.xAxis.translate(a,1)},y(u.chart.options.instanceAPI.chartInstance.jsVars._reflowData,n,!0))},pointUpdate:function(e,t,n){e._isUserTooltip||e.toolText===a||e._getTooltext?e._getTooltext&&(e.toolText=e._getTooltext(void 0,void 0,{formattedValue:t},{value:n})):e.toolText=e._toolTextStr+t;e._isUserValue||e.displayValue===a||(e.displayValue=t)},snapPoint:function(e,t,n){var r=e.options.chart,i=r.snapToDiv,s=r.snapToDivOnly;e=e._yAxisPlotLines;for(var o=$(e[1]-e[0]),r=s?.5*o:r.snapToDivRelaxation,o=t.lastSnap,u=1,a=e.length,f;a--;)if(f=$(e[a]-n),i&&f<r){o!==a&&(t.lastSnap=s?void 0:a,n=e[a]);u=0;break}u&&(t.lastSnap=void 0);return n},setMinMaxValue:function(e){var t=e.options.series;e=e.logic;var n=0,r=Infinity,i=-Infinity,s=e.chartInstance.jsVars._reflowData,o,u,a,f,l;l=0;for(o=t.length;l<o;l+=1)for(a=t[l]&&t[l].data,n=0,f=a.length;n<f;n+=1)u=a[n].y,null!==u&&(i=i>u?i:u,r=r<u?r:u);e.highValue=i;e.lowValue=r;s.postHCJSONCreation=function(){var e=this.hcJSON[g][0];e.min=r;e.max=i}},setSelectBoxValues:function(e,t){var n=t.xAxis[0],r=t.yAxis[0],i=t.plotHeight;e.startX=n.translate(e.left,1);e.endX=n.translate(e.left+e.width,1);e.startY=r.translate(i-e.top,1);e.endY=r.translate(i-(e.top+e.height),1)}};bt("dragarea",k({friendlyName:"Dragable Area Chart",standaloneInit:!0,creditLabel:!1,rendererId:"dragarea",defaultSeriesType:"area",decimals:2,anchorAlpha:"100",eiMethods:bt.msareabase.eiMethods},Rt),bt.msareabase);bt("dragline",k({friendlyName:"Dragable Line Chart",standaloneInit:!0,creditLabel:!1,decimals:2,defaultSeriesType:"line",rendererId:"dragline",eiMethods:bt.mslinebase.eiMethods},Rt),bt.mslinebase);bt("dragcolumn2d",k({friendlyName:"Dragable Column Chart",standaloneInit:!0,creditLabel:!1,decimals:2,defaultSeriesType:"column",rendererId:"dragcolumn2d",eiMethods:bt.mscolumn2dbase.eiMethods},Rt),bt.mscolumn2dbase);bt("selectscatter",{friendlyName:"Dragable Scatter Chart",isXY:!0,standaloneInit:!0,creditLabel:!1,defaultSeriesType:"scatter",defaultZeroPlaneHighlighted:!1,spaceManager:Rt.spaceManager,drawButtons:Rt.drawButtons,updateChartWithData:Rt.updateChartWithData,eiMethods:k(k(k({},bt.scatterbase.eiMethods),Rt.eiMethods),{getData:function(e){var t=this.jsVars.instanceAPI,n=t.getCollatedData(),i=[],s=n.dataset,o=s&&s.length||0,u=0,a=0;if(e)i=/^json$/ig.test(e)?n:/^csv$/ig.test(e)?t.getCSVString():r.core.transcodeData(n,"json",e);else for(;u<o;u+=1)if(t=s[u]){for((n=e=(t=s[u]&&s[u].data)&&t.length||0)&&(i[a]||(i[a]=[h(s[u].id,"null")]));n--;)i[a][n+1]=h(t[n].id,"null");e&&(a+=1)}return i}}),getCSVString:function(){for(var e=this.chartInstance.getData(),t=e.length;t--;)e[t]=e[t].join(",");return e.join("|")},getCollatedData:function(){for(var e=this.chartInstance,t=e.jsVars.hcObj._selectEleArr,n=t&&t.length,e=y({},e.getChartData(r.dataFormats.JSON)),i=e.dataset,s,o,u,a,f,l,c,h,p,d=[];n--;)if(s=t[n])for(l=s.startX,c=s.endX,h=s.startY,p=s.endY,a=i.length;a--;)for(d[a]||(d[a]={data:[]}),f=(u=i[a].data)&&u.length;f--;)o=u[f],s=o.x,o=o.y,s>l&&s<c&&o<h&&o>p&&(d[a].data[f]=!0);for(a=i.length;a--;)for(f=(u=i[a].data)&&u.length;f--;)d[a]&&d[a].data[f]||u.splice(f,1);return this.updatedDataObj=e},createSelectionBox:function(e){var t=e.chart,n=t.paper,r=t.options.chart,i=t.yAxis&&t.yAxis[0],s=t.xAxis&&t.xAxis[0],o=e.selectionLeft,u=e.selectionTop,a=e.selectionWidth;e=e.selectionHeight;var f=o+a,l=u+e,c=15<a&&15<e,h={resizeEleRadius:15,canvasTop:t.canvasTop,canvasRight:t.canvasLeft+t.canvasWidth,canvasLeft:t.canvasLeft,canvasBottom:t.canvasTop+t.canvasHeight},p=t.layers.tracker,d=t._selectEleArr||(t._selectEleArr=[]);h.index=d.length;h.id="SELECT_"+h.index;h.selectBoxG=p=n.group("selection-box",p).toFront();h.selectBoxTracker=n.rect(o,u,a,e,p).attr({"stroke-width":1,stroke:w(r.selectBorderColor),ishot:!0,fill:r.selectFillColor}).css({cursor:"move"});h.selectBoxTracker.data("config",{position:6,selectEleObj:h,xChange:!0,yChange:!0});h.topTracker=n.rect(o,u-6,a,12,p).attr({"stroke-width":0,ishot:!0,fill:D}).css("cursor",S&&"ns-resize"||"n-resize");h.topTracker.data("config",{position:1,selectEleObj:h,yChange:!0});h.rightTracker=n.rect(o+a-6,u,12,e,p).attr({"stroke-width":0,ishot:!0,fill:D}).css("cursor",S&&"ew-resize"||"w-resize");h.rightTracker.data("config",{position:2,selectEleObj:h,xChange:!0});h.bottomTracker=n.rect(o,u+e-6,a,12,p).attr({"stroke-width":0,ishot:!0,fill:D}).css("cursor",S&&"ns-resize"||"n-resize");h.bottomTracker.data("config",{position:3,selectEleObj:h,yChange:!0});h.leftTracker=n.rect(o-6,u,12,e,p).attr({"stroke-width":0,ishot:!0,fill:D}).css("cursor",S&&"ew-resize"||"e-resize");h.leftTracker.data("config",{position:4,selectEleObj:h,xChange:!0});h.cornerInnerSymbol=n.symbol("resizeIcon",0,0,15,p).attr({transform:"t"+f+","+l,"stroke-width":1,visibility:c?B:"hidden",ishot:!0,stroke:"#999999"});h.cornerOuterSymbol=n.symbol("resizeIcon",0,0,-12,p).attr({transform:"t"+f+","+l,strokeWidth:1,visibility:c?"hidden":B,ishot:!0,stroke:"#777777"});h.resizeTracker=n.circle(f,l,12,p).attr({"stroke-width":1,stroke:D,ishot:!0,fill:D}).css("cursor",S&&"nwse-resize"||"nw-resize");h.resizeTracker.data("config",{position:5,selectEleObj:h,yChange:!0,xChange:!0});h.closeButton=n.symbol("closeIcon",0,0,6,p).attr({transform:"t"+f+","+u,"stroke-width":2,stroke:r.selectionCancelButtonBorderColor,fill:r.selectionCancelButtonFillColor,"stroke-linecap":"round",ishot:!0,"stroke-linejoin":"round"}).css({cursor:"pointer",_cursor:"hand"}).click(function(){t.logic.deleteSelection(this,t)});h.closeButton.data("config",{index:h.index});h.chart=t;h.startX=s.getAxisPosition(o,1);h.startY=i.getAxisPosition(u,1);h.endX=s.getAxisPosition(f,1);h.endY=i.getAxisPosition(l,1);h.isVisible=!0;d.push(h);t.logic.bindDragEvent(h)},deleteSelection:function(e,t){var n=e.data("config").index,i=t._selectEleArr,s=i[n],o,u,a;o=s.selectBoxTracker.getBBox();a={selectionLeft:o.x,selectionTop:o.y,selectionWidth:o.width,selectionHeight:o.height,startXValue:t.xAxis[0].getAxisPosition(o.x,1),startYValue:t.yAxis[0].getAxisPosition(o.y,1),endXValue:t.xAxis[0].getAxisPosition(o.x+o.width,1),endYValue:t.yAxis[0].getAxisPosition(o.y+o.height,1),data:t.logic.getCollatedData(),id:s.id};for(u in s)o=s[u],o.remove&&o.remove(),delete s[u];delete i[n];r.raiseEvent("selectionRemoved",a,t.logic.chartInstance)},bindDragEvent:function(e){for(var t in e)/Tracker/.test(t)&&e[t].drag(this.move,this.start,this.up)},start:function(){var e=this.data("config").selectEleObj,t=e.topTracker,n=e.rightTracker,r=e.bottomTracker,i=e.leftTracker,s=e.resizeTracker,o=t.data("config"),u=n.data("config"),a=r.data("config"),f=i.data("config"),l=s.data("config"),c=e.selectBoxTracker.data("config"),h=e.selectBoxTracker.getBBox();o.ox=h.x;o.oy=h.y;u.ox=h.x2;u.oy=h.y;a.ox=h.x;a.oy=h.y2;f.ox=h.x;f.oy=h.y;o.ox=h.x;o.oy=h.y;l.ox=h.x2;l.oy=h.y2;c.ox=h.x;c.oy=h.y;c.ow=h.width;c.oh=h.height;c.ox2=h.x2;c.oy2=h.y2;e.selectBoxG.toFront();t.hide();n.hide();r.hide();i.hide();s.hide();this.show()},move:function(e,t){var n=this.data("config"),i=n.selectEleObj,s=i.chart,o=i.topTracker,u=i.rightTracker,a=i.bottomTracker,f=i.leftTracker,l=i.resizeTracker,c=i.selectBoxTracker,h=i.canvasLeft,p=i.canvasRight,d=i.canvasTop,v=i.canvasBottom,m=c.data("config"),g={},y,b;e=n.xChange?e:0;t=n.yChange?t:0;y=e+n.ox;b=t+n.oy;y=X(p-(n.ow||0),V(y,h));b=X(v-(n.oh||0),V(b,d));switch(n.position){case 1:g.y=X(m.oy2,b);g.height=$(m.oy2-b)||1;o.attr({y:b+ -6});break;case 2:g.x=X(m.ox,y);g.width=$(m.ox-y)||1;u.attr({x:y+ -6});break;case 3:g.y=X(m.oy,b);g.height=$(m.oy-b)||1;a.attr({y:b+ -6});break;case 4:g.x=X(m.ox2,y);g.width=$(m.ox2-y)||1;f.attr({x:y+ -6});break;case 5:g.x=X(m.ox,y);g.width=$(m.ox-y)||1;g.y=X(m.oy,b);g.height=$(m.oy-b)||1;l.attr({cx:y,cy:b});break;default:g.x=y,g.y=b}this.data("dragStarted")||(n=c.getBBox(),n={selectionLeft:n.x,selectionTop:n.y,selectionWidth:n.width,selectionHeight:n.height,startXValue:s.xAxis[0].getAxisPosition(n.x,1),startYValue:s.yAxis[0].getAxisPosition(n.y,1),endXValue:s.xAxis[0].getAxisPosition(n.x+n.width,1),endYValue:s.yAxis[0].getAxisPosition(n.y+n.height,1),id:i.id},r.raiseEvent("BeforeSelectionUpdate",n,s.logic.chartInstance),this.data("dragStarted",1));c.animate(g);i.isVisible&&(i.closeButton.hide(),i.cornerInnerSymbol.hide(),i.cornerOuterSymbol.hide(),i.isVisible=!1)},up:function(){var e=this,t=e.data("config").selectEleObj,n=t.chart,i=n.xAxis&&n.xAxis[0],s=n.yAxis&&n.yAxis[0],o=t.topTracker,u=t.rightTracker,a=t.bottomTracker,f=t.leftTracker,l=t.resizeTracker,c=t.selectBoxTracker,h,p;setTimeout(function(){h=c.getBBox();t.startX=i.getAxisPosition(h.x,1);t.startY=s.getAxisPosition(h.y,1);t.endX=i.getAxisPosition(h.x2,1);t.endY=s.getAxisPosition(h.y2,1);o.attr({x:h.x,y:h.y+ -6,width:h.width});u.attr({x:h.x2+ -6,y:h.y,height:h.height});a.attr({x:h.x,y:h.y2+ -6,width:h.width});f.attr({x:h.x+ -6,y:h.y,height:h.height});l.attr({cx:h.x2,cy:h.y2});t.closeButton.transform("t"+h.x2+","+h.y);t.cornerInnerSymbol.transform("t"+h.x2+","+h.y2);t.cornerOuterSymbol.transform("t"+h.x2+","+h.y2);t.closeButton.show();15>h.width||15>h.height?(t.cornerInnerSymbol.hide(),t.cornerOuterSymbol.show()):(t.cornerInnerSymbol.show(),t.cornerOuterSymbol.hide());t.isVisible=!0;o.show();u.show();a.show();f.show();l.show();e.data("dragStarted")&&(p={selectionLeft:h.x,selectionTop:h.y,selectionWidth:h.width,selectionHeight:h.height,startXValue:n.xAxis[0].getAxisPosition(h.x,1),startYValue:n.yAxis[0].getAxisPosition(h.y,1),endXValue:n.xAxis[0].getAxisPosition(h.x+h.width,1),endYValue:n.yAxis[0].getAxisPosition(h.y+h.height,1),data:n.logic.getCollatedData(),id:t.id},r.raiseEvent("SelectionUpdated",p,n.logic.chartInstance),e.data("dragStarted",0))},100)},postSeriesAddition:function(e,t){var n=bt.scatter&&bt.scatter.postSeriesAddition&&bt.scatter.postSeriesAddition.apply(this,arguments),i=e.chart,s=t.chart,o=this.colorManager,u=c(s.selectbordercolor,o.getColor("canvasBorderColor")),a=p(s.selectborderalpha,o.getColor("canvasBorderAlpha"));i.selectBorderColor={FCcolor:{color:u,alpha:a}};i.selectFillColor=ct(c(s.selectfillcolor,o.getColor("altHGridColor")),p(s.selectfillalpha,o.getColor("altHGridAlpha")));i.selectionCancelButtonBorderColor=ct(c(s.selectioncancelbuttonbordercolor,u),p(s.selectioncancelbuttonborderalpha,a));i.selectionCancelButtonFillColor=ct(c(s.selectioncancelbuttonfillcolor,"FFFFFF"),p(s.selectioncancelbuttonfillalpha,100));e.chart.nativeZoom=!1;i.formAction=h(s.formaction);"0"!==s.submitdataasxml||s.formdataformat||(s.formdataformat=r.dataFormats.CSV);i.formDataFormat=c(s.formdataformat,r.dataFormats.XML);i.formTarget=c(s.formtarget,"_self");i.formMethod=c(s.formmethod,"POST");i.submitFormAsAjax=p(s.submitformusingajax,1);(e.callbacks||(e.callbacks=[])).push(function(){var e=this.logic;yt(this,{selectionStart:function(e){var t=Ct(e.chart.container,e.originalEvent),t=y({selectionLeft:e.selectionLeft,selectionTop:e.selectionTop,selectionWidth:e.selectionWidth,selectionHeight:e.selectionHeight,startXValue:e.chart.xAxis[0].getAxisPosition(e.selectionLeft,1),startYValue:e.chart.yAxis[0].getAxisPosition(e.selectionTop,1)},t);r.raiseEvent("selectionStart",t,e.chart.logic.chartInstance)},selectionEnd:function(t){var n=Ct(t.chart.container,t.originalEvent),i=t.chart.xAxis[0],s=t.chart.yAxis[0],n=y({selectionLeft:t.selectionLeft,selectionTop:t.selectionTop,selectionWidth:t.selectionWidth,selectionHeight:t.selectionHeight,startXValue:i.getAxisPosition(t.selectionLeft,1),startYValue:s.getAxisPosition(t.selectionTop,1),endXValue:i.getAxisPosition(t.selectionLeft+t.selectionWidth,1),endYValue:s.getAxisPosition(t.selectionTop+t.selectionHeight,1)},n);r.raiseEvent("selectionEnd",n,t.chart.logic.chartInstance);e.createSelectionBox(t)}})});e.chart.zoomType="xy";return n}},bt.scatterbase);bt("multiaxisline",{friendlyName:"Multi-axis Line Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"line",rendererId:"multiaxisline",isMLAxis:!0,canvasPaddingModifiers:["anchor","anchorlabel"],drawAxisTrackerAndCheckBox:function(){for(var e=this,t=e.canvasLeft,i=e.canvasTop,s=e.canvasWidth,o=e.canvasHeight,u=e.paper,a=e.yAxis,f=a.length,l=e.logic,c=0,h=0,d={cursor:"col-resize",_cursor:"e-resize","*cursor":"e-resize"},v=l.chartInstance,m=v.jsVars,g=l.dataObj,b=m._reflowData,w=b.hcJSON||{},E=g.axis,S=g.chart,g=p(S.allowaxisshift,1),x=(S=p(S.allowselection,1))&&u.html("div",{fill:"transparent",width:e.chartWidth,height:20},{top:"",left:"",fontSize:"10px",lineHeight:"15px",marginTop:-e.chartHeight+"px"},e.container),w=w.yAxis||(w.yAxis=[]),T,N,C,k,O,M,_=function(t){e.series&&e.series[t]&&e.series[t].setVisible(!1,!1)},P=function(t){var i=t.data;t=i.axis[i.index].axisData;var s=t._relatedSeries,o=!i.checkBox.checked(),i=E[t._axisposition];s&&L(s,function(t){e.options.series[t].legendClick(o,!0)});i.hidedataplots=!o;y(b,{preReflowAdjustments:function(){this.dataObj.axis=E}});r.raiseEvent("AxisSelected",{selected:o,AxisId:i._index,AxisConfiguration:t._origAttr||n(i,t)},e.logic.chartInstance)},H=function(t){var i=t.data;t=i.axis;var i=t[i.index].axisData,s=i.opposite,o=i._axisposition,u=E.length,a,f,c,h={},d=E[o],g={};for(a=0;a<u;a+=1)f=E[a],f=!p(f.axisonleft,1),f===s&&(c=a,s&&(a=u));c!==o&&(h=t[c],g=E[c],t=E.splice(c,1,E[o]),E.splice(o,1,t[0]));if(c!==o||s!==l.dataObj.chart._lastClickedOpp)y(b,{preReflowAdjustments:function(){this.dataObj.chart._lastClickedOpp=s;this.dataObj.axis=E}}),r.raiseEvent("AxisShifted",{previousDefaultAxisId:g._index,newDefaultAxisId:d._index,previousDefaultAxisConfiguration:h._origAttr||n(g,h),newDefaultAxisConfiguration:i._origAttr||n(d,i)},e.logic.chartInstance),r.hcLib.createChart(v,m.container,m.type,void 0,void 0,!1,!0)};f--;)T=a[f],N=T.axisData,C=N._axisWidth,(k=N.opposite)||(c+=C),w[f]||(w[f]={}),S&&N.showAxis&&(O=t+(k?s+h+p(N.title.margin,C-10)+5:-c),M=i+o+10,T.checkBox=u.html("input",{},{left:O+"px",top:M+"px"}).attr({type:"checkbox"}).add(x),T.checkBox.val(N.hidedataplots),N.hidedataplots||N._relatedSeries&&L(N._relatedSeries,_),A(T.checkBox.element,tt?"touchstart":"mousedown",P,{axis:a,index:f,checkBox:T.checkBox})),g&&(T.tracker=u.rect(t+(k?s+h:-c),i,C,o,0).attr({"stroke-width":0,fill:D,isTracker:+(new Date),zIndex:7}).css(d),k&&(h+=C),A(T.tracker[0],tt?"touchstart":"mousedown",H,{axis:a,index:f}))},series:function(e){var t=this,n=t.numberFormatter,r=t.name,i=t.dataObj,s=i.chart,o=i.axis,u=t.hcJSON,f=u[g],l=u.yAxis[0],h=p(i.chart.allowselection,1),d=[],v=p(s.showaxisnamesinlegend,0),y=p(s.yaxisvaluesstep,s.yaxisvaluestep,1),w=this.colorManager,E,S,x,T,k,L,A,O,M,_,P,H,B,j,F;u.callbacks||(u.callbacks=[]);u.callbacks.push(function(){t.drawAxisTrackerAndCheckBox.call(this)});u.legend.enabled=Boolean(p(i.chart.showlegend,1));if(o&&0<o.length){this.categoryAdder(i,u);u.yAxis.splice(0,2);L=f.noHiddenAxis=0;for(O=o.length;L<O;L+=1)M=o[L],void 0===M._index&&(M._index=L),M._axisposition=L,(T=!p(M.axisonleft,1))?(M._isSY=!0,d.unshift(M)):(M._isSY=!1,d.push(M));L=0;for(O=d.length;L<O;L+=1)if(M=d[L],k=p(M.showaxis,1),o=M._index||0,n.parseMLAxisConf(M,o),E=w.getPlotColor(o),M.id=o,B=c(M.color,s.axiscolor,E),_=ct(B,100),T=!p(M.axisonleft,1),P=p(M.divlinethickness,s.divlinethickness,1),S=k?p(M.tickwidth,s.axistickwidth,2):0,x=k?p(M.axislinethickness,s.axislinethickness,2):0,H=f[L]={},H.showAxis=k,f.noHiddenAxis+=1-k,k&&(T?F=L:j=L),A=[],u.yAxis.push({startOnTick:!1,endOnTick:!1,_axisposition:M._axisposition,_isSY:M._isSY,_index:o,hidedataplots:!p(M.hidedataplots,0),title:{enabled:k,style:l.title.style,text:k?m(M.title):a,align:h?"low":"middle",textAlign:h&&T?"right":void 0},labels:{x:0,style:l.labels.style},plotBands:[],plotLines:[],gridLineColor:ct(c(M.divlinecolor,B),p(M.divlinealpha,s.divlinealpha,w.getColor("divLineAlpha"),100)),gridLineWidth:P,gridLineDashStyle:p(M.divlinedashed,M.divlineisdashed,s.divlinedashed,s.divlineisdashed,0)?b(p(M.divlinedashlen,s.divlinedashlen,4),p(M.divlinedashgap,s.divlinedashgap,2),P):void 0,alternateGridColor:ht,lineColor:_,lineWidth:x,tickLength:S,tickColor:_,tickWidth:x,opposite:T,_relatedSeries:A,showAxis:k}),H.yAxisValuesStep=p(M.yaxisvaluesstep,M.yaxisvaluestep,y),H.maxValue=M.maxvalue,H.tickWidth=S,H.minValue=M.minvalue,H.setadaptiveymin=p(M.setadaptiveymin,s.setadaptiveymin),H.numDivLines=p(M.numdivlines,s.numdivlines,4),H.adjustdiv=p(M.adjustdiv,s.adjustdiv),H.showYAxisValues=k?p(M.showyaxisvalues,M.showyaxisvalue,s.showyaxisvalues,s.showyaxisvalue,1):0,H.showLimits=k?p(M.showlimits,s.showyaxislimits,s.showlimits,H.showYAxisValues):0,H.showDivLineValues=k?p(M.showdivlinevalue,s.showdivlinevalues,M.showdivlinevalues,H.showYAxisValues):0,H.showzeroplane=M.showzeroplane,H.showzeroplanevalue=p(M.showzeroplanevalue),H.zeroplanecolor=M.zeroplanecolor,H.zeroplanethickness=M.zeroplanethickness,H.zeroplanealpha=M.zeroplanealpha,H.linecolor=c(M.linecolor,s.linecolor||M.color,E),H.linealpha=M.linealpha,H.linedashed=M.linedashed,H.linethickness=M.linethickness,H.linedashlen=M.linedashlen,H.linedashgap=M.linedashgap,H.anchorShadow=M.anchorshadow,H.plottooltext=M.plottooltext,M.dataset&&0<M.dataset.length){P=M.dataset.length;E=p(M.includeinlegend,1);T=!1;k={data:[],relatedSeries:A,name:m(M.title),type:"line",marker:{symbol:"axisIcon",fillColor:D,lineColor:ft(B,80).replace(N,C)},lineWidth:0,legendFillColor:0!==v?ct(B,25):void 0,legendFillOpacity:0,legendIndex:M._index,showInLegend:Boolean(p(v,E))};u.series.push(k);for(_=0;_<P;_+=1){x=M.dataset[_];x._yAxisName=M.title;void 0===x.color&&(x.color=c(H.linecolor,B));S={visible:!p(x.initiallyhidden,0),yAxis:L,data:[],hoverEffects:this.parseSeriesHoverOptions(e,u,x,r)};S=this.point(r,S,x,i.chart,u,f.oriCatTmp.length,L,o);S.legendFillColor=k.legendFillColor;S.legendIndex=M._index;if(void 0===S.showInLegend||S.showInLegend)T=!0;!1!==S.showInLegend&&(S.showInLegend=Boolean(E));A.push(u.series.length);u.series.push(S)}0!==A.length&&T||(k.showInLegend=!1)}e=s._lastClickedOpp?p(F,j):p(j,F);L=0;for(O=u.yAxis.length;L<O;L+=1)L!=e&&(u.yAxis[L].gridLineWidth=0,f[L].zeroplanethickness=0);this.configureAxis(u,i)}},point:function(e,t,n,r,i,s,o,u){e=!1;o=p(r.ignoreemptydatasets,0);var f;f=i.chart;var l=n.data||[],d=i[g],v=d[t.yAxis||0],m=c(t.type,this.defaultSeriesType),y=i.plotOptions[m]&&i.plotOptions[m].stacking,b=c(this.isValueAbs,d.isValueAbs,!1),w=p(t.yAxis,0),E=this.numberFormatter,S=this.colorManager,x=it(c(n.color,v.linecolor,r.linecolor,S.getPlotColor())),T=p(n.alpha,v.linealpha,r.linealpha,Tt),N=p(r.showshadow,this.defaultPlotShadow,1),C=p(n.drawanchors,n.showanchors,r.drawanchors,r.showanchors),k=p(n.anchorsides,r.anchorsides,0),L=p(n.anchorstartangle,r.anchorstartangle,90),A=p(n.anchorradius,r.anchorradius,3),O=it(c(n.anchorbordercolor,r.anchorbordercolor,x)),M=p(n.anchorborderthickness,r.anchorborderthickness,1),S=it(c(n.anchorbgcolor,r.anchorbgcolor,S.getColor("anchorBgColor"))),_=c(n.anchoralpha,r.anchoralpha,Tt),D=c(n.anchorbgalpha,r.anchorbgalpha,_);t.anchorShadow=_&&c(n.anchorshadow,v.anchorShadow,r.anchorshadow,0);t.name=h(n.seriesname);if(0===p(n.includeinlegend)||void 0===t.name||0===T&&1!==C)t.showInLegend=!1;t.marker={fillColor:{FCcolor:{color:S,alpha:D*_/100+a}},lineColor:{FCcolor:{color:O,alpha:_+a}},lineWidth:M,radius:A,symbol:wt(k),startAngle:L};t.color={FCcolor:{color:x,alpha:T}};t.shadow=N?{opacity:N?T/100:0}:!1;t.step=this.stepLine;t.drawVerticalJoins=Boolean(p(r.drawverticaljoins,1));t.useForwardSteps=Boolean(p(r.useforwardsteps,1));t.lineWidth=p(n.linethickness,v.linethickness,r.linethickness,2);r=t._dataParser=It.line(i,{plottooltext:c(n.plottooltext,v.plottooltext),seriesname:t.name,lineAlpha:T,anchorAlpha:_,showValues:p(n.showvalues,d.showValues),yAxis:u,lineDashed:Boolean(p(n.dashed,v.linedashed,r.linedashed,0)),lineDashLen:p(n.linedashlen,v.linedashlen,r.linedashlen,5),lineDashGap:p(n.linedashgap,v.linedashgap,r.linedashgap,4),lineThickness:t.lineWidth,lineColor:x,valuePosition:c(n.valueposition,f.valuePosition),drawAnchors:C,anchorShadow:t.anchorShadow,anchorBgColor:S,anchorBgAlpha:D,anchorBorderColor:O,anchorBorderThickness:M,anchorRadius:A,anchorSides:k,anchorAngle:L,_sourceDataset:n,_yAxisName:n._yAxisName,hoverEffects:t.hoverEffects},this);delete n._yAxisName;for(u=0;u<s;u+=1)(f=l[u])?(n=E.getCleanValue(f.value,b),null===n?t.data.push({y:null}):(e=!0,t.data.push(r(f,u,n)),this.pointValueWatcher(i,n,w,y,u,0,m))):t.data.push({y:null});!o||e||this.realtimeEnabled||(t.showInLegend=!1);return t},configureAxis:function(e,t){var n=e[g],r=t.chart,i,s,o,u,a,f,l,c,h,d,v,y,b;e.xAxis.title.text=m(r.xaxisname);b=0;for(s=e.yAxis.length;b<s;b+=1)i=e.yAxis[b],o=n[b],y=p(o.yAxisValuesStep,1),y=1>y?1:y,u=o.maxValue,a=o.minValue,f=p(o.setadaptiveymin,0),l=f=!f,c=o.numDivLines,h=0!==o.adjustdiv,d=o.showLimits,v=o.showDivLineValues,this.axisMinMaxSetter(i,o,u,a,f,l,c,h),this.configurePlotLines(r,e,i,o,d,v,y,this.numberFormatter,i._isSY,void 0,i._index),i.reversed&&0<=i.min&&(e.plotOptions.series.threshold=i.max)},spaceManager:function(e,t,n,r){var i=e[g],s,o,u=t.chart,a,f,l,h,d,v,m,y,b,w,E,S,x,T=i.marginLeftExtraSpace,N=i.marginTopExtraSpace,C=i.marginBottomExtraSpace,k=i.marginRightExtraSpace;d=n-(T+k+e.chart.marginRight+e.chart.marginLeft);var L=r-(C+e.chart.marginBottom+e.chart.marginTop),A=.3*d;r=.3*L;var O=d-A;n=L-r;var M=c(u.legendposition,vt).toLowerCase();e.legend.enabled&&M===mt&&(O-=this.placeLegendBlockRight(e,t,O/2,L));o=e.yAxis;h=o.length;s=h-i.noHiddenAxis;m=0;if(s)for(w=y=0,E=10,x=O/s,v=h-1;0<=v;v-=1)b=o[v],b.showAxis&&(s=i[v],l=b.opposite,S=(l?w:y)+E,a=s.tickWidth,f=c(u.rotateyaxisname,l?"cw":"ccw"),s.verticalAxisNamePadding=4,s.fixedValuesPadding=a,s.verticalAxisValuesPadding=a,s.rotateVerticalAxisName=l&&"ccw"!==f?"cw":f,s.verticalAxisNameWidth=50,b.offset=S,m=x+m-E,s=Ht(b,s,e,t,L,m,l,0,0),s+=E,l?(w+=s,e.chart.marginRight+=E):(y+=s,e.chart.marginLeft+=E),m-=s,O-=s,O<E&&(E=0),b._axisWidth=s);O-=jt(e,t,O);o=O+A;e.legend.enabled&&M!==mt&&(n-=this.placeLegendBlockBottom(e,t,d,n/2),e.legend.width>o&&(e.legend.x=0));n-=this.titleSpaceManager(e,t,o,n/2);s=i.x;s.horizontalAxisNamePadding=p(u.xaxisnamepadding,5);s.horizontalLabelPadding=p(u.labelpadding,2);s.labelDisplay="1"==u.rotatelabels?"rotate":c(u.labeldisplay,"auto").toLowerCase();s.staggerLines=p(u.staggerlines,2);s.slantLabels=p(u.slantlabels,u.slantlabel,0);d={left:0,right:0};d=e.chart.managePlotOverflow&&this.canvasPaddingModifiers&&this.calculateCanvasOverflow(e,!0)||d;v=d.left+d.right;m=.6*o;v>m&&(y=d.left/v,d.left-=y*(v-m),d.right-=(1-y)*(v-m));this.xAxisMinMaxSetter(e,t,o,d.left,d.right);n-=Pt(e.xAxis,s,e,t,o,n,A);n-=Ft(e,t,n,e.xAxis);t=r+n;for(v=0;v<h;v+=1)Bt(t,e,u,e.yAxis[v],i[v].lYLblIdx);e.legend.enabled&&M===mt&&(i=e.legend,u=r+n,i.height>u&&(i.height=u,i.scroll.enabled=!0,m=(i.scroll.scrollBarWidth=10)+(i.scroll.scrollBarPadding=2),i.width+=m,e.chart.marginRight+=m),i.y=20);i=e.chart.marginLeft+o/2;u=e.chart.marginLeft;t=-e.chart.marginRight;switch(e.title.align){case gt:e.title.x=u;break;case mt:e.title.x=t;break;default:e.title.x=i}switch(e.subtitle.align){case gt:e.subtitle.x=u;break;case mt:e.subtitle.x=t;break;default:e.subtitle.x=i}e.chart.marginLeft+=T;e.chart.marginTop+=N;e.chart.marginBottom+=C;e.chart.marginRight+=k}},bt.mslinebase);bt("candlestick",{friendlyName:"Candlestick Chart",standaloneInit:!0,creditLabel:!1,paletteIndex:3,defaultSeriesType:"candlestick",canvasborderthickness:1,rendererId:"candlestick",chart:bt.errorbar2d.chart,drawErrorValue:bt.errorbar2d.drawErrorValue,series:function(e,t,n){var r,s,o=t[g],u,l,v,b,w,E;r=e.chart;u=t.chart;var S=p(r.showvolumechart,1);l=this.colorManager;var x;t.legend.enabled=Boolean(p(r.showlegend,1));u.rollOverBandColor=ct(c(r.rolloverbandcolor,l.getColor("altHGridColor")),c(r.rolloverbandalpha,l.getColor("altHGridAlpha")));if(e.dataset&&0<e.dataset.length){this.categoryAdder(e,t);t.yAxis[0].opposite=!0;o.numdivlines=h(e.chart.numpdivlines);S&&(x=t._FCconf.numberFormatter,u=t.labels,t._FCconf.numberFormatter={},t._FCconf.smartLabel&&(s=t._FCconf.smartLabel,t._FCconf.smartLabel=void 0),t.labels={},v=y({},t),t._FCconf.numberFormatter=x,t._FCconf.smartLabel=s,t.labels=u,s&&(v._FCconf.smartLabel=s),v._FCconf.numberFormatter=new i.NumberFormatter(y(y({},r),{forcedecimals:d(r.forcevdecimals,r.forcedecimals),forceyaxisvaluedecimals:d(r.forcevyaxisvaluedecimals,r.forceyaxisvaluedecimals),yaxisvaluedecimals:d(r.vyaxisvaluedecimals,r.yaxisvaluedecimals),formatnumber:d(r.vformatnumber,r.formatnumber),formatnumberscale:d(r.vformatnumberscale,r.formatnumberscale),defaultnumberscale:d(r.vdefaultnumberscale,r.defaultnumberscale),numberscaleunit:d(r.vnumberscaleunit,r.numberscaleunit),vnumberscalevalue:d(r.vnumberscalevalue,r.numberscalevalue),scalerecursively:d(r.vscalerecursively,r.scalerecursively),maxscalerecursion:d(r.vmaxscalerecursion,r.maxscalerecursion),scaleseparator:d(r.vscaleseparator,r.scaleseparator),numberprefix:d(r.vnumberprefix,r.numberprefix),numbersuffix:d(r.vnumbersuffix,r.numbersuffix),decimals:d(r.vdecimals,r.decimals)}),this),y(v,{chart:{backgroundColor:"rgba(255,255,255,0)",borderColor:"rgba(255,255,255,0)",animation:!1},title:{text:null},subtitle:{text:null},legend:{enabled:!1},credits:{enabled:!1},xAxis:{opposite:!0,labels:{enabled:!1}},yAxis:[{opposite:!0,title:{},plotBands:[],plotLines:[]},{opposite:!1,title:{text:e.chart.vyaxisname}}]}),x=t.subCharts=[v]);r=0;for(s=e.dataset.length;r<s;r+=1)u={numColumns:s,data:[]},l=e.dataset[r],u=this.point(n,u,l,e.chart,t,o.oriCatTmp.length,r),u instanceof Array?(S&&(v.series.push({type:"column",data:u[1]}),v.showVolume=!0,l=p(e.chart.volumeheightpercent,40),l=20>l?20:80<l?80:l,b=o.height-(t.chart.marginBottom+t.chart.marginTop),w=b*l/100,E=t.chart.marginBottom+w,v[g].marginTop=E+40,v.yAxis[0].plotBands=[],v.yAxis[0].plotLines=[],v.exporting.enabled=!1,v.yAxis[0].title.text=m(h(e.chart.vyaxisname)),v.yAxis[0].title.align="low",v.chart.height=w+20,v.chart.width=o.width,v.chart.top=b-w,v.chart.left=0,v.chart.volumeHeightPercent=l),t.series.push(u[0])):t.series.push(u);if(e.trendset&&0<e.trendset.length)for(r=0,s=e.trendset.length;r<s;r+=1)u={type:"line",marker:{enabled:!1},connectNullData:1,data:[]},v=e.trendset[r],v.data&&0<v.data.length&&(u=this.getTrendsetPoint(n,u,v,e.chart,t,o.oriCatTmp.length,r),t.series.push(u));e.chart.showdivlinesecondaryvalue=0;e.chart.showsecondarylimits=0;this.configureAxis(t,e);t.yAxis[1].opposite=!1;t.yAxis[1].min=t.yAxis[0].min;t.yAxis[1].max=t.yAxis[0].max;t.yAxis[1].title.text=t.yAxis[0].title.text;t.yAxis[0].title.text=a;S&&x&&(x=x[0],n=x[g],n.numdivlines=h(e.chart.numvdivlines),n[0].min=o.volume&&o.volume.min,n[0].max=o.volume&&o.volume.max,x.series&&x.series[0]&&(x.series[0].showInLegend=!1),this.configureAxis(x,e),x.yAxis[0].title.text=m(h(e.chart.vyaxisname)),x.yAxis[1].min=x.yAxis[0].min,x.yAxis[1].max=x.yAxis[0].max,x.yAxis[1].title.text=x.yAxis[0].title.text,x.yAxis[0].title.text=a);if((n=e.trendlines&&e.trendlines[0]&&e.trendlines[0].line)&&n.length){for(S=0;S<n.length;S+=1)n[S].parentyaxis="s",n[S].valueonleft="1";f(e.trendlines,t.yAxis,o,!0,this.isBar)}}},getTrendsetPoint:function(e,t,n,r,i){if(n.data){e=n.data;var s=e.length,o=0,u,a,f,l,d,v=i[g],m=this.numberFormatter,y=p(t.yAxis,0),v=v.toolTextStore,s=it(c(n.color,r.trendsetcolor,"666666")),o=c(n.alpha,r.trendsetalpha,"100");u=p(n.thickness,r.trendsetthickness,2);a=Boolean(p(n.dashed,r.trendsetdashed,0));f=p(n.dashlen,r.trendsetdashlen,4);l=p(n.dashgap,r.trendsetdashgap,4);d=c(n.includeinlegend,1);t.color=ct(s,o);t.lineWidth=u;t.dashStyle=a?b(f,l):void 0;t.includeInLegend=d;t.name=h(n.name);t.doNotUseBand=!0;if(0===p(n.includeinlegend)||void 0===t.name)t.showInLegend=!1;t.tooltip={enabled:!1};o=r.interactivelegend=0;for(s=e.length;o<s;o+=1)(r=e[o])&&!r.vline&&(n=m.getCleanValue(r.value),r=m.getCleanValue(r.x),r=null!==r?r:o+1,u=v&&v[r],t.data.push({x:r,y:n,toolText:u}),this.pointValueWatchers(i,null,n,n,null,y))}return t},point:function(e,t,n,r,i){if(n.data){e=bt[e];var s=i[g],o=h(r.plotpriceas,a).toLowerCase(),u=n.data,f=u&&u.length,l=this.numberFormatter,d=[],v=[],y={},w,E,S,x=!1,T=p(t.yAxis,0),N=it(c(r.bearbordercolor,"B90000")),C=it(c(r.bearfillcolor,"B90000")),k=this.colorManager,L=it(c(r.bullbordercolor,k.getColor("canvasBorderColor"))),A=it(c(r.bullfillcolor,"FFFFFF")),O=t.lineWidth=p(r.plotlinethickness,"line"==o||"bar"==o?2:1),M=c(r.plotlinealpha,"100"),_=p(r.plotlinedashlen,5),D=p(r.plotlinedashgap,4),P=p(r.vplotborderthickness,1),H=!!p(r.drawanchors,1),B=p(r.anchorsides,0),j=p(r.anchorstartangle,90),F=p(r.anchorradius,this.anchorRadius,3),I=it(c(r.anchorbordercolor,L)),q=p(r.anchorborderthickness,this.anchorBorderThickness,1),k=it(c(r.anchorbgcolor,k.getColor("anchorBgColor"))),R=c(r.anchoralpha,"0"),U=c(r.anchorbgalpha,R),z,W,J,K,Q,G,Y,Z,et,tt,nt,rt,st,ot,ut,at=!1;t.name=h(n.seriesname);t.showInLegend=!1;t.marker={};switch(o){case"line":t.plotType="line";break;case"bar":t.plotType="candlestickbar";break;default:t.plotType="column",t.errorBarWidthPercent=0,at=!0}for(W=0;W<f;W+=1)(J=u[W])&&!J.vline&&(Y=l.getCleanValue(J.open),Z=l.getCleanValue(J.close),et=l.getCleanValue(J.high),tt=l.getCleanValue(J.low),nt=l.getCleanValue(J.volume,!0),ot=l.getCleanValue(J.x),at&&$(Z-Y),X(Y,Z),V(Y,Z),null!==nt&&(x=!0),rt=X(Y,Z,et,tt),st=V(Y,Z,et,tt),m(h(J.valuetext,a)),w=it(c(J.bordercolor,Z<Y?N:L)),E=c(J.alpha,"100"),o=ct(it(c(J.color,Z<Y?C:A)),E),S=Boolean(p(J.dashed))?b(_,D):void 0,z={opacity:E/100},Q=s.oriCatTmp[W],ut=ct(w,M),K=e.getPointStub(i,r,J,Y,Z,et,tt,nt,ut,O,t.plotType,Q),ot=ot?ot:W+1,y[ot]=K.toolText,t.data.push({high:V(Y,Z,et,tt),low:X(Y,Z,et,tt),color:at?o:{FCcolor:{color:w,alpha:E}},borderColor:ut,shadow:z,dashStyle:S,borderWidth:O,x:ot,y:K.y,categoryLabel:Q,errorValue:K.errorValue,previousY:K.previousY,toolText:K.toolText,link:K.link,marker:{enabled:H,fillColor:{FCcolor:{color:k,alpha:U*R/100+a}},lineColor:{FCcolor:{color:I,alpha:R}},lineWidth:q,radius:F,startAngle:j,symbol:wt(B)}}),G=h(m(c(J.volumetooltext,n.volumetooltext,r.volumetooltext))),G=void 0!==G?e.getPointStub(i,r,J,Y,Z,et,tt,nt,ut,O,t.plotType,Q,G).toolText:K.toolText,v.push({y:nt,categoryLabel:Q,color:ct(o,E),toolText:G,borderWidth:P,borderColor:ct(w,c(r.plotlinealpha,J.alpha)),dashStyle:S,shadow:z,x:ot,link:J.link}),this.pointValueWatchers(i,ot,rt,st,nt,T));s.toolTextStore=y;(t.drawVolume=x)?d.push(t,v):d=t;return d}return[]},getPointStub:function(e,t,n,r,i,s,o,u,f,p,d,v,y){var b=a,b=e[g],w=b.numberFormatter,E="line"===d,S=X(r,i),x=V(r,i),T={};e=e.subCharts&&e.subCharts[0]&&e.subCharts[0][g].numberFormatter||w;switch(d){case"line":T.y=i;T.link=c(n.link);break;case"column":T.y=$(i-r);T.previousY=S;T.link=c(n.link);T.errorValue=[];0<s-x&&T.errorValue.push({errorValue:s-x,errorStartValue:x,errorBarColor:f,errorBarThickness:p,opacity:1});0>o-S&&T.errorValue.push({errorValue:o-S,errorStartValue:S,errorBarColor:f,errorBarThickness:p,opacity:1});break;default:T.y=r,T.previousY=i,T.link=c(n.link)}b.showTooltip?(b=h(m(c(y,n.tooltext,b.tooltext))),void 0!==b?b=l(b,[3,5,6,10,54,55,56,57,58,59,60,61,81,82],{label:v,yaxisName:m(t.yaxisname),xaxisName:m(t.xaxisname),openValue:n.open,openDataValue:w.dataLabels(r),closeValue:n.close,closeDataValue:w.dataLabels(i),highValue:n.high,highDataValue:w.dataLabels(s),lowValue:n.low,lowDataValue:w.dataLabels(o),volumeValue:n.volume,volumeDataValue:w.dataLabels(u)},n,t):(b=null===r||E?a:"<b>Open:</b> "+w.dataLabels(r)+"<br/>",b+=null!==i?"<b>Close:</b> "+w.dataLabels(i)+"<br/>":a,b+=null===s||E?a:"<b>High:</b> "+w.dataLabels(s)+"<br/>",b+=null===o||E?a:"<b>Low:</b> "+w.dataLabels(o)+"<br/>",b+=null!==u?"<b>Volume:</b> "+e.dataLabels(u):a)):b=a;T.toolText=b;return T},pointValueWatchers:function(e,t,n,r,i,s){var o=e[g];s=p(s,0);null!==i&&(e=o.volume,e||(e=o.volume={}),e.max=e.max>i?e.max:i,e.min=e.min<i?e.min:i);null!==n&&(e=o[s],!e.max&&0!==e.max&&(e.max=n),!e.min&&0!==e.min&&(e.min=n),e.max=V(e.max,n),e.min=X(e.min,n));null!==r&&(e=o[s],!e.max&&0!==e.max&&(e.max=r),!e.min&&0!==e.min&&(e.min=r),e.max=V(e.max,r),e.min=X(e.min,r));null!==t&&(n=o.x,n.max=n.max>t?n.max:t,n.min=n.min<t?n.min:t)},spaceManager:function(e,t,n,r){var i=e[g],s,o=t.chart,u=e.chart,f,l,h=this.smartLabel||i.smartLabel,d=i.x.min,v=i.x.max,m,b,w=r-(i.marginBottomExtraSpace+0+u.marginTop),E=e.yAxis,S;l=E.length;var x,T,N=0,C=0,k=8,L,A=V(p(u.plotBorderWidth,1),0),O;this.base.spaceManager.apply(this,arguments);e.xAxis.min=d-.5;e.xAxis.max=v+.5;e.yAxis[0].title.centerYAxis=e.yAxis[1].title.centerYAxis=!0;if(e.subCharts){d=e.subCharts[0];N=e.xAxis.showLine?e.xAxis.lineThickness:A;O=r-(u.marginTop+u.marginBottom+N+A);C=d.chart.volumeHeightPercent;v=(i.horizontalAxisHeight||15)+A;O=O*C/100;u.marginBottom+=O+N+A;l=y({},e.xAxis);C=0;for(k=e.xAxis.plotBands.length;C<k;C+=1)(s=e.xAxis.plotBands[C])&&s.label&&s.label.text&&(s.label.text=" "),(s=l.plotBands[C])&&s.label&&s.label.y&&(s.label.y=ot(o.basefontsize,10)+4+N);C=0;for(k=l.plotLines.length;C<k;C+=1)(s=l.plotLines[C])&&s.label&&s.label.text&&(s.label.text=a);d.yAxis&&d.yAxis[0]&&d.yAxis[0].title&&d.yAxis[0].title.text&&(d.yAxis[0].title.text=a);d.xAxis=l;l=c(t.chart.rotateyaxisname,"ccw");l=l===xt?"none":l;h=E[1].title.rotation?h.getSmartText(d.yAxis[1].title.text,"none"===l?u.marginLeft-10:O,void 0,!0).text:h.getSmartText(d.yAxis[1].title.text,h.getOriSize(E[1].title.text).width,void 0,!0).text;E=d.yAxis;l=E.length;k=C=N=0;for(x=l-1;0<=x;x-=1)T=E[x],s=i[x],S=T.opposite,L=(S?C:N)+k,l=c(t.chart.rotateyaxisname,S?"cw":"ccw"),l=l===xt?"none":l,f=p(o.yaxisvaluespadding,o.labelypadding,4),f<A&&(f=A),s.verticalAxisNamePadding=10,s.verticalAxisValuesPadding=f+(T.showLine?T.lineThickness:0),s.rotateVerticalAxisName=l,T.offset=L,S?m=Ht(T,s,d,t,w,u.marginRight,!!S,0,0,C):b=Ht(T,s,d,t,w,u.marginLeft,!!S,0,0,N);E=e.yAxis;d.yAxis[1].title=y({},e.yAxis[1].title);d.yAxis[1].title.style=e.orphanStyles.vyaxisname.style;d.yAxis[1].title.text=h;d.chart.left=0;d.chart.width=n;d.chart.top=r-u.marginBottom+v;d.chart.height=u.marginBottom-v;m=Math.max(u.marginRight,m+u.spacingRight);b=Math.max(u.marginLeft,b+u.spacingLeft);d.chart.marginLeft=u.marginLeft=b;d.chart.marginRight=u.marginRight=m;d.chart.marginTop=5;d.chart.marginBottom=u.marginBottom-(v+O);e.yAxis.push(d.yAxis[0],d.yAxis[1]);d.xAxis.startY=E[2].startY=E[3].startY=d.chart.top+d.chart.marginTop;d.xAxis.endY=E[2].endY=E[3].endY=d.yAxis[0].startY+d.chart.height-d.chart.marginBottom;d.series[0]&&(d.series[0].yAxis=3,e.series.push(d.series[0]));e.xAxis=[e.xAxis,d.xAxis];e.yAxis[2].title.centerYAxis=e.yAxis[3].title.centerYAxis=!0}},isDual:!0,numVDivLines:0,defSetAdaptiveYMin:!0,divLineIsDashed:1,isCandleStick:!0,defaultPlotShadow:1,requiredAutoNumericLabels:1},bt.scatterbase);bt("kagi",{friendlyName:"Kagi Chart",standaloneInit:!0,stepLine:!0,creditLabel:!1,defaultSeriesType:"kagi",defaultZeroPlaneHighlighted:!1,setAdaptiveYMin:1,canvasPadding:15,isKagi:1,rendererId:"kagi",pointValueWatcher:function(e,t,n){null!==t&&(e=e[g],n=p(n,0),e[n]||(e[n]={}),n=e[n],this.maxValue=n.max=n.max>t?n.max:t,this.minValue=n.min=n.min<t?n.min:t)},point:function(e,t,n,r,i){e=i.chart;var s=n.length,o=0,u=i[g].x,f=i[g].numberFormatter,l=this.colorManager,h,v,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I;T=it(c(r.linecolor,r.palettecolors,l.getColor("plotFillColor")));N=p(r.linealpha,100);h=p(r.linethickness,2);t.color={FCcolor:{color:T,alpha:N}};H=t.anchorShadow=p(r.anchorshadow,0);t.lineWidth=h;t.step=this.stepLine;t.drawVerticalJoins=Boolean(p(r.drawverticaljoins,1));x=p(r.drawanchors,r.showanchors);for(v=0;v<s;v+=1)w=n[v],w.vline||(h=f.getCleanValue(w.value),null!=h&&(b=p(w.showlabel,r.showlabels,1),b=m(b?d(w.label,w.name):a),o+=1,S=p(w.linealpha,N),E={opacity:S/100},C=p(w.anchorsides,r.anchorsides,0),P=p(w.anchorstartangle,r.anchorstartangle,90),A=p(w.anchorradius,r.anchorradius,this.anchorRadius,3),L=it(c(w.anchorbordercolor,r.anchorbordercolor,T)),k=p(w.anchorborderthickness,r.anchorborderthickness,this.anchorBorderThickness,1),O=it(c(w.anchorbgcolor,r.anchorbgcolor,l.getColor("anchorBgColor"))),M=c(w.anchoralpha,r.anchoralpha,"100"),_=c(w.anchorbgalpha,r.anchorbgalpha,M),S=void 0===x?0!==S:!!x,B=Boolean(p(w.anchorshadow,H,0)),j=c(w.anchorimageurl,r.anchorimageurl),F=c(w.anchorimagescale,r.anchorimagescale,100),I=c(w.anchorimagealpha,r.anchorimagealpha,100),D=this.pointHoverOptions(w,t,{plotType:"anchor",anchorBgColor:O,anchorAlpha:M,anchorBgAlpha:_,anchorAngle:P,anchorBorderThickness:k,anchorBorderColor:L,anchorBorderAlpha:M,anchorSides:C,anchorRadius:A,imageUrl:j,imageScale:F,imageAlpha:I,shadow:E}),t.data.push(y(this.getPointStub(w,h,b,i),{y:h,color:T,shadow:E,dashStyle:w.dashed,valuePosition:c(w.valueposition,e.valuePosition),isDefined:!0,marker:{enabled:!!S,shadow:B&&{opacity:M/100},fillColor:{FCcolor:{color:O,alpha:_*M/100+a}},lineColor:{FCcolor:{color:L,alpha:M}},lineWidth:k,radius:A,startAngle:P,symbol:wt(C),imageUrl:j,imageScale:F,imageAlpha:I},hoverEffects:D.enabled&&D.options,rolloverProperties:D.enabled&&D.rolloverOptions})),this.pointValueWatcher(i,h)));u.catCount=o;return t},postSeriesAddition:function(e,t){var n=e.series[0],r=t.chart,i=t.data,s=n&&n.data,o=s&&s.length,u=e[g],f=u.x,u=u.axisGridManager,l=e.xAxis,h=!1,v=0,y=.5,w=p(r.reversalvalue,-1),o=p(r.reversalpercentage,5),E=this.maxValue,S=this.minValue,x,T,N,C,k,L,A,O,M,D,P,H,B,j,F,I,q={};if(s&&s.length){n.rallyColor=c(r.rallycolor,"FF0000");n.rallyAlpha=p(r.rallyalpha,r.linealpha,100);n.declineColor=c(r.declinecolor,"0000FF");n.declineAlpha=p(r.declinealpha,r.linealpha,100);n.rallyThickness=p(r.rallythickness,r.linethickness,2);k=p(r.rallydashlen,r.linedashlen,5);B=p(r.rallydashgap,r.linedashgap,4);n.declineThickness=p(r.declinethickness,r.linethickness,2);j=p(r.declinedashlen,r.linedashlen,5);H=p(r.declinedashgap,r.linedashgap,4);n.lineDashed={"true":p(r.rallydashed,r.linedashed,0),"false":p(r.declinedashed,r.linedashed,0)};n.rallyDashed=p(r.rallydashed,r.linedashed,0)?b(k,B,n.rallyThickness):void 0;n.declineDashed=p(r.declinedashed,r.linedashed,0)?b(j,H,n.declineThickness):void 0;n.canvasPadding=p(r.canvaspadding,this.canvasPadding,15);w=0<w?w:o*(E-S)/100;E=s[0].y;S=function(e,t){for(var n,r=1,i=s[0].y;r<e;)n=s[r].y,t?n<=i&&(s[r].isDefined=!1):n>=i&&(s[r].isDefined=!1),r+=1;s[0].vAlign=t?vt:dt;s[0].align="center"};o=i&&i.length;for(j=B=0;j<o;j+=1)if((H=i[j])&&H.vline)B&&u.addVline(l,H,y,e);else{q=i[j];I&&(I=!1,y+=.5);if(B&&(M=s[B])){D=s[B-1];M.vAlign="middle";M.align=mt;M.showLabel=!1;k=null;C=M.y;N=s[B+1]&&s[B+1].y;P=$(E-C);h?C<L&&x?x=!1:C>A&&!x&&(x=!0):(C>E&&P>w?(x=!0,L=E,A=null,h=T=!0,S(B,x)):C<E&&P>w?(x=!1,L=null,A=E,T=!1,h=!0,S(B,x)):(T=x=null,h=!1),_(D)&&(D.isRally=x),null!=x&&(s[0].isRally=x));M.isRally=x;if(T&&C<E||!T&&C>E)k=E;F=k?k:C;P=$(F-N);N=null==T?null:T?F>N&&P>=w:F<N&&P>=w;if(D&&D.isShift)for(T?(L=E,O=vt):T||(A=E,O=dt),D=B;1<D;D-=1)if(s[D].y==E){s[D].vAlign=O;s[D].align="center";s[D].showLabel=!0;break}N?(v+=1,y+=.5,I=!0,T=!T,M.isShift=!0,E=F,C=p(H.showlabel,r.showlabels,1),H=m(C?d(H.label,H.name):a),u.addXaxisCat(l,v-1,v-1,H)):T&&C>E||!T&&C<E?E=C:k=E;M.plotValue=k;M.objParams={isRally:x,lastHigh:A,lastLow:L,isRallyInitialised:h}}B+=1}C=p(q.showlabel,r.showlabels,1);H=m(C?d(q.label,q.name):a);u.addXaxisCat(l,v,v,H);n.shiftCount=f.catCount=v+1}},xAxisMinMaxSetter:function(e,t,n){var r=e[g].x,i=t.chart;t=r.min=p(r.min,0);var r=r.max=p(r.max,r.catCount-1),s=e.xAxis,o=X(p(i.canvaspadding,0),n/2-10),u=o,a=p(i.maxhshiftpercent,10),f=e.series[0];e=f&&f.shiftCount;var i=p(i.canvaspadding,this.canvasPadding,15),l=n-2*i;f&&(u=f.xShiftLength=X(l/e,(0>=a?10:a)*l/100),o=i+u/2,u=n-(u*V(e-1,1)+o),r=V(r,1));s.labels.enabled=!1;s.gridLineWidth=0;s.alternateGridColor=ht;n=(n-(o+u))/(r-t+0);s.min=t-(0+o/n);s.max=r+(0+u/n)}},bt.linebase);Ut=function(e,t,n){this.nf=t;this.dataSeparator=n;this.method=(e||a).toLowerCase().replace(/\s/g,"")};Ut.prototype={setArray:function(e){var t=this.nf,n=this.dataSeparator,r=0;!e&&(e=a);for(e=this.dataLength=(n=e.replace(/\s/g,a).split(n))&&n.length;e--;)r+=n[e]=t.getCleanValue(n[e]);n&&n.sort(function(e,t){return e-t});this.values=n;this.mean=r/this.dataLength;this.getFrequencies()},getQuartiles:function(){var e=this.values,t=this.dataLength,n=t%2,r,i;switch(this.method){case"tukey":n?(n=(t+3)/4,t=(3*t+1)/4):(n=(t+2)/4,t=(3*t+2)/4);break;case"mooremccabe":n?(n=(t+1)/4,t=3*n):(n=(t+2)/4,t=(3*t+2)/4);break;case"freundperles":n=(t+3)/4;t=(3*t+1)/4;break;case"mendenhallsincich":n=W((t+1)/4);t=W(3*n);break;default:n=(t+1)/4,t=3*n}n-=1;t-=1;r=Q(n);i=Q(t);n=n-r?e[r]+(e[K(n)]-e[r])*(n-r):e[n];e=t-i?e[i]+(e[K(t)]-e[i])*(t-i):e[t];return this.quartiles={q1:n,q3:e}},getMinMax:function(){var e=this.values;return{min:e[0],max:e[this.dataLength-1]}},getMean:function(){return this.mean},getMD:function(){for(var e=this.mean,t=this.frequencies,n=t.length,r,i=0;n--;)r=t[n],i+=r.frequency*$(r.value-e);return i/this.dataLength},getSD:function(){for(var e=this.mean,t=this.values,n=this.dataLength,r=n,i=0;n--;)i+=Y(t[n]-e,2);return G(i)/r},getQD:function(){return.5*(this.quartiles.q3-this.quartiles.q1)},getFrequencies:function(){var e=[],t=this.dataLength,n=this.values,r=0,i,s,o;for(o=0;o<t;o+=1)r+=i=n[o],_(e[o])?e[o].frequency+=1:(s={},s.value=i,s.frequency=1,e[o]=s);this.sum=r;this.frequencies=e},getMedian:function(){var e=this.dataLength,t=.5*e,n=this.values;return 0===e%2?(n[t]+n[t-1])/2:n[Q(t)]}};Ut.prototype.constructor=Ut;bt("boxandwhisker2d",{friendlyName:"Box and Whisker Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"boxandwhisker2d",chart:bt.errorbar2d.chart,drawErrorValue:bt.errorbar2d.drawErrorValue,decimals:2,maxColWidth:9e3,useErrorAnimation:1,avoidCrispError:0,tooltipsepchar:": ",rendererId:"boxandwhisker",fireGroupEvent:!0,point:function(e,t,n,r,i,s,o,u,f){var l=i[g],d=p(r.ignoreemptydatasets,0),E=l.numberFormatter,S=i.chart.useRoundEdges,x=p(r.showshadow,1),T=this.colorManager,N=","+(p(r.useplotgradientcolor,0)?v(r.plotgradientcolor,T.getColor("plotGradientColor")):a),C=2*o,k=p(r.plotborderthickness,1),L=c(r.plotbordercolor,T.getColor("plotBorderColor")).split(",")[0],A=c(r.plotborderalpha,"100"),O="0"==r.showplotborder?"0":A,M=p(n.dashed,r.plotborderdashed,0),D=p(n.dashlen,r.plotborderdashlen,5),P=p(n.dashgap,r.plotborderdashgap,4),H=c(n.upperboxcolor,r.upperboxcolor,T.getPlotColor(C)),B=c(n.lowerboxcolor,r.lowerboxcolor,T.getPlotColor(C+1)),j=p(n.upperboxalpha,r.upperboxalpha),F=p(n.lowerboxalpha,r.lowerboxalpha),I=c(n.upperwhiskercolor,r.upperwhiskercolor,L),q=c(n.lowerwhiskercolor,r.lowerwhiskercolor,L),R=p(n.upperwhiskeralpha,r.upperwhiskeralpha,r.plotborderalpha,"100"),U=p(n.lowerwhiskeralpha,r.lowerwhiskeralpha,r.plotborderalpha,"100"),z=p(n.upperwhiskerthickness,r.upperwhiskerthickness,k),W=p(n.lowerwhiskerthickness,r.lowerwhiskerthickness,k),$=c(n.upperwhiskerdashed,r.upperwhiskerdashed,0),J=c(n.lowerwhiskerdashed,r.lowerwhiskerdashed,0),K=c(n.upperwhiskerdashlen,r.upperwhiskerdashlen,5),Q=c(n.lowerwhiskerdashlen,r.lowerwhiskerdashlen,5),G=c(n.upperwhiskerdashgap,r.upperwhiskerdashgap,4),Y=c(n.lowerwhiskerdashgap,r.lowerwhiskerdashgap,4),Z=c(n.upperquartilecolor,r.upperquartilecolor,L),et=c(n.lowerquartilecolor,r.lowerquartilecolor,L),tt=c(n.upperboxbordercolor,r.upperboxbordercolor,L),nt=c(n.lowerboxbordercolor,r.lowerboxbordercolor,L),it=c(n.mediancolor,r.mediancolor,L),st=c(n.upperquartilealpha,r.upperquartilealpha,S?0:A),ot=c(n.lowerquartilealpha,r.lowerquartilealpha,S?0:A),ut=c(n.upperboxborderalpha,r.upperboxborderalpha,S?0:O),at=c(n.lowerboxborderalpha,r.lowerboxborderalpha,S?0:O),ft=c(n.medianalpha,r.medianalpha,A),lt=c(n.upperquartilethickness,r.upperquartilethickness,k),pt=c(n.lowerquartilethickness,r.lowerquartilethickness,k),dt=c(n.upperboxborderthickness,r.upperboxborderthickness,k),vt=c(n.lowerboxborderthickness,r.lowerboxborderthickness,k),mt=c(n.medianthickness,r.medianthickness,k),gt=c(n.upperquartiledashed,r.upperquartiledashed,M),yt=c(n.lowerquartiledashed,r.lowerquartiledashed,M),bt=c(n.upperboxborderdashed,r.upperboxborderdashed,M),Et=c(n.lowerboxborderdashed,r.lowerboxborderdashed,M),St=c(n.mediandashed,r.mediandashed,M),xt=c(n.upperquartiledashlen,r.upperquartiledashlen,D),Tt=c(n.lowerquartiledashlen,r.lowerquartiledashlen,D),Nt=c(n.upperboxborderdashlen,r.upperboxborderdashlen,D),Ct=c(n.lowerboxborderdashlen,r.lowerboxborderdashlen,D),kt=c(n.mediandashlen,r.mediandashlen,D),Lt=c(n.upperquartiledashgap,r.upperquartiledashgap,P),At=c(n.lowerquartiledashgap,r.lowerquartiledashgap,P),Ot=c(n.upperboxborderdashgap,r.upperboxborderdashgap,P),Mt=c(n.lowerboxborderdashgap,r.lowerboxborderdashgap,P),Dt=c(n.mediandashgap,r.mediandashgap,P),Pt={},Ht={},Bt={},jt={},Ft={},It=[],qt=[],Rt=[],Ut=[],zt=[],Wt={polygon:"polygon",spoke:"spoke"},Xt=Wt[c(n.meaniconshape,r.meaniconshape,"polygon").toLowerCase()]||"polygon",Vt=p(n.meaniconradius,r.meaniconradius,5),$t=p(n.meaniconsides,r.meaniconsides,3),Jt=c(n.meaniconcolor,r.meaniconcolor,"000000"),Kt=c(n.meaniconbordercolor,r.meaniconbordercolor,"000000"),Qt=p(n.meaniconalpha,r.meaniconalpha,100),Gt=Wt[c(n.sdiconshape,r.sdiconshape,"polygon").toLowerCase()]||"polygon",Yt=p(n.sdiconradius,r.sdiconradius,5),Zt=p(n.sdiconsides,r.sdiconsides,3),en=c(n.sdiconcolor,r.sdiconcolor,"000000"),tn=c(n.sdiconbordercolor,r.sdiconbordercolor,"000000"),nn=p(n.sdiconalpha,r.sdiconalpha,100),rn=Wt[c(n.mdiconshape,r.mdiconshape,"polygon").toLowerCase()]||"polygon",sn=p(n.mdiconradius,r.mdiconradius,5),on=p(n.mdiconsides,r.mdiconsides,3),un=c(n.mdiconcolor,r.mdiconcolor,"000000"),an=c(n.mdiconbordercolor,r.mdiconbordercolor,"000000"),fn=p(n.mdiconalpha,r.mdiconalpha,100),ln=Wt[c(n.qdiconshape,r.qdiconshape,"polygon").toLowerCase()]||"polygon",cn=p(n.qdiconradius,r.qdiconradius,5),hn=p(n.qdiconsides,r.qdiconsides,3),pn=c(n.qdiconcolor,r.qdiconcolor,"000000"),dn=c(n.qdiconbordercolor,r.qdiconbordercolor,"000000"),vn=p(n.qdiconalpha,r.qdiconalpha,100),mn=Wt[c(n.outliericonshape,r.outliericonshape,"polygon").toLowerCase()]||"polygon",gn=p(n.outliericonradius,r.outliericonradius,5),yn=p(n.outliericonsides,r.outliericonsides,3),bn=c(n.outliericoncolor,r.outliericoncolor,"000000"),wn=c(n.outliericonbordercolor,r.outliericonbordercolor,"000000"),En=p(n.outliericonalpha,r.outliericonalpha,100),Sn=(1-2*l.plotSpacePercent)/2*(-.5+o),xn=p(r.reverselegend,0),Tn=xn?-1:1,Nn=t.legendIndex=6*o+(xn?5:0),Cn=p(n.showmean,r.showmean,0),kn=p(n.showmd,r.showmd,0),Ln=p(n.showsd,r.showsd,0),An=p(n.showqd,r.showqd,0),On=p(n.showalloutliers,r.showalloutliers,0),Mn=p(r.outliersupperrangeratio,0),_n=p(r.outlierslowerrangeratio,0),Dn=!1,Pn=Boolean(p(r.showdetailedlegend,1)),Hn=l.tooltipSepChar,Bn=!0,jn=l.dataSeparator,Fn=l.bwCalc,In=c(t.type,this.defaultSeriesType),qn=i.plotOptions[In]&&i.plotOptions[In].stacking,Rn,Un,zn,Wn,Xn,Vn,$n,Jn,Kn,Qn,Gn,Yn,Zn,er,tr,nr,rr,ir,sr,or,ur,ar,fr,lr,cr,hr,pr,dr,vr,mr,gr,yr,br,wr,Er,Sr,xr,Tr,Nr,Cr,kr,Lr,Ar,Or,Mr,_r,Dr,Pr,Hr,Br=function(e,t){return e-t},jr,Fr,Ir,qr,Rr,Ur;t.errorBarWidthPercent=p(n.whiskerslimitswidthratio,r.whiskerslimitswidthratio,40);Lr=n.data;t.name=h(n.seriesname);qn||(t.columnPosition=p(f,u,o));t.errorBar2D=!0;if(0===p(n.includeinlegend)||void 0===t.name)Bn=t.showInLegend=!1;3>$t&&($t=3);rr=_t(H.split(",")[0]);ir=_t(B.split(",")[0]);t.color={FCcolor:{color:rr+","+rr+","+ir+","+ir,alpha:"100,100,100,100",angle:90,ratio:"0,50,0,50"}};wr=this.isBar;O=(Er=/3d$/.test(i.chart.defaultSeriesType))?r.showplotborder?O:"0":O;L=Er?c(r.plotbordercolor,"#FFFFFF"):L;Mn=0>Mn?0:Mn;_n=0>_n?0:_n;for(hr=0;hr<s;hr+=1){if(gr=Lr&&Lr[hr])Fn.setArray(gr.value),_r=Fn.getQuartiles(),Dr=_r.q1,Pr=_r.q3,Hr=Fn.getMinMax(),Or=cr=Hr.min,Ar=Hr.max,Mr=Fn.getMedian(),Zn=Fn.getMean(),tr=Fn.getMD(),er=Fn.getSD(),nr=Fn.getQD(),lr=fr=Ar;if(gr&&null!=Dr&&null!=Pr&&null!==fr){Dn=!0;Wn=p(gr.showmean,Cn);Xn=p(gr.showmd,kn);Vn=p(gr.showsd,Ln);$n=p(gr.showqd,An);Un=l.oriCatTmp[hr];Tr=this.getPointStub(i,r,n,gr,Ar,Pr,Mr,Dr,Or,Zn,tr,er,nr,Un);Nr=Tr.toolText;Wn?(Jn=1,Yn=p(gr.meaniconalpha,Qt),Nr=h(m(c(gr.meantooltext,n.meantooltext,r.meantooltext))),Nr=void 0!==Nr?this.getTooltext(Nr,i,r,n,gr,Ar,Or,Dr,Pr,Ft,er,nr,tr,Zn,Un):"<b>Mean"+Hn+"</b>"+E.dataLabels(Zn),It.push({y:Zn,toolText:Nr,link:Tr.link,marker:{enabled:!0,fillColor:ct(c(gr.meaniconcolor,Jt),Yn),lineColor:ct(c(gr.meaniconbordercolor,Kt),Yn),radius:p(gr.meaniconradius,Vt),symbol:wt(p(gr.meaniconsides,$t),"spoke"==c(gr.meaniconshape,Xt))}})):It.push({y:null});Xn?(Kn=1,Yn=p(gr.mdiconalpha,fn),Nr=h(m(c(gr.mdtooltext,n.mdtooltext,r.mdtooltext))),Nr=void 0!==Nr?this.getTooltext(Nr,i,r,n,gr,Ar,Or,Dr,Pr,Ft,er,nr,tr,Zn,Un):"<b>MD"+Hn+"</b>"+E.dataLabels(tr),qt.push({y:tr,toolText:Nr,link:Tr.link,marker:{enabled:!0,fillColor:ct(c(gr.mdiconcolor,un),Yn),lineColor:ct(c(gr.mdiconbordercolor,tn),Yn),radius:p(gr.mdiconradius,sn),symbol:wt(p(gr.mdiconsides,on),"spoke"==c(gr.mdiconshape,rn))}})):qt.push({y:null});Vn?(Qn=1,Yn=p(gr.sdiconalpha,nn),Nr=h(m(c(gr.sdtooltext,n.sdtooltext,r.sdtooltext))),Nr=void 0!==Nr?this.getTooltext(Nr,i,r,n,gr,Ar,Or,Dr,Pr,Ft,er,nr,tr,Zn,Un):"<b>SD"+Hn+"</b>"+E.dataLabels(er),Rt.push({y:er,toolText:Nr,link:Tr.link,marker:{enabled:!0,fillColor:ct(c(gr.sdiconcolor,en),Yn),lineColor:ct(c(gr.sdiconbordercolor,tn),Yn),radius:p(gr.sdiconradius,Yt),symbol:wt(p(gr.sdiconsides,Zt),"spoke"==c(gr.sdiconshape,Gt))}})):Rt.push({y:null});$n?(Gn=1,Yn=p(gr.qdiconalpha,vn),Nr=h(m(c(gr.qdtooltext,n.qdtooltext,r.qdtooltext))),Nr=void 0!==Nr?this.getTooltext(Nr,i,r,n,gr,Ar,Or,Dr,Pr,Ft,er,nr,tr,Zn,Un):"<b>QD"+Hn+"</b>"+E.dataLabels(nr),Ut.push({y:nr,toolText:Nr,link:Tr.link,marker:{enabled:!0,fillColor:ct(c(gr.qdiconcolor,pn),Yn),lineColor:ct(c(gr.qdiconbordercolor,dn),Yn),radius:p(gr.qdiconradius,cn),symbol:wt(p(gr.qdiconsides,hn),"spoke"==c(gr.qdiconshape,ln))}})):Ut.push({y:null});if(sr=gr.outliers){sr=sr.replace(/\s/g,a).split(jn);for(or=sr.length;or--;)sr[or]=E.getCleanValue(sr[or]);sr.sort(Br);or=sr.length;for(ur=0;ur<or;ur+=1)if(ar=sr[ur],On&&(lr=V(fr,ar),cr=X(Or,ar)),Yn=p(gr.outliericonalpha,En),ar>fr||ar<Or)Nr=h(m(c(gr.outlierstooltext,n.outlierstooltext,r.outlierstooltext))),Nr=void 0!==Nr?this.getTooltext(Nr,i,r,n,gr,Ar,Or,Dr,Pr,Ft,er,nr,tr,Zn,Un,ar):"<b>Outlier"+Hn+"</b>"+E.dataLabels(ar),zt.push({y:ar,toolText:Nr,x:hr,link:Tr.link,marker:{enabled:!0,fillColor:ct(c(gr.outliericoncolor,bn),Yn),lineColor:ct(c(gr.outliericonbordercolor,wn),Yn),radius:p(gr.outliericonradius,gn),symbol:wt(p(gr.outliericonsides,yn),"spoke"==c(gr.outliericonshape,mn))}})}On||(zn=lr-cr,lr+=zn*Mn,cr-=zn*_n);pr=c(gr.upperboxcolor,H)+N;dr=c(gr.lowerboxcolor,B)+N;vr=c(gr.upperboxalpha,j,r.upperboxalpha,r.plotfillalpha,"100")+a;mr=c(gr.lowerboxalpha,F,r.lowerboxalpha,r.plotfillalpha,"100")+a;yr=c(gr.ratio,n.ratio,r.plotfillratio);br=c(360-r.plotfillangle,90);0>fr&&(br=360-br);Cr={opacity:vr/100};kr=X(vr,O)+a;Sr=rt(pr,vr,yr,br,S,L,kr,wr,Er);xr=rt(dr,mr,yr,br,S,L,kr,wr,Er);Pt={value:Pr,color:ct(c(gr.upperquartilecolor,Z),p(gr.upperquartilealpha,st)),borderWidth:p(gr.upperquartilethickness,lt),dashStyle:p(gr.upperquartiledashed,gt)?b(c(gr.upperquartiledashlen,xt),c(gr.upperquartiledashgap,Lt),p(gr.upperquartilethickness,lt)):void 0,displayValue:Tr.displayValueQ3};Ht={value:Dr,color:ct(c(gr.lowerquartilecolor,et),p(gr.lowerquartilealpha,ot)),borderWidth:p(gr.lowerquartilethickness,pt),dashStyle:p(gr.lowerquartiledashed,yt)?b(c(gr.lowerquartiledashlen,Tt),c(gr.lowerquartiledashgap,At),p(gr.lowerquartilethickness,pt)):void 0,displayValue:Tr.displayValueQ1};Bt={color:ct(c(gr.upperboxbordercolor,tt),p(gr.upperboxborderalpha,ut)),borderWidth:p(gr.upperboxborderthickness,dt),dashStyle:p(gr.upperboxborderdashed,bt)?b(c(gr.upperboxborderdashlen,Nt),c(gr.upperboxborderdashgap,Ot),p(gr.upperboxborderthickness,dt)):void 0};jt={color:ct(c(gr.lowerboxbordercolor,nt),p(gr.lowerboxborderalpha,at)),borderWidth:p(gr.lowerboxborderthickness,vt),dashStyle:p(gr.lowerboxborderdashed,Et)?b(c(gr.lowerboxborderdashlen,Ct),c(gr.lowerboxborderdashgap,Mt),p(gr.lowerboxborderthickness,vt)):void 0};Ft={value:Mr,color:ct(c(gr.mediancolor,it),p(gr.medianalpha,ft)),borderWidth:p(gr.medianthickness,mt),dashStyle:p(gr.mediandashed,St)?b(c(gr.mediandashlen,kt),c(gr.mediandashgap,Dt),p(gr.medianthickness,mt)):void 0,displayValue:Tr.displayValueMid};jr=[];_(Ar)&&jr.push({errorValue:Ar-Pr,toolText:Tr.toolText,link:Tr.link,errorBarColor:ct(c(gr.upperwhiskercolor,I),p(gr.upperwhiskeralpha,R)),errorBarThickness:p(gr.upperwhiskerthickness,z),dashStyle:p(gr.upperwhiskerdashed,$)?b(c(gr.upperwhiskerdashlen,K),c(gr.upperwhiskerdashgap,G),p(gr.upperwhiskerthickness,z)):void 0,displayValue:Tr.displayValueMax,shadow:{opacity:x?p(gr.upperwhiskeralpha,R)/250:0}});_(Or)&&jr.push({errorValue:-(Dr-Or),errorStartValue:Dr,toolText:Tr.toolText,link:Tr.link,errorBarColor:ct(c(gr.lowerwhiskercolor,q),p(gr.lowerwhiskeralpha,U)),errorBarThickness:p(gr.lowerwhiskerthickness,W),dashStyle:p(gr.lowerwhiskerdashed,J)?b(c(gr.lowerwhiskerdashlen,Q),c(gr.lowerwhiskerdashgap,Y),p(gr.lowerwhiskerthickness,W)):void 0,displayValue:Tr.displayValueMin,shadow:{opacity:x?p(gr.lowerwhiskeralpha,U)/250:0}});Rn=this.pointHoverOptions(gr,n,r,{upperBoxColor:pr,upperBoxAlpha:vr,upperBoxBorderColor:c(gr.upperboxbordercolor,tt),upperBoxBorderAlpha:p(gr.upperboxborderalpha,ut),upperBoxBorderThickness:Bt.borderWidth,lowerBoxColor:dr,lowerBoxAlpha:mr,lowerBoxBorderColor:c(gr.lowerboxbordercolor,nt),lowerBoxBorderAlpha:p(gr.lowerboxborderalpha,at),lowerBoxBorderThickness:jt.borderWidth,upperQuartileColor:c(gr.upperquartilecolor,Z),upperQuartileAlpha:p(gr.upperquartilealpha,st),upperQuartileThickness:Pt.borderWidth,lowerQuartileColor:c(gr.lowerquartilecolor,et),lowerQuartileAlpha:p(gr.lowerquartilealpha,ot),lowerQuartileThickness:Ht.borderWidth,upperWhiskerColor:c(gr.upperwhiskercolor,I),upperWhiskerThickness:p(gr.upperwhiskerthickness,z),upperWhiskerAlpha:p(gr.upperwhiskeralpha,R),lowerWhiskerColor:c(gr.lowerwhiskercolor,q),lowerWhiskerAlpha:p(gr.lowerwhiskeralpha,U),lowerWhiskerThickness:p(gr.lowerwhiskerthickness,W),medianColor:c(gr.mediancolor,it),medianAlpha:p(gr.medianalpha,ft),medianThickness:p(gr.medianthickness,mt)});Rn.enabled&&(Rn.upperBox.fill=w(rt(Rn.upperBox.color,Rn.upperBox.alpha,yr,br,S,L,kr,wr,Er)[0].FCcolor),delete Rn.upperBox.color,delete Rn.upperBox.alpha,Rn.lowerBox.fill=w(rt(Rn.lowerBox.color,Rn.lowerBox.alpha,yr,br,S,L,kr,wr,Er)[0].FCcolor),delete Rn.lowerBox.color,delete Rn.lowerBox.alpha);t.data.push(y(Tr,{y:Pr,errorValue:jr,shadow:Cr,color:Sr[0],toolText:Tr.toolText,lowerboxColor:xr[0],lowerboxBorderColor:xr[1],borderWidth:0,upperQuartile:Pt,lowerQuartile:Ht,upperBoxBorder:Bt,lowerBoxBorder:jt,median:Ft,hoverEffects:Rn}));this.pointValueWatcher(i,lr);this.pointValueWatcher(i,cr)}else t.data.push({y:null}),qt.push({y:null}),Rt.push({y:null}),Ut.push({y:null}),It.push({y:null})}t.showInLegend=Bn&&(Dn||!d);t.legendFillColor=ct(rr,20);Fr={type:"line",name:"Mean",relatedSeries:"boxandwhisker",data:It,legendIndex:Nn+Tn,showInLegend:!!Jn&&Bn&&Pn,marker:{fillColor:ct(Jt,100),lineColor:ct(Kt,100),radius:Vt,symbol:wt($t,"spoke"==Xt)},color:p(r.drawmeanconnector,n.drawmeanconnector,0)?ct(c(n.meanconnectorcolor,r.meanconnectorcolor,Jt),p(n.meanconnectoralpha,r.meanconnectoralpha,100)):ht,lineWidth:p(r.drawmeanconnector,n.drawmeanconnector,0)?p(n.meanconnectorthickness,r.meanconnectorthickness,1):0,shadow:0,legendFillColor:t.legendFillColor};Ir={type:"line",name:"SD",relatedSeries:"boxandwhisker",data:Rt,legendIndex:Nn+2*Tn,showInLegend:!!Qn&&Bn&&Pn,marker:{fillColor:ct(en,100),lineColor:ct(tn,100),radius:Yt,symbol:wt(Zt,"spoke"==Gt)},color:p(r.drawsdconnector,n.drawsdconnector,0)?ct(c(n.sdconnectorcolor,r.sdconnectorcolor,en),p(n.sdconnectoralpha,r.sdconnectoralpha,100)):ht,lineWidth:p(r.drawsdconnector,n.drawsdconnector,0)?p(n.sdconnectorthickness,r.sdconnectorthickness,1):0,shadow:0,pointStart:Sn,legendFillColor:t.legendFillColor};qr={type:"line",name:"MD",relatedSeries:"boxandwhisker",data:qt,legendIndex:Nn+3*Tn,showInLegend:!!Kn&&Bn&&Pn,marker:{fillColor:ct(un,100),lineColor:ct(an,100),radius:sn,symbol:wt(on,"spoke"==rn)},color:p(r.drawmdconnector,n.drawmdconnector,0)?ct(c(n.mdconnectorcolor,r.mdconnectorcolor,un),p(n.mdconnectoralpha,r.mdconnectoralpha,100)):ht,lineWidth:p(r.drawmdconnector,n.drawmdconnector,0)?p(n.mdconnectorthickness,r.mdconnectorthickness,1):0,shadow:0,pointStart:Sn,legendFillColor:t.legendFillColor};Rr={type:"line",name:"QD",relatedSeries:"boxandwhisker",data:Ut,legendIndex:Nn+4*Tn,showInLegend:!!Gn&&Bn&&Pn,marker:{fillColor:ct(pn,100),lineColor:ct(dn,100),radius:cn,symbol:wt(hn,"spoke"==ln)},color:p(r.drawqdconnector,n.drawqdconnector,0)?ct(c(n.qdconnectorcolor,r.qdconnectorcolor,pn),p(n.qdconnectoralpha,r.qdconnectoralpha,100)):ht,lineWidth:p(r.drawqdconnector,n.drawqdconnector,0)?p(n.qdconnectorthickness,r.qdconnectorthickness,1):0,shadow:0,pointStart:Sn,legendFillColor:t.legendFillColor};Ur={type:"line",name:"Outlier",relatedSeries:"boxandwhisker",showInLegend:!(!zt||!zt.length)&&Bn&&Pn,data:zt,legendIndex:Nn+5*Tn,marker:{fillColor:ct(bn,100),lineColor:ct(wn,100),radius:gn,symbol:wt(yn,"spoke"==mn)},color:ht,lineWidth:0,shadow:0,pointStart:Sn,legendFillColor:t.legendFillColor};i._meanDataArr.push(Fr);i._sdDataArr.push(Ir);i._mdDataArr.push(qr);i._qdDataArr.push(Rr);i._outliers.push(Ur);return t},series:function(e,t,n){var r=t.series,i=t._meanDataArr=[],s=t._sdDataArr=[],o=t._mdDataArr=[],u=t._qdDataArr=[],a=t._outliers=[],f=t[g],l=t.yAxis[0],h=2*f.plotSpacePercent,p,d,v,m,y;f.dataSeparator=c(t.chart.dataseparator,St);f.bwCalc=new Ut(e.chart.calculationmethod,f.numberFormatter,f.dataSeparator);bt.multiseries.series.call(this,e,t,n);n=r&&r.length;e=V(i.length,s.length,o.length,u.length,a.length,n);h=(1-h)/n;f=l.min;y=l.max;t.series=r.concat(i,s,o,u,a);for(l=0;l<n;l+=1)for(d=r[l],p=l,!d.relatedSeries&&(d.relatedSeries=[]),v=0;5>v;v+=1)p+=n,d.relatedSeries.push(p);for(v=l=0;v<e;v+=1,l+=1)if(r=(-.5*(n-1)+l)*h,i[l]&&(i[l].pointStart=r),s[l]&&(s[l].pointStart=r),u[l]&&(u[l].pointStart=r),o[l]&&(o[l].pointStart=r),a[l]&&(a[l].pointStart=r),p=(r=a[l])&&r.data)for(r=0;r<p.length;r+=1)d=p[r],m=d.y,d.y=m>y||m<f?null:m;delete t._meanDataArr;delete t._sdDataArr;delete t._mdDataArr;delete t._qdDataArr;delete t._outliers},getTooltext:function(e,t,n,r,i,s,o,u,a,f,c,h,p,d,v,g){t=this.numberFormatter;return l(e,[1,2,3,4,5,6,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],{maxValue:s,maxDataValue:t.dataLabels(s),minValue:o,minDataValue:t.dataLabels(o),Q1:t.dataLabels(u),unformattedQ1:u,Q3:t.dataLabels(a),unformattedQ3:a,median:t.dataLabels(f),unformattedMedian:f,SD:t.dataLabels(c),unformattedSD:c,QD:t.dataLabels(h),unformattedQD:h,MD:t.dataLabels(p),unformattedMD:p,mean:t.dataLabels(d),unformattedMean:d,label:m(v),yaxisName:m(n.yaxisname),xaxisName:m(n.xaxisname),formattedValue:t.dataLabels(g),value:g},{value:g},n,r)},pointHoverOptions:function(e,t,n,r){var i=p(e.showhovereffect,t.showhovereffect,n.plothovereffect,n.showhovereffect),s=p(e.highlightonhover,t.highlightonhover,t.highlightplotonhover,n.highlightonhover,n.highlightplotonhover,i),o={},u={},a={},f={},l={},h={},d={},v={},m={},g;o.color=c(e.upperboxhovercolor,t.upperboxhovercolor,n.plotfillhovercolor,n.upperboxhovercolor);o.alpha=c(e.upperboxhoveralpha,t.upperboxhoveralpha,n.upperboxhoveralpha);d.color=c(e.upperboxborderhovercolor,t.upperboxborderhovercolor,n.upperboxborderhovercolor);d.alpha=c(e.upperboxborderhoveralpha,t.upperboxborderhoveralpha,n.upperboxborderhoveralpha);d.thickness=p(e.upperboxborderhoverthickness,t.upperboxborderhoverthickness,n.upperboxborderhoverthickness);u.color=c(e.lowerboxhovercolor,t.lowerboxhovercolor,n.plotfillhovercolor,n.lowerboxhovercolor);u.alpha=c(e.lowerboxhoveralpha,t.lowerboxhoveralpha,n.lowerboxhoveralpha);v.color=c(e.lowerboxborderhovercolor,t.lowerboxborderhovercolor,n.lowerboxborderhovercolor);v.alpha=c(e.lowerboxborderhoveralpha,t.lowerboxborderhoveralpha,n.lowerboxborderhoveralpha);v.thickness=p(e.lowerboxborderhoverthickness,t.lowerboxborderhoverthickness,n.lowerboxborderhoverthickness);l.color=c(e.upperwhiskerhovercolor,t.upperwhiskerhovercolor,n.upperwhiskerhovercolor);l.alpha=c(e.upperwhiskerhoveralpha,t.upperwhiskerhoveralpha,n.upperwhiskerhoveralpha);l.thickness=c(e.upperwhiskerhoverthickness,t.upperwhiskerhoverthickness,n.upperwhiskerhoverthickness);h.color=c(e.lowerwhiskerhovercolor,t.lowerwhiskerhovercolor,n.lowerwhiskerhovercolor);h.alpha=c(e.lowerwhiskerhoveralpha,t.lowerwhiskerhoveralpha,n.lowerwhiskerhoveralpha);h.thickness=c(e.lowerwhiskerhoverthickness,t.lowerwhiskerhoverthickness,n.lowerwhiskerhoverthickness);a.color=c(e.upperquartilehovercolor,t.upperquartilehovercolor,n.upperquartilehovercolor);a.alpha=c(e.upperquartilehoveralpha,t.upperquartilehoveralpha,n.upperquartilehoveralpha);a.thickness=c(e.upperquartilehoverthickness,t.upperquartilehoverthickness,n.upperquartilehoverthickness);f.color=c(e.lowerquartilehovercolor,t.lowerquartilehovercolor,n.lowerquartilehovercolor);f.alpha=c(e.lowerquartilehoveralpha,t.lowerquartilehoveralpha,n.lowerquartilehoveralpha);f.thickness=c(e.lowerquartilehoverthickness,t.lowerquartilehoverthickness,n.lowerquartilehoverthickness);m.color=c(e.medianhovercolor,t.medianhovercolor,n.medianhovercolor);m.alpha=c(e.medianhoveralpha,t.medianhoveralpha,n.medianhoveralpha);m.thickness=c(e.medianhoverthickness,t.medianhoverthickness,n.medianhoverthickness);e=!!c(o.color,o.alpha,d.color,d.alpha,d.thickness,u.color,u.alpha,v.color,v.thickness,v.alpha,l.color,l.alpha,l.thickness,h.color,h.alpha,h.thickness,a.color,a.alpha,a.thickness,f.color,f.alpha,f.thickness,m.color,m.alpha,m.thickness,s);void 0===i&&void 0===s&&e&&(s=0);if(void 0===i&&e||i)g=!0,o.color=c(o.color,s?lt(r.upperBoxColor,70):r.upperBoxColor),o.alpha=c(o.alpha,r.upperBoxAlpha),u.color=c(u.color,s?lt(r.lowerBoxColor,70):r.lowerBoxColor),u.alpha=c(u.alpha,r.lowerBoxAlpha),d.color=c(d.color,r.upperBoxBorderColor),d.alpha=p(d.alpha,r.upperBoxBorderAlpha),d.stroke=ct(d.color,d.alpha),d["stroke-width"]=p(d.thickness,r.upperBoxBorderThickness),delete d.color,delete d.alpha,delete d.thickness,v.color=c(v.color,r.lowerBoxBorderColor),v.alpha=c(v.alpha,r.lowerBoxBorderAlpha),v.stroke=ct(v.color,v.alpha),v["stroke-width"]=p(v.thickness,r.lowerBoxBorderThickness),delete v.color,delete v.alpha,delete v.thickness,l.color=c(l.color,r.upperWhiskerColor,70),l.alpha=c(l.alpha,r.upperWhiskerAlpha),l.stroke=ct(l.color,l.alpha),l["stroke-width"]=c(l.thickness,r.upperWhiskerThickness),delete l.color,delete l.alpha,delete l.thickness,h.color=c(h.color,r.lowerWhiskerColor,70),h.alpha=c(h.alpha,r.lowerWhiskerAlpha),h.stroke=ct(h.color,h.alpha),h["stroke-width"]=c(h.thickness,r.lowerWhiskerThickness),delete h.color,delete h.alpha,delete h.thickness,a.color=c(a.color,r.upperQuartileColor,70),a.alpha=c(a.alpha,r.upperQuartileAlpha),a.stroke=ct(a.color,a.alpha),a["stroke-width"]=c(a.thickness,r.upperQuartileThickness),delete a.color,delete a.alpha,delete a.thickness,f.color=c(f.color,r.lowerQuartileColor,70),f.alpha=c(f.alpha,r.lowerQuartileAlpha),f.stroke=ct(f.color,f.alpha),f["stroke-width"]=c(f.thickness,r.lowerQuartileThickness),delete f.color,delete f.alpha,delete f.thickness,m.color=c(m.color,r.medianColor,70),m.alpha=c(m.alpha,r.medianAlpha),m.stroke=ct(m.color,m.alpha),m["stroke-width"]=c(m.thickness,r.medianThickness),delete m.color,delete m.alpha,delete m.thickness;return{enabled:g,upperBox:o,upperBoxBorder:d,lowerBox:u,lowerBoxBorder:v,upperQuartile:a,lowerQuartile:f,upperWhisker:l,lowerWhisker:h,median:m}},getPointStub:function(e,t,n,r,i,s,o,u,f,l,d,v,y,b){var w=a,w=e[g],E=w.tooltipSepChar,S=this.numberFormatter,x=p(r.showvalue,n.showvalues,t.showvalues,1),T={"true":S.dataLabels(i),"false":a},N={"true":S.dataLabels(s),"false":a},C={"true":S.dataLabels(o),"false":a},k={"true":S.dataLabels(u),"false":a},S={"true":S.dataLabels(f),"false":a};w.showTooltip?(w=h(m(c(r.tooltext,n.plottooltext,w.tooltext))),w=void 0!==w?this.getTooltext(w,e,t,n,r,i,f,u,s,o,v,y,d,l,b):"<b>Maximum"+E+"</b>"+T[!0]+"<br/><b>Q3"+E+"</b>"+N[!0]+"<br/><b>Median"+E+"</b>"+C[!0]+"<br/><b>Q1"+E+"</b>"+k[!0]+"<br/><b>Minimum"+E+"</b>"+S[!0]):w=a;return{toolText:w,link:c(r.link),categoryLabel:b,displayValueMax:T[!(!x||!p(r.showmaxvalue,n.showmaxvalues,t.showmaxvalues,1))],displayValueMid:C[!(!x||!p(r.showmedianvalue,n.showmedianvalues,t.showmedianvalues,1))],displayValueMin:S[!(!x||!p(r.showminvalue,n.showminvalues,t.showminvalues,1))],displayValueQ3:N[!(!x||!p(r.showq3value,n.showq3values,t.showq3values,0))],displayValueQ1:k[!(!x||!p(r.showq1value,n.showq1values,t.showq1values,0))]}}},bt.multiseries);bt("heatmap",{friendlyName:"Heatmap Chart",standaloneInit:!0,creditLabel:!1,defaultSeriesType:"heatmap",tooltipsepchar:": ",tooltipConstraint:"chart",rendererId:"heatmap",series:function(e,t,n){var r=e.chart,s=t.chart,o=t[g],u=this.colorManager,f=t.series,l=this.numberFormatter,d=e.rows&&e.rows.row,v=d&&d.length,w=e.columns&&e.columns.column,E=w&&w.length,S=e.dataset,x=S&&S.data,T=e.colorrange||{},k=o.mapByPercent=p(T.mapbypercent,0),L=o.mapByCategory=p(r.mapbycategory,0),T=!L&&p(T.gradient,0),A=c(r.plotfillalpha,100),O=p(r.showlabels,r.showlabel,1),M=p(r.showplotborder,1),D=M?p(r.plotborderthickness,1):0,u=c(r.plotbordercolor,u.getColor("plotBorderColor")),M=c(r.plotborderalpha,M?95:0).toString(),u=ct(u,M),M=p(r.plotborderdashed,0),P=p(r.plotborderdashlen,5),x=p(r.plotborderdashgap,4),P=M?b(P,x,D):void 0,H=i.colorRange,B=0,j=0,F=0,I=0,q=o.rowIdObj={},R=o.columnIdObj={},U=[],M=[],z=0,X=[],$,J,K,Q,G,Y,Z,et,tt;s.showHoverEffect=p(r.showhovereffect,1);T&&(t.legend.type="gradient");t.legend.enabled=Boolean(p(r.showlegend,1));for(s=0;s<v;s+=1)J=d[s],$=J.id,_($)&&$!==a&&(B+=1,q[$.toLowerCase()]={index:B,label:p(J.showlabel,r.showyaxislabels,r.showyaxisnames,O)?c(J.label,J.name,$):a});for(s=0;s<E;s+=1)K=w[s],d=K.id,_(d)&&d!==a&&(R[d.toLowerCase()]={index:j,label:p(K.showlabel,r.showxaxislabels,r.showxaxisnames,O)?c(K.label,K.name,d):a},j+=1);Z=0;for(et=S&&S.length;Z<et;Z+=1)for(x=S[Z]&&S[Z].data,s=0,tt=x&&x.length;s<tt;s+=1)if(w=x[s],Y=l.getCleanValue(w.value),null!==Y||L)$=h(w.rowid,w.rowids),J=h($,a).toLowerCase(),d=h(w.columnid,w.columnids),K=h(d,a).toLowerCase(),U.push(Y),_(G)||_(Q)||!_(Y)||(Q=G=Y),G>Y&&(G=Y),Q<Y&&(Q=Y),!_(J)||_(q[J])||v||(F+=1,q[J]={index:F,label:$}),!_(K)||_(R[K])||E||(R[K]={index:I,label:d},I+=1),J=q[J],K=R[K],J&&K&&(_(X[J.index])||(X[J.index]=[]),X[J.index][K.index]?M[X[J.index][K.index]-1]={rowId:$,columnId:d,categoryId:c(w.colorrangelabel,w.categoryid,w.categoryname,w.category),tlLabel:m(c(w.tllabel,w.ltlabel)),trLabel:m(c(w.trlabel,w.rtlabel)),blLabel:m(c(w.bllabel,w.lblabel)),brLabel:m(c(w.brlabel,w.rblabel)),rowLabel:J.label,columnLabel:K.label,setColor:w.color,setAlpha:c(w.alpha,A),setShowLabel:p(w.showlabel,w.showname,O),colorRangeLabel:w.colorrangelabel,displayValue:w.displayvalue,tooltext:w.tooltext,showvalue:w.showvalue,link:w.link,hoverColor:c(w.hovercolor,r.hovercolor,r.plotfillhovercolor),hoverAlpha:p(w.hoveralpha,r.hoveralpha,r.plotfillhoveralpha),index:z,value:Y,y:J.index,x:K.index,_value:w.value,_cleanValue:Y}:(z+=1,M.push({rowId:$,columnId:d,categoryId:c(w.colorrangelabel,w.categoryid,w.categoryname,w.category),tlLabel:m(c(w.tllabel,w.ltlabel)),trLabel:m(c(w.trlabel,w.rtlabel)),blLabel:m(c(w.bllabel,w.lblabel)),brLabel:m(c(w.brlabel,w.rblabel)),rowLabel:J.label,columnLabel:K.label,setColor:w.color&&w.color.replace(N,C),setAlpha:c(w.alpha,A),setShowLabel:p(w.showlabel,w.showname,O),colorRangeLabel:w.colorrangelabel,displayValue:w.displayvalue,tooltext:w.tooltext,showvalue:w.showvalue,link:w.link,hoverColor:c(w.hovercolor,r.hovercolor,r.plotfillhovercolor),hoverAlpha:p(w.hoveralpha,r.hoveralpha,r.plotfillhoveralpha),index:z,value:Y,y:J.index,x:K.index,_value:w.value,_cleanValue:Y}),X[J.index][K.index]=z));if(M.length){o.rowCount=B=V(B,F);o.columnCount=V(j,I);for(s in q)q[s].index=B-q[s].index+1;o.minHeatValue=G;o.maxHeatValue=Q;v=Q-G;k=k&&!L;t.colorRange=new H({colorRange:e.colorrange,dataMin:G,dataMax:Q,sortLegend:p(r.autoorderlegendicon,r.autoorderlegendicon,0),mapByCategory:L,defaultColor:"cccccc",numberFormatter:l});if(T)f.push({data:[],hoverEffects:this.parseSeriesHoverOptions(e,t,S,n),borderWidth:D,borderColor:u,dashStyle:P});else for(l=(r=t.colorRange.colorArr)&&r.length,s=0;s<l;s+=1)Q=r[s],_(Q.code)&&f.push({data:[],hoverEffects:this.parseSeriesHoverOptions(e,t,S,n),name:c(Q.label,Q.name),borderWidth:D,borderColor:u,color:_t(Q.code),dashStyle:P});f.length||f.push({data:[],showInLegend:!1});for(s=0;s<M.length;s+=1)w=M[s],k&&(w.value=W((w.value-G)/v*1e4)/100),n=t.colorRange.getColorObj(L?w.categoryId:w.value),n.outOfRange||(w.y=o.rowCount-w.y+1,w.color=ct(c(w.setColor,n.code),c(w.setAlpha,A)),w.hoverColor=ct(c(w.hoverColor,w.setColor,n.code),p(w.hoverAlpha,25)),w=y(w,this.getPointStub(w,w.value,a,t,e)),T?f[0].data.push(w):f[n.seriesIndex]&&f[n.seriesIndex].data.push(w))}else t.series=[];this.configureAxis(t,e)},getPointStub:function(e,t,n,r,i){n=r[g];var s=i.chart,o=n.tooltipSepChar,u=n.mapByCategory;i=n.mapByPercent&&!u;var f=this.numberFormatter,d=e._cleanValue;r=f.percentValue(t);t=null===d?t:f.dataLabels(d);var v=h(m(c(e.tooltext,n.tooltext))),f=h(m(e.displayValue)),y=u?f:c(f,t),b=p(e.showvalue,n.showValues),w=h(s.tltype,a),E=h(s.trtype,a),S=h(s.bltype,a),x=h(s.brtype,a),u=e.tlLabel,d=e.trLabel,T=e.blLabel,N=e.brLabel,C;w!==a&&(w="<b>"+w+o+"</b>");E!==a&&(E="<b>"+E+o+"</b>");S!==a&&(S="<b>"+S+o+"</b>");x!==a&&(x="<b>"+x+o+"</b>");n=n.showTooltip?void 0!==v?l(v,[1,2,5,6,7,14,93,94,95,96,97,98,112,113,114,115,116,117],{formattedValue:t,percentValue:i?r:a,yaxisName:m(s.yaxisname),xaxisName:m(s.xaxisname)},{value:e._value,displayvalue:e.displayValue},s,e):y===a?!1:(i?"<b>Value"+o+"</b>"+t+"<br/><b>Percentage"+o+"</b>"+r:y)+(e.tlLabel!==a?"<br/>"+(w+e.tlLabel):a)+(e.trLabel!==a?"<br/>"+E+e.trLabel:a)+(e.blLabel!==a?"<br/>"+S+e.blLabel:a)+(e.brLabel!==a?"<br/>"+x+e.brLabel:a):a;b?C=void 0!==f?f:i?r:t:u=d=T=N=C=a;e=c(e.link);return{displayValue:C,toolText:n,link:e,tlLabel:u,trLabel:d,blLabel:T,brLabel:N}},configureAxis:function(e,t){var n=e[g],r=t.chart,i=e.yAxis[0],s=e.xAxis,o=n.rowCount,u=n.columnCount,a=n.axisGridManager,f=n.rowIdObj,l=n.columnIdObj,h=this.colorManager,d=ct(c(r.vdivlinecolor,r.divlinecolor,h.getColor("divLineColor")),p(r.vdivlinealpha,r.divlinealpha,h.getColor("divLineAlpha"))),v=p(r.vdivlinethickness,r.divlinethickness,1),y=p(r.vdivlinedashed,r.vdivlineisdashed,r.divlinedashed,r.divlineisdashed,0)?b(p(r.vdivlinedashlen,r.divlinedashlen,4),p(r.vdivlinedashgap,r.divlinedashgap,2),v):void 0,w=ct(c(r.hdivlinecolor,r.divlinecolor,h.getColor("divLineColor")),p(r.hdivlinealpha,r.divlinealpha,h.getColor("divLineAlpha"))),E=p(r.hdivlinethickness,r.divlinethickness,1),S=p(r.hdivlinedashed,r.hdivlineisdashed,r.divlinedashed,r.divlineisdashed,0)?b(p(r.hdivlinedashlen,r.divlinedashlen,4),p(r.hdivlinedashgap,r.divlinedashgap,2),v):void 0,x,T;i.min=0;i.max=o;for(T in f)x=f[T],h=x.index,x=x.label,a.addAxisGridLine(i,h+ -.5,x,.1,void 0,ht,1),h<o&&i.plotBands.push({isTrend:!0,color:w,value:h,width:E,dashStyle:S,zIndex:3});i.labels.enabled=!1;i.gridLineWidth=0;i.alternateGridColor=ht;i.title.text=m(r.yaxisname);s.min=-.5;s.max=i=u+ -.5;s.opposite=p(r.placexaxislabelsontop,0);n.x.catCount=u;for(T in l)n=l[T],h=n.index,x=n.label,a.addXaxisCat(s,h,1,x),h-=-.5,h<i&&s.plotBands.push({isTrend:!0,color:d,value:h,width:v,dashStyle:y,zIndex:3});s.labels.enabled=!1;s.gridLineWidth=0;s.alternateGridColor=ht;s.title.text=m(r.xaxisname)},xAxisMinMaxSetter:function(){},placeLegendBlockRight:function(){return"gradient"===arguments[0].legend.type?i.placeGLegendBlockRight?i.placeGLegendBlockRight.apply(this,arguments):0:i.placeLegendBlockRight.apply(this,arguments)},placeLegendBlockBottom:function(){return"gradient"===arguments[0].legend.type?i.placeGLegendBlockBottom?i.placeGLegendBlockBottom.apply(this,arguments):0:i.placeLegendBlockBottom.apply(this,arguments)}},bt.column2dbase);bt("renderer.multiaxisline",{legendClick:function(e,t,n){var r=this.options.series,i=this.yAxis[r[e.index].yAxis],s=i.axisData._relatedSeries,o=s.length,u=!1;bt["renderer.cartesian"].legendClick.call(this,e,t,n);if(!n){for(;o--&&!(u=r[s[o]].visible););i.checkBox.element.checked=u}}},bt["renderer.cartesian"]);bt("renderer.candlestick",{drawPlotCandlestickbar:function(e,t){var n=e.data,r=n.length,i=e.items,s=e.graphics=[],o=this.paper,u=this.layers,a=this.definition.chart,f=this.options.plotOptions.series,l=this.xAxis[t.xAxis||0],c=this.yAxis[t.yAxis||0],h=t.numColumns||1,d=t.columnPosition||0,v=!1===t.visible?"hidden":"visible",m=l.getAxisPosition(0),m=l.getAxisPosition(1)-m,g=f.groupPadding,y=f.maxColWidth,a=(1-.01*(a&&a.plotspacepercent))*m||X(m*(1-2*g),y*h),h=a/h*d-a/2,b,E,S,x,T,g=u.dataset=u.dataset||o.group("dataset-orphan");g.column=g.column||o.group("columns",g);for(u=0;u<r;u+=1){d=n[u];m=d.y;b=null;if(null===m){if(y=i[u])b=y.graphic,b.attr({height:0})}else y=p(d.x,u),a=d.link,y=l.getAxisPosition(y),b=d.previousY,E=c.getAxisPosition(b),b=c.getAxisPosition(m),S=c.getAxisPosition(d.high),x=c.getAxisPosition(d.low),$(b-E),T=h,E=[F,y,x,I,y,S,F,y,b,I,y+T,b,F,y,E,I,y-T,E],(y=i[u])||(y=i[u]={index:u,value:m,graphic:o.path(E,g),dataLabel:null,tracker:null}),b=y.graphic,b.attr({path:E,fill:w(d.color),stroke:w(d.borderColor),"stroke-width":d.borderWidth,"stroke-dasharray":d.dashStyle,"stroke-linecap":"round","stroke-linejoin":"round","shape-rendering":"crisp",cursor:a?"pointer":"",visibility:v}).shadow(f.shadow||d.shadow),this.drawTracker&&this.drawTracker.call(this,e,t,u);b&&s.push(b);this.drawTracker&&this.drawTracker.call(this,e,t,u)}e.visible=!1!==t.visible;return e},drawCanvas:function(){bt["renderer.cartesian"].drawCanvas.call(this,arguments);if(this.options.subCharts&&this.options.subCharts[0]){var e=this.options,e=(e.subCharts&&e.subCharts[0]).chart||{},t=this.paper,n=this.elements,r=n.volumeCanvas,i=e.marginTop+e.top,s=e.left=e.marginLeft,o=e.width-e.marginLeft-e.marginRight,u=e.height-e.marginBottom,a=p(e.plotBorderRadius,0),f=e.plotBorderWidth,l=e.plotBackgroundColor,c=.5*f,h=e.plotBorderColor,d=this.layers.canvas;r||(n.volumeCanvas=t.rect(s-c,i-c-1,o+f,u+f,a,d).attr({fill:w(l),"stroke-width":f,stroke:h,"stroke-linejoin":2<f?"round":"miter","shape-rendering":"crisp"}).shadow(e.plotShadow).crisp())}},drawTracker:function(e,t,n){var r=this,i=r.paper,s=r.xAxis[0],o=e.data[n],u=r.yAxis[0].getAxisPosition(o.y),a=s.getAxisPosition(p(o.x,n));e=e.items[n];n=tt?40:20;var f=r.layers.tracker,l=r.definition.chart,c=r.options.plotOptions.series,h=s.getAxisPosition(0),s=s.getAxisPosition(1)-h,h=c.groupPadding,c=c.maxColWidth,d=((1-.01*(l&&l.plotspacepercent))*s||X(s*(1-2*h),1*c))/1,v=.5*-d,l=r.elements,s=l.canvas.getBBox(),c=l.volumeCanvas&&l.volumeCanvas.getBBox(),h=l.rollOverBand,m=e&&e.tracker,d={"stroke-width":d,ishot:!0,stroke:w(r.options.chart.rollOverBandColor),fill:w(r.options.chart.rollOverBandColor),visibility:"hidden"};c&&m&&!t.doNotUseBand&&(m||(m=e.tracker=i.circle(a,u,n,f).attr({"stroke-width":0,fill:D})),m.data("x",a),o.toolText&&m.tooltip(o.toolText),h||(h=l.rollOverBand=i.path([F,0,s.y,I,0,s.y2,F,0,c.y,I,0,c.y2]).attr(d),r.layers.dataset.appendChild(h),h.toBack()),m.mouseover(function(){r.rollOver(r,this,v)}).mouseout(function(){r.rollOut(r)}))},rollOver:function(e,t){e.elements.rollOverBand.transform("t"+t.data("x")+",0").show()},rollOut:function(e){e.elements.rollOverBand.hide()}},bt["renderer.cartesian"]);bt("renderer.spline",{drawPlotSpline:function(e,t){var n=this,r=n.paper,i=n.elements,s=n.options,u=s.chart,a=s.plotOptions.series,f=a.dataLabels&&a.dataLabels.style||{},l={fontFamily:f.fontFamily,fontSize:f.fontSize,lineHeight:f.lineHeight,fontWeight:f.fontWeight,fontStyle:f.fontStyle},f=e.items,c=e.graphics=e.graphics||[],h=n.xAxis[t.xAxis||0],d=n.yAxis[t.yAxis||0],v=e.data,m=[],g=[],y=!1===t.visible,b=y?"hidden":"visible",E=isNaN(+a.animation)&&a.animation.duration||1e3*a.animation,S=!1!==(s.tooltip||{}).enabled,x=n.chartWidth,T=n.chartHeight,s=function(){et.attr({"clip-rect":null});tt.show();Y.show();Z.show();K.attr({transform:"...t"+ -x+","+ -T})},N,C,k=a.connectNullData,L,A,O,M,_,P,H=null,B,j=t.lineWidth,F,I,q,R,U,z,W,X,$=n.layers,J=$.dataset=$.dataset||r.group("dataset-orphan"),K=$.datalabels=$.datalabels||r.group("datalables"),Q=$.tracker,$=u.anchorTrackingRadius,G,Y,Z,et,tt,nt=[],rt,it,st,ot=function(i,s,o,u,a,f,l,h){return function(){var p=o.imageUrl,d=o.imageScale,v=o.imageAlpha,m=l.imageHoverAlpha,g=l.imageHoverScale,y=this.width*d*.01,w=this.width*g*.01;W={x:i-this.width*d*.005,y:s-this.height*d*.005,width:y,height:this.height*d*.01,alpha:v};X={x:i-this.width*g*.005,y:s-this.height*g*.005,width:w,height:this.height*g*.01,alpha:m};m=w>y?X:W;u.graphic=R=r.image(p,tt).attr(W).css({opacity:.01*v}).data("alwaysInvisible",0===d).data("setRolloverProperties",l).data("setRolloverAttr",X).data("setRolloutAttr",W).data("anchorRadius",d).data("anchorHoverRadius",g);c.push(R);if(M||S||l)it=u.tracker=r.rect(Q).attr(m).attr({cursor:M?"pointer":"",stroke:D,"stroke-width":o.lineWidth,fill:D,ishot:!0,visibility:b}).data("eventArgs",a).click(function(e){kt.call(this,n,e)}).hover(function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOver",e,n)}}(u),function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOut",e,n)}}(u)).tooltip(f);(rt=n.drawPlotLineLabel(e,t,h,i,s))&&c.push(rt)}},ut=function(r,i,s,o,u,a,f){return function(){(rt=s.dataLabel=n.drawPlotLineLabel(e,t,f,r,i))&&c.push(rt)}},at=function(e){kt.call(this,n,e)},ft=function(e,t){return function(r){n.hoverPlotAnchor(this,r,t,e,n)}},u=function(e,t,n,r){var i=e.length,s=e[i-1],o=s.length,u=s[0],s=s[o-2];3>o||("R"===u&&3===o&&(e[i-1][0]="L"),t&&e.push(["L",s,r,n,r,"Z"]))};n.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",l);K.insertAfter(J);K.attr({"class":"fusioncharts-datalabels",transform:"...t"+x+","+T});E&&n.animationCompleteQueue.push({fn:s,scope:n});l=J.line||(J.line=r.group("line-connector",J));Y=r.group("connector-shadow",l);Z=r.group("anchor-shadow",l);et=r.group("connector",l);tt=r.group("anchors",l);tt.hide();Y.hide();Z.hide();N=0;for(C=v.length;N<C;N+=1)if(L=v[N],O=L.y,R=it=rt=null,null===O)0===k&&(H=null);else{l=f[N]={chart:n,index:N,value:O};A=p(L.x,N);M=L.link;_=L.tooltext||L.toolText;B=d.getAxisPosition(O);A=h.getAxisPosition(A);if((I=L.marker)&&I.enabled)if(F=I.radius,z=I.shadow,q=I.symbol.split("_"),G={index:N,link:M,value:O,displayValue:L.displayValue,categoryLabel:L.categoryLabel,toolText:L.toolText,id:e.userID,datasetIndex:e.index,datasetName:e.name,visible:e.visible},W=X={},O=L.rolloverProperties,I.imageUrl)F=new o.Image,F.onload=ot(A,B,I,l,G,_,O,N),F.onerror=ut(A,B,l,N),F.src=I.imageUrl;else{O&&(W={polypath:[q[1]||2,A,B,I.radius,I.startAngle,0],fill:w(I.fillColor),"stroke-width":I.lineWidth,stroke:w(I.lineColor)},X={polypath:[O.sides||2,A,B,O.radius,O.startAngle,O.dip],fill:w(O.fillColor),"stroke-width":O.lineWidth,stroke:w(O.lineColor)});R=l.graphic=r.polypath(q[1]||2,A,B,I.radius,I.startAngle,0,tt).attr({fill:w(I.fillColor),"stroke-width":I.lineWidth,stroke:w(I.lineColor),cursor:M?"pointer":"","stroke-linecap":"round","stroke-linejoin":"round",ishot:!0,visibility:0===F?"hidden":b}).data("alwaysInvisible",0===F).data("setRolloverProperties",O).data("setRolloverAttr",X).data("setRolloutAttr",W).data("anchorRadius",F).data("anchorHoverRadius",O&&O.radius).shadow(z||!1,Z);if(M||S||O)F=V(F,O&&O.radius||0,$),it=r.polypath(q[1]||2,A,B,F,I.startAngle,0,Q).attr({cursor:M?"pointer":"",stroke:D,"stroke-width":0,ishot:!0,fill:D,visibility:b});st=it||R;st.click(at);(it||R).data("eventArgs",G).hover(ft(l,"DataPlotRollOver"),ft(l,"DataPlotRollOut")).tooltip(_)}_=nt.length;null!==H?2<=_?(nt[_-1].push(A),nt[_-1].push(B)):(nt.push(["M",P,H]),nt.push(["R",A,B])):null===H&&2<=_&&(P=nt[_-1],"R"===P[0]&&3===P.length&&(P.push(P[1]),P.push(P[2])),nt.push(["M",A,B]),nt.push(["R"]));R&&c.push(R);st&&c.push(st);P=A;H=B;_=L.color;F=L.dashStyle;g.push(R);l.dataLabel=rt;l.tracker=st;I&&I.imageUrl||(rt=n.drawPlotLineLabel(e,t,N,A,B));rt&&c.push(rt);n.drawTracker&&n.drawTracker.call(n,e,t,N)}2<=nt.length&&(u(nt,!1),U=e.graphic=r.path(nt,et).attr({"stroke-dasharray":F,"stroke-width":j,stroke:w(_),"stroke-linecap":"round","stroke-linejoin":"round",visibility:b}).shadow(a.shadow&&L.shadow,Y),m.push(U),J.shadow(a.shadow||L.shadow));E?et.attr({"clip-rect":i["clip-canvas-init"]}).animate({"clip-rect":i["clip-canvas"]},E,"normal",n.getAnimationCompleteFn()):(s&&s(),s=void 0);U&&c.push(U);e.visible=!y;return e},drawPlotAreaspline:function(e,t){var n=this,r=n.paper,i=n.layers,s=n.options,u=s.chart,a=n.elements,f=s.plotOptions.series,l=f.dataLabels&&f.dataLabels.style||{},c={fontFamily:l.fontFamily,fontSize:l.fontSize,lineHeight:l.lineHeight,fontWeight:l.fontWeight,fontStyle:l.fontStyle},h=n.xAxis[t.xAxis||0],d=n.yAxis[t.yAxis||0],v=e.data,m=(l=!1===t.visible)?"hidden":"visible",g=isNaN(+f.animation)&&f.animation.duration||1e3*f.animation,y="0"===n.definition.chart.drawfullareaborder,b=!1!==(s.tooltip||{}).enabled,E,S,x,T,N,s=e.items,C=e.graphics=e.graphics||[],k=null,L,A,O=d.max,M=d.min,O=d.getAxisPosition(0<O&&0<M?M:0>O&&0>M?O:0),_=i.tracker,P=i.dataset=i.dataset||r.group("dataset-orphan"),H=i.datalabels=i.datalabels||r.group("datalabels").insertAfter(P),B=u.anchorTrackingRadius,j=n.chartWidth,F=n.chartHeight,i=function(){U.attr({"clip-rect":null});R.show();q.show();H.attr({transform:"...t"+ -j+","+ -F})},I,q,R,U,z,W,X=[],M=[],$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at=function(i,s,o,u,a,f,l,c){return function(){var h=o.imageUrl,p=o.imageScale,d=o.imageAlpha,v=l.imageHoverAlpha,g=l.imageHoverScale,y=this.width*p*.01,w=this.width*g*.01;rt={x:i-this.width*p*.005,y:s-this.height*p*.005,width:y,height:this.height*p*.01,alpha:d};it={x:i-this.width*g*.005,y:s-this.height*g*.005,width:w,height:this.height*g*.01,alpha:v};v=w>y?it:rt;u.graphic=Y=r.image(h,R).attr(rt).css({opacity:.01*d}).data("alwaysInvisible",0===p).data("setRolloverProperties",l).data("setRolloverAttr",it).data("setRolloutAttr",rt).data("anchorRadius",p).data("anchorHoverRadius",g);C.push(Y);if(T||b||l)Z=u.tracker=r.rect(_).attr(v).attr({cursor:T?"pointer":"",stroke:D,"stroke-width":o.lineWidth,fill:D,ishot:!0,visibility:m}).data("eventArgs",a).click(function(e){kt.call(this,n,e)}).hover(function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOver",e,n)}}(u),function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOut",e,n)}}(u)).tooltip(f);(et=u.dataLabel=n.drawPlotLineLabel(e,t,c,i,s))&&C.push(et)}},ft=function(r,i,s,o){return function(){(et=s.dataLabel=n.drawPlotLineLabel(e,t,o,r,i))&&C.push(et)}},lt=function(e){kt.call(this,n,e)},ct=function(e,t){return function(r){n.hoverPlotAnchor(this,r,t,e,n)}};K=function(e,t,n,r){var i=e.length,s=e[i-1],o=s.length,u=s[0],s=s[o-2];3>o||("R"===u&&3===o&&(e[i-1][0]="L"),t&&e.push(["L",s,r,n,r,"Z"]))};U=P.area=P.area||r.group("area",P);I=P.line||(P.line=r.group("line-connector",P));r.group("connector-shadow",I);q=r.group("anchor-shadow",I);u=r.group("area-connector",I);R=r.group("area-anchors",I);R.hide();q.hide();n.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",c);H.insertAfter(P);H.attr({"class":"fusioncharts-datalabels",transform:"...t"+j+","+F});g&&n.animationCompleteQueue.push({fn:i,scope:n});c=0;for(P=v.length;c<P;c+=1)if(E=v[c],x=E.y,I=X.length,$=M.length,Y=Z=et=null,2<=I&&(J=X[I-1],N=J.length),null===x)0===f.connectNullData&&(k=null);else{ot=s[c]={chart:n,index:c,value:x};S=p(E.x,c);T=E.link;N=E.tooltext||E.toolText;S=h.getAxisPosition(S);x=d.getAxisPosition(x);if((Q=E.marker)&&Q.enabled)if(ut={index:c,link:T,value:E.y,displayValue:E.displayValue,categoryLabel:E.categoryLabel,toolText:N,id:e.userID,datasetIndex:e.index,datasetName:e.name,visible:e.visible},W=Q.radius,st=Q.shadow,G=Q.symbol.split("_"),rt=it={},nt=E.rolloverProperties,Q.imageUrl)W=new o.Image,W.onload=at(S,x,Q,ot,ut,N,nt,c),W.onerror=ft(S,x,ot,c),W.src=Q.imageUrl;else{if(nt=E.rolloverProperties)rt={polypath:[G[1]||2,S,x,W,Q.startAngle,0],fill:w(Q.fillColor),"stroke-width":Q.lineWidth,stroke:w(Q.lineColor)},it={polypath:[nt.sides||2,S,x,nt.radius,nt.startAngle,nt.dip],fill:w(nt.fillColor),"stroke-width":nt.lineWidth,stroke:w(nt.lineColor)};Y=ot.graphic=r.polypath(G[1]||2,S,x,W,Q.startAngle,0,R).attr({fill:w(Q.fillColor),"stroke-width":Q.lineWidth,stroke:w(Q.lineColor),"stroke-linecap":"round",cursor:T?"pointer":"",ishot:!0,visibility:0===W?"hidden":m}).data("alwaysInvisible",0===W).data("setRolloverProperties",nt).data("setRolloverAttr",it).data("setRolloutAttr",rt).data("anchorRadius",W).data("anchorHoverRadius",nt&&nt.radius).shadow(st||!1,q);if(T||b||nt)W=V(W,nt&&nt.radius||0,B),Z=r.polypath(G[1]||2,S,x,W,Q.startAngle,0,_).attr({cursor:T?"pointer":"",stroke:D,"stroke-width":0,ishot:!0,fill:D,visibility:m});(Z||Y).data("eventArgs",ut).click(lt).hover(ct(ot,"DataPlotRollOver"),ct(ot,"DataPlotRollOut")).tooltip(N)}null!==k?2<=I?("M"===X[I-1][0]&&X.push(["R"]),"M"===M[$-1][0]&&M.push(["R"]),I=X.length,$=M.length,J=X[I-1],N=J.length,X[I-1].push(S),X[I-1].push(x),M[$-1].push(S),M[$-1].push(x),c===P-1&&"R"===J[0]&&(K(X,!0,A,O),K(M,!1))):(X.push(["M",L,k]),X.push(["R",S,x]),M.push(["M",L,k]),M.push(["R",S,x]),A=L):null===k&&2<=I&&("R"===J[0]&&(K(X,!0,A,O),K(M,!1)),X.push(["M",S,x]),M.push(["M",S,x]),A=S);Y&&C.push(Y);n.drawTracker&&n.drawTracker.call(n,e,t,c);ot.graphic=Y;ot.dataLabel=et;ot.tracker=void 0;Q&&Q.imageUrl||(et=n.drawPlotLineLabel(e,t,c,S,x));et&&C.push(et);n.drawTracker&&n.drawTracker.call(n,e,t,c);L=S;k=x}if(J=X[X.length-1])N=J.length,"Z"!==J[N-1]&&"R"===J[0]&&(K(X,!0,A,O),K(M,!1));2<=X.length&&(L=r.path(X,U).attr({fill:w(t.fillColor),"stroke-dasharray":t.dashStyle,"stroke-width":y?0:t.lineWidth,stroke:w(t.lineColor),"stroke-linecap":"round",visibility:m}).shadow(f.shadow&&E.shadow),e.graphic=L,C.push(L),g?tt=U.attr({"clip-rect":a["clip-canvas-init"]}).animate({"clip-rect":a["clip-canvas"]},g,"normal",n.getAnimationCompleteFn()):(i&&i(),i=void 0));y&&(2<=M.length&&(z=r.path(M,u).attr({stroke:w(t.lineColor),"stroke-width":t.lineWidth,"stroke-dasharray":E.dashStyle||t.dashStyle,"stroke-linecap":"round",visibility:m}).shadow(f.shadow||E.shadow)),C.push(z),g&&u.attr({"clip-rect":a["clip-canvas-init"]}).animateWith(U,tt,{"clip-rect":a["clip-canvas"]},g,"normal"));e.visible=!l;return e}},bt["renderer.cartesian"]);bt("renderer.kagi",{drawPlotKagi:function(e,t){var n=this,r=n.paper,i=n.options,s=n.elements,u=e.data,a=i.plotOptions.series,f=n.xAxis[t.xAxis||0],l=n.yAxis[t.yAxis||0],h=t.canvasPadding,p=t.xShiftLength,d=e.items,v=n.logic,m=!1===t.visible?"hidden":"visible",g=!1!==(i.tooltip||{}).enabled,y={stroke:w({color:t.rallyColor,alpha:t.rallyAlpha}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":t.rallyThickness||t.lineWidth,"stroke-dasharray":t.rallyDashed},b={stroke:w({color:t.declineColor,alpha:t.declineAlpha}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":t.declineThickness||t.lineWidth,"stroke-dasharray":t.declineDashed},S={"true":y["stroke-width"],"false":b["stroke-width"]},x=n.layers,T=x.dataset=x.dataset||r.group("dataset-orphan"),N=x.datalabels=x.datalabels||r.group("datalabels").insertAfter(T),C=x.tracker,x=isNaN(+a.animation)&&a.animation.duration||1e3*a.animation,k=s["clip-canvas-init"].slice(0),s=s["clip-canvas"].slice(0),A=0,O=f.getAxisPosition(A),M=n.chartWidth,_=n.chartHeight,P=function(){ut.attr({"clip-rect":null});ot.show();at.show();N.attr({transform:"...t"+ -M+","+ -_})},H=[],B=[],j,I,q,R,U,z,X,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it=i.chart.anchorTrackingRadius,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt;if(u.length){i=T.line||(T.line=r.group("line-connector",T));r.group("connector-shadow",i);ot=r.group("anchor-shadow",i);ut=r.group("connector",i);at=r.group("anchors",i);at.hide();ot.hide();N.attr({transform:"...t"+M+","+_});x&&n.animationCompleteQueue.push({fn:P,scope:this});X=!!u[0].isRally;i=0;for(T=u.length;i<T;i+=1)d[i]={chart:n,index:i,graphic:null,line:[],dataLabel:null,tracker:null},$=u[i],J=$.y,$.isDefined||(J=$.plotValue),J=c($.plotValue,J),$.plotY=E(l.getAxisPosition($.y),2),$.graphY=E(l.getAxisPosition(J),2),$.plotX=O,$.isShift&&(A+=1,O=f.getAxisPosition(A)),i&&(J=u[i-1],X=$&&$.objParams&&$.objParams.isRally,Y=$&&$.objParams&&$.objParams.lastHigh,Z=$&&$.objParams&&$.objParams.lastLow,et=$&&$.objParams&&$.objParams.isRallyInitialised,J&&et&&J.isRally!==$.isRally?($.isChanged=!0,$.ty=E(l.getAxisPosition(X?Y:Z),2)):$.isChanged=!1);f=n.canvasLeft+h;O=f+p/2;K=u[0].plotY;X=!!u[0].isRally;l=W(K)+S[X]%2/2;X?H.push(F,f,l,"H",O):B.push(F,f,l,"H",O);L(u,function(i,s){if(tt=u[s+1])rt=[F,O,K],X=i.isRally,i.isShift&&(O+=p,K=i.graphY,rt.push("H",O),rt[2]=W(rt[2])+S[X]%2/2,rt=rt.toString(),X?H.push(rt):B.push(rt),rt=[F,O,K]),tt.isChanged&&(K=tt.ty,rt.push("V",K),rt[1]=W(rt[1])+S[X]%2/2,rt=rt.toString(),X?H.push(rt):B.push(rt),rt=[F,O,K]),nt=tt.isRally,tt.graphY!==rt[2]&&(rt.push("V",tt.graphY),rt[1]=W(rt[1])+S[nt]%2/2,rt=rt.toString(),nt?H.push(rt):B.push(rt)),K=tt.graphY;Q=i.plotX;G=i.plotY;R=i.marker;j=i&&i.link;I=i&&i.toolText;if(void 0!==G&&!isNaN(G)&&i.isDefined)if(U=R.symbol.split("_"),pt="spoke"===U[0]?1:0,dt=R.radius,ft=R.shadow,st={index:s,link:j,value:i.y,displayValue:i.displayValue,categoryLabel:i.categoryLabel,toolText:I,id:e.userID,datasetIndex:e.index,datasetName:e.name,visible:e.visible},lt=ct={},ht=i.rolloverProperties,R.imageUrl)vt=new o.Image,vt.onload=function(i,s,o,u,a,f,l,c){return function(){var h=o.imageUrl,p=o.imageScale,d=o.imageAlpha,v=l.imageHoverAlpha,y=l.imageHoverScale,b=this.width*p*.01,w=this.width*y*.01;lt={x:i-this.width*p*.005,y:s-this.height*p*.005,width:b,height:this.height*p*.01,alpha:d};ct={x:i-this.width*y*.005,y:s-this.height*y*.005,width:w,height:this.height*y*.01,alpha:v};v=w>b?ct:lt;u.graphic=z=r.image(h,at).attr(lt).css({opacity:.01*d}).data("alwaysInvisible",0===p).data("setRolloverProperties",l).data("setRolloverAttr",ct).data("setRolloutAttr",lt).data("anchorRadius",p).data("anchorHoverRadius",y);if(j||g||l)q=u.tracker=r.rect(C).attr(v).attr({cursor:j?"pointer":"",stroke:D,"stroke-width":o.lineWidth,fill:D,ishot:!0,visibility:m}).data("eventArgs",a).click(function(e){kt.call(this,n,e)}).hover(function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOver",e,n)}}(u),function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOut",e,n)}}(u)).tooltip(f);u.dataLabel=n.drawPlotKagiLabel(e,t,c,i,s)}}(Q,G,R,d[s],st,I,ht,s),vt.onerror=function(r,i,s,o,u,a,f,l){return function(){o.dataLabel=n.drawPlotKagiLabel(e,t,l,r,i)}}(Q,G,R,d[s],st,I,ht,s),vt.src=R.imageUrl;else{!v.multisetRealtime&&ht&&(lt={polypath:[U[1]||2,Q,G,dt,R.startAngle,pt],fill:w(R.fillColor),"stroke-width":R.lineWidth,stroke:w(R.lineColor)},ct={polypath:[ht.sides||2,Q,G,ht.radius,ht.startAngle,ht.dip],fill:w(ht.fillColor),"stroke-width":ht.lineWidth,stroke:w(ht.lineColor)});z=d[s].graphic=r.polypath(U[1]||2,Q,G,dt,R.startAngle,pt,at).attr({fill:w(R.fillColor),"stroke-width":R.lineWidth,stroke:w(R.lineColor),"stroke-linecap":"round",cursor:j?"pointer":"",ishot:!0,visibility:0===dt?"hidden":m}).data("alwaysInvisible",0===dt).data("setRolloverProperties",ht).data("setRolloverAttr",ct).data("setRolloutAttr",lt).data("anchorRadius",dt).data("anchorHoverRadius",ht&&ht.radius).shadow(ft||!1,ot);if(j||g)dt=V(dt,ht&&ht.radius||0,it),q=r.circle(Q,G,dt,C).attr({cursor:j?"pointer":"",stroke:D,ishot:!0,fill:D,"stroke-width":R.lineWidth,visibility:m}).data("eventArgs",st).click(function(e){kt.call(this,n,e)}).hover(function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOver",e,n)}}(d[s]),function(e){return function(t){n.hoverPlotAnchor(this,t,"DataPlotRollOut",e,n)}}(d[s])).tooltip(I);d[s].tracker=q||z;R&&R.imageUrl||(d[s].dataLabel=n.drawPlotKagiLabel(e,t,s,Q,G))}});y=r.path(H,ut).attr(y).shadow(a.shadow);d[0].line.push(y);y=r.path(B,ut).attr(b).shadow(a.shadow);d[0].line.push(y);x?ut.attr({"clip-rect":k}).animate({"clip-rect":s},x,"normal",n.getAnimationCompleteFn()):(P&&P(),P=void 0)}},drawPlotKagiLabel:function(e,t,n,r,i,s){var o=this.options,u=o.chart,f=this.paper,l=this.layers,c=o.plotOptions.series.dataLabels.style,o=1===u.rotateValues?270:0,h=this.canvasHeight,p=this.canvasTop,d=this.canvasLeft,v=e.data[n];n=e.items[n];e=(e=n.graphic)&&"image"==e.type&&.5*e.attr("height")||v.marker&&v.marker.radius-3;u=u.valuePadding+2+e;t=!1===t.visible?"hidden":"visible";e=n.dataLabel;var m={fontFamily:c.fontFamily,fontSize:c.fontSize,lineHeight:c.lineHeight,fontWeight:c.fontWeight,fontStyle:c.fontStyle},g,y,b;s=s||l.datalabels;l=v.displayValue;_(l)&&l!==a?(e?o&&e.rotate(360-o):e=n.dataLabel=f.text(s).attr({text:l,fill:c.color,"text-bound":[c.backgroundColor,c.borderColor,c.borderThickness,c.borderPadding,c.borderRadius,c.borderDash]}).css(m),e.attr({title:v.originalText||"",fill:c.color}),l=e.getBBox(),s=c=o?l.width:l.height,f=i,s=s+u+4,c=.5*c+u,o?(d=!0,v.vAlign===dt?(f-=c,d=i-p<s):v.vAlign===vt&&(f+=c-2,g=1,d=i+s>p+h),d&&(y=1,r-=u+3+.5*l.height,f=i)):v.vAlign===dt?f-=c:v.vAlign===vt?(f+=c,g=1):l.width>r-d?f-=c:(y=1,r-=u+3,b="end"),e.attr({x:r,y:f,"text-anchor":b,visibility:t}).data("isBelow",g).data("isMiddle",y),o&&e.attr("transform","T0,0,R"+o)):e&&e.attr({text:a});return e}},bt["renderer.cartesian"]);bt("renderer.boxandwhisker",{drawPlotBoxandwhisker2d:function(e,t){var n=this,r=n.paper,i=n.options,s=i.plotOptions.series,o=n.xAxis[t.xAxis||0],u=n.yAxis[t.xAxis||0],f=isNaN(+s.animation)&&s.animation.duration||1e3*s.animation,l=n.layers,c=l.dataset=l.dataset||r.group("dataset-orphan"),h=l.datalabels=l.datalabels||r.group("datalabels"),d=t.data,v=e.items||(e.items=[]),m=!1===t.visible?"hidden":"visible",g=!1!==(i.tooltip||{}).enabled,y=t.columnPosition||0,b=n.definition.chart,E=o.getAxisPosition(0),S=o.getAxisPosition(1)-E,x=s.groupPadding,T=s.maxColWidth,E=t.numColumns||1,S=(1-.01*(b&&b.plotspacepercent))*S||X(S*(1-2*x),T*E),b=S/E,y=y*b-S/2,S=i.chart,E=1===S.rotateValues?270:void 0,S=p(S.valuePadding,0),x=c.upperBoxGroup=c.upperBoxGroup||r.group("upperBox",c),T=c.lowerBoxGroup=c.lowerBoxGroup||r.group("lowerBox",c),N=c.medianGroup=c.medianGroup||r.group("median",c),C=e.graphics=e.graphics||[],k=v.displayValues={},L=k.upperQuartileValues=[],A=k.lowerQuartileValues=[],k=k.medianValues=[],O=function(e){kt.call(this,n,e)},l=l.shadows||(l.shadows=r.group("shadows",c).toBack()),i=i.plotOptions.series.dataLabels.style,M={fontFamily:i.fontFamily,fontSize:i.fontSize,lineHeight:i.lineHeight,fontWeight:i.fontWeight,fontStyle:i.fontStyle},D=function(e,t){return function(r){e.upperBox.attr(t.upperBox);e.lowerBox.attr(t.lowerBox);e.upperBoxBorder.attr(t.upperBoxBorder);e.lowerBoxBorder.attr(t.lowerBoxBorder);e.upperQuartile.attr(t.upperQuartile);e.lowerQuartile.attr(t.lowerQuartile);e.medianBorder.attr(t.median);kt.call(this,n,r,"DataPlotRollOver")}},P=function(e,t){return function(r){e.upperBox.attr(t.upperBox);e.lowerBox.attr(t.lowerBox);e.upperBoxBorder.attr(t.upperBoxBorder);e.lowerBoxBorder.attr(t.lowerBoxBorder);e.upperQuartile.attr(t.upperQuartile);e.lowerQuartile.attr(t.lowerQuartile);e.medianBorder.attr(t.median);kt.call(this,n,r,"DataPlotRollOut")}},H,B,j,I,q,R,U,z,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft;tt=0;for(nt=d.length;tt<nt;tt+=1)B=d[tt],j=B.y,q=B.link,R=B.tooltext||B.toolText,(H=v[tt])||(H=v[tt]={index:tt,value:j,upperBox:null,lowerBox:null,upperBoxBorder:null,lowerBoxBorder:null,upperQuartileBorder:null,lowerQuartileBorder:null,medianBorder:null,upperQuartileValues:null,lowerQuartileValues:null,medianValues:null,tracker:null,hot:null}),null!==j&&(u.getAxisPosition(j),j=p(B.x,tt),j=o.getAxisPosition(j),y&&(j+=y),I=s.borderRadius||0,z=(z=(Q=B.upperQuartile||{})&&Q.value)&&u.getAxisPosition(z),U=(U=(G=B.lowerQuartile||{})&&G.value)&&u.getAxisPosition(U),$=(V=(et=B.median)&&et.value)&&u.getAxisPosition(V),J=$-z,K=U-$,Y=B.upperBoxBorder||{},Z=B.lowerBoxBorder||{},V={index:tt,link:q,maximum:B.displayValueMax,minimum:B.displayValueMin,median:V,q3:Q.value,q1:G.value,maxDisplayValue:B.displayValueMax,minDisplayValue:B.displayValueMin,medianDisplayValue:B.displayValueMid,q1DisplayValue:B.displayValueQ1,q3DisplayValue:B.displayValueQ3,categoryLabel:B.categoryLabel,toolText:B.toolText,id:e.userID,datasetIndex:e.index,datasetName:e.name,visible:e.visible},rt=W(j)+Y.borderWidth%2*.5,it=W(j+b)+Y.borderWidth%2*.5,st=W(z)+Q.borderWidth%2*.5,b=it-rt,ft=B.hoverEffects.rollOut={upperBox:{fill:w(B.color.FCcolor),"stroke-width":0,"stroke-dasharray":Y.dashStyle,cursor:q?"pointer":"",ishot:!0,visibility:m},lowerBox:{fill:w(B.lowerboxColor.FCcolor),"stroke-width":0,"stroke-dasharray":Z.dashStyle,cursor:q?"pointer":a,ishot:!0,visibility:m},upperBoxBorder:{stroke:Y.color,"stroke-width":Y.borderWidth,"stroke-linecap":"round",dashstyle:Y.dashStyle,ishot:!0,visibility:m},lowerBoxBorder:{stroke:Z.color,"stroke-width":Z.borderWidth,dashstyle:Z.dashStyle,"stroke-linecap":"round",ishot:!0,visibility:m},upperQuartile:{stroke:w(Q.color),"stroke-width":Q.borderWidth,"stroke-dasharray":Q.dashSyle,"stroke-linecap":"round",cursor:q?"pointer":a,ishot:!0,visibility:m},lowerQuartile:{stroke:w(G.color),"stroke-width":G.borderWidth,"stroke-dasharray":G.dashSyle,cursor:q?"pointer":"","stroke-linecap":"round",ishot:!0,visibility:m},median:{stroke:w(et.color),"stroke-width":et.borderWidth,"stroke-dasharray":et.dashSyle,cursor:q?"pointer":"","stroke-linecap":"round",ishot:!0,visibility:m}},q=H.graphic=H.upperBox=r.rect(rt,st,b,J,I,x).attr(ft.upperBox).shadow(s.shadow&&B.shadow,l),J=H.upperBoxBorder=r.path([F,rt,st,"V",st+J,F,it,st,"V",st+J],x).attr(ft.upperBoxBorder).shadow(s.shadow&&Y.shadow,l),Y=H.upperQuartile=r.path([F,rt,st,"H",rt+b],N).attr(ft.upperQuartile).shadow(s.shadow&&Q.shadow,l),rt=W(j)+Z.borderWidth%2*.5,it=W(j+b)+Z.borderWidth%2*.5,st=W($+K)+G.borderWidth%2*.5,I=H.lowerBox=r.rect(rt,$,b,st-$,I,T).attr(ft.lowerBox).shadow(s.shadow&&B.shadow,l),Z=H.lowerBoxBorder=r.path([F,rt,$,"V",$+K,F,it,$,"V",$+K],T).attr(ft.lowerBoxBorder).shadow(s.shadow&&Z.shadow,l),st=W($+K)+G.borderWidth%2*.5,K=H.lowerQuartile=r.path([F,rt,st,"H",rt+b],N).attr(ft.lowerQuartile).shadow(s.shadow&&Q.shadow,l),st=W($)+et.borderWidth%2*.5,rt=H.medianBorder=r.path([F,rt,st,"H",rt+b],N).attr(ft.median),st=e.index+"_"+tt,q.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),I.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),J.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),Z.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),Y.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),K.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),rt.click(O).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).data("eventArgs",V),V=E?gt:pt,_(Q.displayValue)&&Q.displayValue!==a&&(ot=L[tt]=r.text(h).attr({text:Q.displayValue,x:j+b/2,title:Q.originalText||"",y:z-S,"text-anchor":E?"start":V,"vertical-align":E?"middle":"bottom",visibility:m,fill:i.color,"text-bound":[i.backgroundColor,i.borderColor,i.borderThickness,i.borderPadding,i.borderRadius,i.borderDash]}).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).css(M),E&&ot.rotate(E,j+b/2,z-S)),_(et.displayValue)&&et.displayValue!==a&&(at=k[tt]=r.text(h).attr({text:et.displayValue,x:j+b/2,y:$-S,title:et.originalText||"","text-anchor":E?"start":V,"vertical-align":E?"middle":"bottom",visibility:m,fill:i.color,"text-bound":[i.backgroundColor,i.borderColor,i.borderThickness,i.borderPadding,i.borderRadius,i.borderDash]}).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).css(M),E&&at.rotate(E,j+b/2,$-S)),_(G.displayValue)&&G.displayValue!==a&&(ut=A[tt]=r.text(h).attr({text:G.displayValue,x:j+b/2,y:U+S,title:G.originalText||"","text-anchor":E?"start":V,"vertical-align":E?"middle":"top",visibility:m,fill:i.color,"text-bound":[i.backgroundColor,i.borderColor,i.borderThickness,i.borderPadding,i.borderRadius,i.borderDash]}).hover(D(H,B.hoverEffects),P(H,ft)).data("groupId",st).css(M),E&&ut.rotate(E,j+b/2,U+S)),g&&(q.tooltip(R),I.tooltip(R),J.tooltip(R),Z.tooltip(R),Y.tooltip(R),K.tooltip(R),rt.tooltip(R),ot&&ot.tooltip(R),at&&at.tooltip(R),ut&&ut.tooltip(R)),q&&C.push(q),I&&C.push(I),rt&&C.push(rt),J&&C.push(J),Z&&C.push(Z),Y&&C.push(Y),K&&C.push(K),ot&&C.push(ot),at&&C.push(at),ut&&C.push(ut));c.attr({"clip-rect":[n.canvasLeft,n.canvasTop,f?0:n.canvasWidth,n.canvasHeight]});f&&c.animate({"clip-rect":[n.canvasLeft,n.canvasTop,n.canvasWidth,n.canvasHeight]},f,"normal");e.visible=!1!==t.visible}},bt["renderer.cartesian"]);bt("renderer.dragnode",{drawPlotDragnode:function(e,t){var n=this,r=e.graphics=[],s={},o=n.options,u=o.tooltip,f=o._FCconf.inCanvasStyle,l=n.paper,h=n.layers,d=e.items,v=h.dataset,g=h.connector,E=s.xAxis=n.xAxis[t.xAxis||0],S=s.yAxis=n.yAxis[t.yAxis||0],x=t.data,T=s.elements={data:[]},k=n.smartLabel,A=o.plotOptions.series.dataLabels.style,O=o.orphanStyles.connectorlabels.style,M=o.connectors,P=o.connectorsStore,H=o.pointStore||(o.pointStore=[]),B=o.invalConnectStore,j={fontFamily:A.fontFamily,fontSize:A.fontSize,lineHeight:A.lineHeight,fontWeight:A.fontWeight,fontStyle:A.fontStyle},F=function(e){H[e.from]&&H[e.to]?P.push(new zt(e,H,O,l,g,n)):B.push(e)},I=function(){var e=this;e.data("fire_click_event",1);clearTimeout(e._longpressactive);e._longpressactive=setTimeout(function(){e.data("fire_click_event",0);e.data("viewMode")||n.logic.showLabelDeleteUI(n,e)},1e3)},q=function(){this.data("fire_click_event")&&(this.data("fire_click_event",0),Xt.call(this))},R=function(e){var t=this.data("fire_click_event");Xt.call(this);t&&kt.call(this,n,e,"LabelClick")},U=function(e){kt.call(this,n,e,"LabelRollover")},z=function(e){kt.call(this,n,e,"LabelRollout")},W=function(e,t,r,i,s){r=this.data("data");i=r.bBox;var o=n.canvasTop+n.canvasHeight,u=n.canvasLeft+n.canvasWidth;this.data("fire_dragend")||(kt.call(this,n,s,"LabelDragStart"),this.data("fire_dragend",1));i.x+e<n.canvasLeft&&(e=n.canvasLeft-i.x);i.x2+e>u&&(e=u-i.x2);i.y+t<n.canvasTop&&(t=n.canvasTop-i.y);i.y2+t>o&&(t=o-i.y2);this.attr({x:i.x+e,y:i.y+t});r.label.attr({x:r.ox+e,y:r.oy+t})},X=function(){var e=this.data("data"),t=this.getBBox();e.ox=e.label.attr("x");e.oy=e.label.attr("y");e.bBox=t;this.data("fire_dragend",0)},V=function(e){var t=this.data("data"),r=t.label,s={hcJSON:{dragableLabels:[]}},o=this.data("eventArgs"),u=o.x=n.xAxis[0].getAxisPosition(r.attr("x"),1),r=o.y=n.yAxis[0].getAxisPosition(r.attr("y"),1);s.hcJSON.dragableLabels[t.labelNode.index]={y:r,x:u};y(n.logic.chartInstance.jsVars._reflowData,s,!0);this.data("fire_dragend")&&(t=Ct(n.container,e),t.sourceEvent="labeldragend",i.raiseEvent("chartupdated",y(t,o),n.logic.chartInstance),kt.call(this,n,e,"labeldragend"))},$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,ot,at,ft,lt,ct,ht,dt,vt,mt,gt,yt,bt;g||(g=h.connector=l.group("connectors").insertBefore(v));u&&!1!==u.enabled&&g.trackTooltip(!0);h=T.group=l.group(v);u=T.dragLabelGroup=l.group(v);k.setStyle(A);v=0;for(T=x.length;v<T;v+=1){$=x[v];Q=$.marker;$._yPos=K=S.getAxisPosition($.y);$._xPos=J=E.getAxisPosition($.x);Y=d[v]||(d[v]={});bt=$.hoverEffects&&$.hoverEffects.rolloverProperties;Q=Y.graphic;Z=Y.image;et=Y.label;Q=$.marker;if(void 0!==K&&!isNaN(K)&&Q){rt=$._config=$._config||{shapeArg:{},startConnectors:[],endConnectors:[]};it=rt.shapeArg;ot=p(Q&&Q.height);at=p(Q&&Q.width);ft=p(Q&&Q.radius);G=c(Q&&Q.symbol);lt="rectangle"===G;tt=$.id;ct=$.imageNode;ht=$.imageURL;dt=$.imageAlign;vt=$.labelAlign;mt=lt?at:1.4*ft;gt=p($.imageWidth,mt);lt=lt?ot:1.4*ft;yt=p($.imageHeight,lt);ft={fill:w(Q.fillColor),"stroke-width":Q.lineWidth,r:Q.radius,stroke:w(Q.lineColor)};G=it.symbol=c(Q&&Q.symbol,s.symbol);G=G.split("_");it.x=J;it.y=K;it.radius=Q.radius;it.width=at;it.height=ot;it.sides=G[1];"poly"===G[0]||"circle"===G[0]?Q=l.polypath(G[1],J,K,Q.radius,Q.startAngle,0,h).attr(ft):(rt.shapeType=At,it.x=J-at/2,it.y=K-ot/2,it.r=0,ft.width=at,ft.height=ot,ft.x=J-at/2,ft.y=K-ot/2,bt&&$.hoverEffects.enabled&&(bt.x=J-bt.width/2,bt.y=K-bt.height/2,delete bt.r),delete ft.r,Q=l.rect(it.x,it.y,at,ot,0,h).attr(ft));if(ct&&ht){yt>lt&&(yt=lt);gt>mt&&(gt=mt);switch(dt){case"middle":bt=K-yt/2;break;case"bottom":bt=lt>yt?K+lt/2-yt:K-yt/2;break;default:bt=lt>yt?K-.5*lt:K-yt/2}rt.imageX=J-gt/2;rt.imageY=bt;Z||(Z=l.image(h));Z.attr({src:ht,x:rt.imageX,y:bt,width:gt,height:yt})}rt=$.displayValue;if(_(rt)||rt!==a){mt=k.getSmartText(rt,mt,lt);rt=.5*lt-.5*mt.height;switch(vt){case"top":rt=-rt;break;case"bottom":break;default:rt=0}$._yAdjustment=vt=rt;K+=vt;et?et.attr({text:mt.text,title:mt.tooltext||"",fill:A.color,x:J,y:K}):(et=l.text(h),et.attr({text:mt.text,fill:A.color,x:J,y:K,"text-bound":[A.backgroundColor,A.borderColor,A.borderThickness,A.borderPadding,A.borderRadius,A.borderDash]}).css(j))}H[tt]=$;Y.index=v;Y.graphic=Q;Y.label=et;Y.image=Z;tt=n.drawTracker&&n.drawTracker.call(n,e,t,v,ft);Q&&r.push(Q);et&&r.push(et);Z&&r.push(Z);tt&&r.push(tt)}Y.index=v;Y.tracker=tt}if(P)for(v=B.length-1;0<=v;v-=1)r=B[v],H[r.from]&&H[r.to]&&(B.splice(v,1),P.push(new zt(r,H,O,l,g,n)));else for(P=o.connectorsStore=[],B=o.invalConnectStore=[],v=0;v<M.length;v+=1)L(M[v].connector,F);if(!n.dragLabelsDrawn&&(nt=o.dragableLabels)&&0<(T=nt.length)){mt=n.plotSizeX;lt=n.plotSizeY;r=parseInt(f.fontSize,10);d=f.backgroundColor;x=f.borderColor;for(v=0;v<T;v+=1)if(k=nt[v],k.index=v,j=m(c(k.text,k.label)))j=m(j),F=E.getAxisPosition(k.x||0),K=S.getAxisPosition(k.y||0,0,1,0,1),$=p(k.fontsize,r),J=ut(c(k.color,f.color)),h=p(k.alpha,100)/100,A=p(k.allowdrag,1),vt=.8*$,M=p(k.padding,5),Z={fontSize:$+"px",fontFamily:f.fontFamily,fill:J,color:J,opacity:h},st(Z),J=c(k.bgcolor,d),Y=c(k.bordercolor,x),$={link:k.link,text:j,x:F,y:K,allowdrag:A,sourceType:"labelnode"},J&&(Z.backgroundColor=J.replace(N,C),Z.backgroundOpacity=h),Y&&(Z.borderColor=Y.replace(N,C),Z.borderOpacity=h),j=l.text(u).css(Z).attr({text:j,x:F,y:K,align:pt,"text-bound":[(k.bgcolor||"").replace(N,C),(k.bordercolor||"").replace(N,C),p(k.borderthickness,1),M,p(k.radius,0),p(k.dashed,0)?b(p(k.dashlen,5),p(k.dashgap,4),p(k.borderthickness,1)):void 0]}),F=j.getBBox(),M=l.rect(F.x-M,F.y-M,F.width+2*M,F.height+2*M,0).attr({fill:D,ishot:!0,"stroke-width":0}).css({cursor:A?"move":""}).mousedown(I).mousemove(q).mouseup(R).data("viewMode",o.chart.viewMode).hover(U,z),u.appendChild(M),M.data("data",{label:j,labelNode:k,chart:n}).data("eventArgs",$).data("link",k.link),A&&M.drag(W,X,V);n.dragLabelsDrawn=!0}return s},drawTracker:function(e,t,n,r){var s=this,o=s.paper,u=e.data[n],f=e.items[n],l=u._config,h=s.layers.tracker,p=k({},l.pointAttr),v=l.shapeArg,m=v.x,g=v.y,y=v.width,b=v.height,E=v.radius,S=s.dragStart,x=s.dragUp,T=s.dragMove,N=s.elements,C=N.waitElement,L=u.link?"pointer":u.allowDrag?"move":"",A=f.tracker;p.fill=D;p.stroke=D;p.cursor=L;p.ishot=!0;A="rect"===l.shapeType?o.rect(m,g,y,b,0).attr(p):o.polypath(v.sides,m,g,E,v.startAngle).attr(p);p={index:n,link:u.link,y:u.y,x:u.x,shape:c(u._options.shape,"rect"),width:y,height:b,radius:E,sides:v.sides,label:u.displayValue,toolText:u.toolText,id:u.id,datasetIndex:e.index,datasetName:e.name,sourceType:"dataplot"};f.tracker=A.mousedown(function(e){var n=this,r=tt&&M(e)||qt,f=e.layerX||r.layerX,l=e.layerY||r.layerY,c=i.getPosition(s.container);n.data("fire_click_event",1);n.data("mousedown",1);void 0===f&&(f=(e.pageX||r.pageX)-c.left,l=(e.pageY||r.pageY)-c.top);clearTimeout(n._longpressactive);n.data("move",!0);s.options.chart.viewMode||((C=N.waitElement)||(C=N.waitElement=o.ringpath(h).attr({fill:w({alpha:"100,100",angle:120,color:"CCCCCC,FFFFFF",ratio:"30,50"}),"stroke-width":0})),f+=11,l-=21,C.attr({ringpath:[f,l,8,11,0,0]}).show().animate({ringpath:[f,l,8,11,0,6.28]},1e3),n._longpressactive=setTimeout(function(){var e=t.name!==a&&void 0!==t.name?t.name+St+" ":a,r=t.id,i=u._options,o={circle:"circ",polygon:"poly","undefined":"rect"}[i.shape];N.waitElement&&N.waitElement.hide();n.data("fire_click_event",0);s.logic.showNodeUpdateUI(s,{x:{value:u.x},y:{value:u.y},draggable:{value:d(i.allowdrag,1)},color:{value:i.color},alpha:{value:i.alpha},label:{value:d(i.label,i.name)},tooltip:{value:i.tooltext},shape:{value:o},rectWidth:{value:i.width},rectHeight:{value:i.height},circPolyRadius:{value:i.radius},polySides:{value:i.numsides},image:{value:i.imagenode},imgWidth:{value:i.imagewidth},imgHeight:{value:i.imageheight},imgAlign:{value:i.imagealign},imgUrl:{value:i.imageurl},id:{value:u.id,disabled:!0},link:{value:i.link},dataset:{innerHTML:'<option value="'+r+'">'+e+r+"</option>",disabled:!0}},!0)},1e3))}).mousemove(function(){N.waitElement&&N.waitElement.hide();this.data("fire_click_event",0);Xt.call(this)}).mouseup(function(e){var t=this.data("fire_click_event");N.waitElement&&N.waitElement.hide();Xt.call(this);this.data("mousedown",0);t&&kt.call(this,s,e)}).hover(function(e,t){return function(n){e.graphic.attr(t);kt.call(this,s,n,"DataPlotRollOver")}}(f,u.hoverEffects.rolloverProperties),function(e,t){return function(n){e.graphic.attr(t);kt.call(this,s,n,"DataPlotRollOut")}}(f,r)).data("eventArgs",p).data("drag-options",{plotItems:f,dataObj:u,endConnectors:l.endConnectors,startConnectors:l.startConnectors,boundaryTop:s.canvasTop,boundaryBottom:s.canvasTop+s.canvasHeight,boundaryLeft:s.canvasLeft,boundaryRight:s.canvasLeft+s.canvasWidth,cloneGroup:s.layers.dataset,datasetIndex:e.index,pointIndex:n,dataOptions:t,cursor:L,chart:s,link:u.link}).tooltip(u.toolText);h.appendChild(A);u.allowDrag&&A.drag(function(e,t,n,r,i){T.call(this,e,t,n,r,i,s)},function(e,t,n,r,i){S.call(this,e,t,n,r,i,s)},function(e){x.call(this,e,s)});return A},dragStart:function(){var e=this.paper,t=this.data("drag-options")||{},n=t.dataObj,r=t.plotItems,i=r.cloneGroup,s=r.cloneGraphic,o=r.cloneImage,u=r.cloneLabel,a=this.getBBox(),f={opacity:.3};t.bBoxX=a.x;t.bBoxX2=a.x2||a.x+a.width;t.bBoxY=a.y;t.bBoxY2=a.y2||a.y+a.height;t.origX=t.lastX||(t.lastX=0);t.origY=t.lastY||(t.lastY=0);t.draged=!1;t.startYValue=n.y;t.startXValue=n.x;i||(i=r.cloneGroup=e.group(t.cloneGroup).attr(f));r.graphic&&!s&&(s=r.cloneGraphic=r.graphic.clone(),i.appendChild(s),s.attr(f));r.image&&!o&&(o=r.cloneImage=r.image.clone(),i.appendChild(o).attr(f));r.label&&!u&&(u=r.cloneLabel=r.label.clone(),i.appendChild(u).attr(f));i.show()},dragMove:function(e,t,n,r,i,s){n=this.data("drag-options");r=n.plotItems;var o=n.bBoxX2+e,u=n.bBoxY+t,a=n.bBoxY2+t;n.bBoxX+e<n.boundaryLeft&&(e=n.boundaryLeft-n.bBoxX);o>n.boundaryRight&&(e=n.boundaryRight-n.bBoxX2);u<n.boundaryTop&&(t=n.boundaryTop-n.bBoxY);a>n.boundaryBottom&&(t=n.boundaryBottom-n.bBoxY2);o=n._transformObj={transform:"t"+(n.origX+e)+","+(n.origY+t)};this.attr(o);r.cloneGraphic&&r.cloneGraphic.attr(o);r.cloneImage&&r.cloneImage.attr(o);r.cloneLabel&&r.cloneLabel.attr(o);n.draged||kt.call(this,s,i,"DataplotDragStart");n.draged=!0;n.lastX=e;n.lastY=t},dragUp:function(e){var t=this.data("drag-options"),n=t.plotItems,r=t.chart,s=r.xAxis[0],o=r.yAxis[0],u=r.logic,f=u.tooltipSepChar,l=u.numberFormatter,c=t.dataObj,h,p,d,v,m;if(t.draged){t.lastX+=t.origX;t.lastY+=t.origY;h=c._xPos+t.lastX;p=c._yPos+t.lastY;d=t.startConnectors;v=d.length;for(m=0;m<v;m+=1)d[m].updateFromPos(h,p);d=t.endConnectors;v=d.length;for(m=0;m<v;m+=1)d[m].updateToPos(h,p);n.label&&n.label.attr(t._transformObj);n.image&&n.image.attr(t._transformObj);n.graphic&&n.graphic.attr(t._transformObj);s=s.getAxisPosition(h,1);o=o.getAxisPosition(p,1);c._isUserTooltip||c.toolText===a||(c.toolText=c._toolTextStr+l.dataLabels(s)+f+l.dataLabels(o));l=this.data("eventArgs");c.x=l.x=s;c.y=l.y=o;f=Ct(r.container,e);f.sourceEvent="dataplotdragend";i.raiseEvent("chartupdated",y(f,l),r.logic.chartInstance);kt.call(this,r,e,"dataplotdragend");e={hcJSON:{series:[]}};e.hcJSON.series[t.datasetIndex]={data:[]};e.hcJSON.series[t.datasetIndex].data[t.pointIndex]={_options:{x:s,y:o},x:s,y:o,toolText:c.toolText,displayValue:c.displayValue};y(u.chartInstance.jsVars._reflowData,e,!0)}n.cloneGroup&&n.cloneGroup.hide()}},bt["renderer.cartesian"]);bt("renderer.dragcolumn2d",{drawTracker:function(e,t,n){var r=this.paper,i=this.yAxis[0],s=e.data[n],o=i.getAxisPosition(s.y),u=e.items[n],a=this.layers.tracker,f=u&&u.dragTracker||null,l=this.dragStart,c=this.dragUp,h=this.dragMove,p={stroke:D,"stroke-width":tt?40:10,ishot:!0,cursor:S&&"ns-resize"||"n-resize"},d=i&&i.axisData&&i.axisData.plotLines,v=this._yAxisPlotLines||(this._yAxisPlotLines=[]),m=0,g,y;if(!v.length)for(g=d.length;m<g;m+=1)y=d[m],y.isGrid&&v.push(i.getAxisPosition(y.value));null!==s.y&&s.allowDrag&&(i=u.graphic.getBBox(),i=[F,i.x,o,I,i.x+i.width,o,"Z"],f?f.animate({d:i}).attr(p):f=u.dragTracker=r.path(i,a).attr(p),f.drag(h,l,c).data("drag-options",{items:u,yPos:o,chart:this,datasetIndex:e.index,pointIndex:n,dataOptions:t,dataObj:s}),u.dragTracker=f)},dragStart:function(){var e=this.data("drag-options"),t=e.chart,n=t.yAxis[0],r=n.max,n=n.min,i=this.getBBox();e.barH=e.items.graphic.getBBox().height;e.isAllPositive=0<r&&0<n;e.isAllPositiveZero=0<r&&0<=n;e.isAllNegative=0>r&&0>n;e.isAllNegativeZero=0>=r&&0>n;e.isPositiveNegative=0<r&&0>n;e.boundaryTop=t.canvasTop;e.boundaryBottom=t.canvasTop+t.canvasHeight;e.bBoxY=i.y;e.bBoxY2=i.y2||i.y+i.height;e.startValue=e.dataObj.y;e.origX=e.lastX||(e.lastX=0);e.origY=e.lastY||(e.lastY=0);e.draged=!1},dragMove:function(e,t){var n=this.data("drag-options"),i=n.items,s=n.dataObj,o=n.chart,u=o.options.chart,a=o.yAxis[0],f=o.logic.numberFormatter,l=a.yBasePos,c=i.dataLabel,h={},p=n.bBoxY2+t,d=n.bBoxY+t,v=o.canvasBottom,m=s.allowNegDrag?v:l,g=o.canvasTop,y=parseFloat(s.borderWidth)||0,u=u.isCanvasBorder,b=n.isAllNegativeZero,w=n.isPositiveNegative,E=n.dataOptions;d<n.boundaryTop&&(t=n.boundaryTop-n.bBoxY);p>m&&(t=m-n.bBoxY2);d=n._transformObj={transform:"t0,"+(n.origY+t)};n.draged||(p={dataIndex:n.pointIndex+1,datasetIndex:E.__i+1,startValue:n.startValue,datasetName:E.name},r.raiseEvent("dataplotDragStart",p,o.logic.chartInstance));p=n.yPos+t;p<=l?(h.y=p,h.height=l-p):(h.y=l,h.height=p-l);u&&!w&&(b?h.y-=h.y-(g-y/2):h.height=v-h.y+y/2);this.attr(d);i.graphic.animate(h);n.shapeAttr=h;i=n.value=W(1e8*a.getAxisPosition(p,1))/1e8;f=f.dataLabels(i);Wt.pointUpdate(s,f,i);c&&o.drawPlotColumnLabel(o.plots[n.datasetIndex],n.dataOptions,n.pointIndex,void 0,p).attr("text",n.dataObj.displayValue);n.draged=!0;n.lastX=e;n.lastY=t},dragUp:function(){var e=this.data("drag-options"),t=e.chart,n=t.logic,s=!t.options.chart.doNotSnap,o=e.dataObj,u=e.dataOptions,a,f;e.draged&&(a=e.yPos+e.lastY,s&&(f=Wt.snapPoint(t,o,a),f-a&&t.dragMove.call(this,0,f-e.yPos)),e.yPos=f,e.lastX+=e.origX,e.lastY+=e.origY,s={dataIndex:e.pointIndex+1,datasetIndex:u.__i+1,startValue:e.startValue,endValue:e.dataObj.y=e.value,datasetName:u.name},u=[t.logic.chartInstance.id,s.dataIndex,s.datasetIndex,s.datsetName,s.startValue,s.endValue],r.raiseEvent("dataplotDragEnd",s,t.logic.chartInstance),i.raiseEvent("chartupdated",s,t.logic.chartInstance,u),s={hcJSON:{series:[]}},s.hcJSON.series[e.datasetIndex]={data:[]},e.items.tracker.attr(e.shapeAttr).tooltip(o.toolText),s.hcJSON.series[e.datasetIndex].data[e.pointIndex]={y:e.value,toolText:o.toolText,displayValue:o.displayValue},Wt.setMinMaxValue(t),y(n.chartInstance.jsVars._reflowData,s,!0))}},bt["renderer.cartesian"]);bt("renderer.dragline",{drawTracker:function(e,t,n){var r=this.paper,i=this.yAxis[0],s=this.xAxis[0],o=e.data[n],u=e.items[n],a=tt?20:V(o.marker&&o.marker.radius||0,5),f=this.layers.tracker,l=u.tracker||null,c=this.dragStart,h=this.dragUp,p=this.dragMove,d={fill:D,"stroke-width":0,cursor:S&&"ns-resize"||"n-resize"},v=i&&i.axisData&&i.axisData.plotLines,m=this._yAxisPlotLines||(this._yAxisPlotLines=[]),g=0,y,b;if(!m.length)for(y=v.length;g<y;g+=1)b=v[g],b.isGrid&&m.push(i.getAxisPosition(b.value));null!==o.y&&o.allowDrag&&(s=s.getAxisPosition(n),i=i.getAxisPosition(o.y),l||(l=u.tracker=r.circle(s,i,a,f).attr(d)),l.attr({cursor:S&&"ns-resize"||"n-resize",ishot:!0}).drag(p,c,h).data("drag-options",{items:e.items,yPos:i,chart:this,datasetIndex:e.index,pointIndex:n,dataOptions:t,dataObj:o}))},dragStart:function(){var e=this.data("drag-options"),t=e.items,n=e.pointIndex,r=t[n+1],t=t[n],r=e.nextGraph=r&&r.connector,t=e.currGraph=t&&t.connector,n=e.chart;e._origY=e._lastY||(e._lastY=0);e.boundaryTop=n.canvasTop;e.boundaryBottom=n.canvasTop+n.canvasHeight;e.currPath=t&&t.attr("path");e.nextPath=r&&r.attr("path");e.startValue=e.dataObj.y;e.origY=this.attr("cy");e.origX=this.attr("cx");e.draged=!1},dragMove:function(e,t){var n=this.data("drag-options"),i=n.items[n.pointIndex],s=n.nextPath,o=n.currPath,u=n.dataObj,a=n.chart,f=a.elements.plots[n.datasetIndex],l=a.yAxis[0],c=a.logic.numberFormatter,h=l.yBasePos,p=i.dataLabel,d=u.allowNegDrag?n.boundaryBottom:h,v=n.dataOptions,h=n.origY+t;n.draged||(v={dataIndex:n.pointIndex+1,datasetIndex:v.__i+1,startValue:n.startValue,datasetName:v.name},r.raiseEvent("dataplotDragStart",v,a.logic.chartInstance));h<n.boundaryTop&&(t=n.boundaryTop-n.origY);h>d&&(t=d-n.origY);h=n.origY+t;this.animate({cy:h});i.graphic&&i.graphic.attr("transform","t0,"+(n._origY+t));s&&s[0]&&n.nextGraph&&(S?s[0][2]=h:s[2]=h,n.nextGraph.animate({path:s}));o&&o[1]&&n.currGraph&&(S?o[1][2]=h:o[5]=h,n.currGraph.animate({path:o}));i=u.y=n.value=W(1e8*l.getAxisPosition(h,1))/1e8;c=c.dataLabels(i);Wt.pointUpdate(u,c,i);p&&a.drawPlotLineLabel(a.plots[n.datasetIndex],n.dataOptions,n.pointIndex,n.origX,h).attr("text",u.displayValue);n.draged=!0;n.lastY=t;a.getAreaPath&&f.graphic&&f.graphic.attr({path:a.getAreaPath(f.data)})},dragUp:function(){var e=this.data("drag-options"),t=e.chart,n=t.logic,s=!t.options.chart.doNotSnap,o=e.dataObj,u=e.dataOptions,a,f;e.draged&&(a=e.yPos+e.lastY,s&&(f=Wt.snapPoint(t,o,a),f-a&&t.dragMove.call(this,0,f-e.yPos)),e.yPos=f,e._lastY=e.lastY+e._origY,e.lastY+=e.origY,u={dataIndex:e.pointIndex+1,datasetIndex:u.__i+1,startValue:e.startValue,endValue:e.dataObj.y=e.value,datasetName:u.name},s=[t.logic.chartInstance.id,u.dataIndex,u.datasetIndex,u.datasetName,u.startValue,u.endValue],r.raiseEvent("dataplotDragEnd",u,t.logic.chartInstance),i.raiseEvent("chartupdated",u,t.logic.chartInstance,s),s={hcJSON:{series:[]}},s.hcJSON.series[e.datasetIndex]={data:[]},s.hcJSON.series[e.datasetIndex].data[e.pointIndex]={y:e.value,toolText:o.toolText,displayValue:o.displayValue},e.items[e.pointIndex].tracker.tooltip(o.toolText),Wt.setMinMaxValue(t),y(n.chartInstance.jsVars._reflowData,s,!0))}},bt["renderer.cartesian"]);bt("renderer.dragarea",{getAreaPath:function(e){for(var t=this.xAxis[0],n=this.yAxis[0],r=n.yBasePos,i=e.length,s=0,o=[],u=[],a=[],f=!0,l,c,h;s<i;s+=1)c=e[s],a[s]=t.getAxisPosition(s),u[s]=null,null!==c.y&&(u[s]=n.getAxisPosition(c.y),h=e[s-1]?e[s-1].y:null,c=e[s+1]?e[s+1].y:null,null!==h?(f?(o.push(F,a[s-1],r,I,a[s-1],u[s-1],I,a[s],u[s]),l=s-1):o.push(I,a[s],u[s]),null===c&&o.push(I,a[s],r,I,a[l],r),f=!1):f=!0);return o}},bt["renderer.dragline"]);bt("renderer.heatmap",{drawPlotHeatmap:function(e,t){var n=this,r=e.data,i=r.length,s=e.items,o=e.graphics=e.graphics||[],u=n.paper,a=n.layers,f=n.options,l=f.chart,c=l.showHoverEffect,h=!1!==(f.tooltip||{}).enabled,d=f.plotOptions.series,f=n.xAxis[t.xAxis||0],v=n.yAxis[t.yAxis||0],d=isNaN(+d.animation)&&d.animation.duration||1e3*d.animation,m=!1===t.visible?"hidden":"visible",g,y,b=f.getAxisPosition(0),E=f.getAxisPosition(1),S=v.getAxisPosition(0),x=v.getAxisPosition(1),b=E-b,S=S-x,l=p(l.useRoundEdges,0),x=t.borderColor,E=t.borderWidth,T=t.dashStyle,N=b/2,C=S/2,k=a.dataset=a.dataset||u.group("dataset-orphan"),L=a.datalabels=a.datalabels||u.group("datalables").insertAfter(k),a=a.tracker,A=n.chartWidth;g=n.chartHeight;var O=function(e){kt.call(this,n,e)},M=function(e){kt.call(this,n,e,"DataPlotRollOver")},_=function(e){kt.call(this,n,e,"DataPlotRollOut")},P=function(e,t){return function(){e.attr({fill:w(t)})}},H,B,j,F,I,q,R,U,z,W;d&&(L.attr({transform:"t"+A+","+g}),n.animationCompleteQueue.push({fn:function(){L.attr({transform:"t0,0"})},scope:this}));for(A=0;A<i;A+=1){I=r[A];B=I.y;H=null;if(null!==B){q=I.link;R=I.toolText||I.tooltext;H=w(I.setColor||I.color);y=(g=I.visible)&&!1===g?"hiddden":m;U=p(I.x,A);U=f.getAxisPosition(U)-N;W=v.getAxisPosition(B);z=W+C;B={link:q,value:I.value,columnId:I.columnId,rowId:I.rowId,displayValue:I.displayValue,tlLabel:I.tlLabel,trLabel:I.trLabel,blLabel:I.blLabel,brLabel:I.brLabel,toolText:R,id:e.userID,datasetIndex:e.index,datasetName:e.name,visible:e.visible};H=u.rect(U,W,b,S,l,k).attr({fill:H,stroke:x,"stroke-width":E,"stroke-dasharray":T,"stroke-linejoin":"miter","shape-rendering":0===l?"crisp":"",cursor:q?"pointer":"",opacity:d?0:I.setAlpha&&+I.setAlpha/100||1}).crisp().attr({visibility:y});d&&H.animate({opacity:I.setAlpha&&+I.setAlpha/100||1},d,"normal",n.getAnimationCompleteFn());if(c||h||q)j=u.rect(U,W,b,S,l,a).attr({cursor:q?"pointer":"",stroke:D,"stroke-width":E,fill:D,ishot:!0}).data("eventArgs",B);(j||H).click(O).hover(M,_).tooltip(R);1===c&&H&&j&&j.hover(P(H,I.hoverColor),P(H,I.setColor||I.color));s[A]={index:A,value:I.value,graphic:H,tracker:j,dataLabel:null,dataLabels:[],visible:g||"hidden"!==y};g=n.drawLabelHeatmap.call(n,e,t,A);H&&o.push(H);j&&o.push(j);for(F in g)!s[A].dataLabels&&(s[A].dataLabels=[]),g[F]&&o.push(g[F]),s[A].dataLabels.push(g[F])}n.drawTracker&&n.drawTracker.call(n,e,A,U,z)}e.visible=!1!==t.visible;return e},drawLabelHeatmap:function(e,t,n){var r=e.items[n],i=e.data[n];e=this.paper;n=this.layers.datalabels;var s=this.options.plotOptions.series.dataLabels,o=s.style;t=!1===t.visible?"hidden":B;var u=i.displayValue,f=i.tlLabel,l=i.trLabel,c=i.blLabel,i=i.brLabel,h=s.tlLabelStyle,p=s.trLabelStyle,d=s.blLabelStyle,s=s.brLabelStyle,v=r.tlLabel,m=r.trLabel,g=r.blLabel,y=r.brLabel,b=this.smartLabel,w=r.dataLabel,E=[],S={fontFamily:o.fontFamily,fontSize:o.fontSize,lineHeight:o.lineHeight,fontWeight:o.fontWeight,fontStyle:o.fontStyle},x,T,N,C,k,L,A,O;C=r.graphic.getBBox();x=C.width;T=C.height;N=C.x;C=C.y;b.setStyle(o);_(u)&&u!==a&&(A=b.getSmartText(u,x,T,!1),u=A.text,w||(w=r.dataLabel=e.text(n)),w.attr({text:u,title:A.tooltext||"",visibility:t,fill:o.color,x:N+.5*x,y:C+.5*T,"text-bound":[o.backgroundColor,o.borderColor,o.borderThickness,o.borderPadding,o.borderRadius,o.borderDash]}).css(S),E.push(w));u=_(f)&&f!==a;S=_(l)&&l!==a;k=_(c)&&c!==a;L=_(i)&&i!==a;o=x*(u&&S?.5:.9);w=.5*(T-(A&&A.height||0));O=C+4;u&&(b.setStyle(h),A=b.getSmartText(f,o,w,!1),u=A.text,f=N,v||(v=r.tlLabel=e.text()),v.attr({text:u,title:A.tooltext||"",visibility:t,fill:h.color,"text-anchor":"start","vertical-align":dt,x:f+4,y:O}).css(h),n.appendChild(v),E.push(v));S&&(b.setStyle(p),A=b.getSmartText(l,o,w,!1),u=A.text,f=N+x,m||(m=r.trLabel=e.text()),m.attr({text:u,title:A.tooltext||"",visibility:t,fill:p.color,"text-anchor":"end","vertical-align":dt,x:f-4,y:O}).css(p),n.appendChild(m),E.push(m));O=C+T-4;k&&(b.setStyle(s),A=b.getSmartText(c,o,w,!1),u=A.text,f=N,g||(g=r.blLabel=e.text()),g.attr({text:u,title:A.tooltext||"",visibility:t,fill:s.color,"text-anchor":"start","vertical-align":vt,x:f+4,y:O}).css(s),n.appendChild(g),E.push(g));L&&(b.setStyle(d),A=b.getSmartText(i,o,w,!1),u=A.text,f=N+x-4,y||(y=r.brLabel=e.text()),y.attr({text:u,title:A.tooltext||"",visibility:t,fill:d.color,"text-anchor":"end","vertical-align":vt,x:f,y:O}).css(d),n.appendChild(y),E.push(y));return E},setScaleRange:function(e,t){var n=this.logic,r=this.plots[0],i={visibility:"visible"},s={visibility:"hidden"},o={hcJSON:{series:[{}]}},u=o.hcJSON.series[0],a=u.data||(u.data=[]),f=n.chartInstance.jsVars._reflowData,l=r.items,c,h,p,d,v,m,g,b=function(e){e.attr(m)};setTimeout(function(){for(var n in l)c=l[n],h=c.value,p=c.graphic,v=a[n]||(a[n]={}),d=c.dataLabels,m=(g=h>=e&&h<=t)?i:s,p.attr(m),L(d,b),v.visible=g;y(f,o,!0)},100)}},bt["renderer.cartesian"]);bt("renderer.radar",{createRadarAxis:function(){var e=this.options,t=this.canvasLeft+this.canvasWidth/2,n=this.canvasTop+this.canvasHeight/2,r=e.xAxis,i=e.yAxis instanceof Array?e.yAxis[0]:e.yAxis,s=r.max-r.min+1,o=$(i.max-i.min),e=_(e.chart.axisRadius)?e.chart.axisRadius:X(t,n),u,a=R.PI/2,f={};0>e&&(e=X(t,n));u=2*R.PI/s;f.yTrans=e/o;f.xTrans=u;f.yRange=o;f.startAngle=a;f.yMin=i.min;f.centerX=t;f.centerY=n;f.radius=e;f.categories=[];f.catLength=s;f.yAxis=i;f.xAxis=r;return this.radarAxis=f},drawRadarAxis:function(){var e=this.radarAxis,t=e.catLength,n=e.xAxis,r=e.yAxis,i=r.min,s=r.plotLines,o=s.length,u=n.plotLines,a=e.xTrans,f=e.yTrans,l=e.radius,h=e.startAngle,d=this.canvasLeft+this.canvasWidth/2,v=this.canvasTop+this.canvasHeight/2,m=this.paper,g=this.layers,y=g.dataset=g.dataset||m.group("orphan-dataset").trackTooltip(!0),b=g.layerBelowDataset=g.layerBelowDataset||m.group("axisbottom").trackTooltip(!0),w=g.layerAboveDataset=g.layerAboveDataset||m.group("axistop").trackTooltip(!0),E=g.axisLines=g.axisLines||m.group("axis-lines",b),S=g.axisLabels=g.axisLabels||m.group("axis-labels",b),x=r.labels,r=2*R.PI,T=R.PI/2,N=R.PI+T,C=!1!==(this.options.tooltip||{}).enabled,k,L=["right","center","left"],A,O,M,_,P=n.labels,H=p(.9*parseInt(P.style&&P.style.fontSize,10),9)/2,P=l+P.labelPadding,B=[],j=["M"],q=[],W;b.insertBefore(y);w.insertAfter(y);e.divline=[];for(_=0;_<o;_+=1){q[_]=[F];b=!0;y=t;w=s[_];W=w.tooltext;for(k=w.value;y--;)x=$(k-i)*f,O=d+x*z(-(h+y*a)),M=v+x*U(-(h+y*a)),q[_].splice(q[_].length,0,O,M),b&&(q[_].push(I),b=!1),0===y&&w.label&&(x=w.label,((A=x.text)||0===A)&&m.text(S).attr({text:A,x:O,y:M,"text-anchor":"right"===x.textAlign?"end":"left"===x.textAlign?"start":"middle","vertical-align":x.verticalAlign,rotation:x.rotation}).css(x.style));q[_].push("Z");e.divline[_]=m.path(q[_],E).attr({stroke:w.color,"stroke-width":w.width});C&&W&&m.path({stroke:D,"stroke-width":V(w.width,nt),ishot:!0,path:q[_]},g.tracker).toBack().tooltip(W)}b=!0;for(y=u.length;y--;)if(w=u[y],k=w.value,t=h+k*a,i=t%r,O=d+l*z(-t),M=v+l*U(-t),B.splice(B.length,0,"M",d,v,"L",O,M),j.splice(j.length,0,O,M),b&&(j.push("L"),b=!1),w.label&&(x=w.label,(A=x.text)||0===A))i=i>T&&i<N?0:i==T||i==N?1:2,m.text(S).attr({text:A,x:d+P*z(-t),y:v+P*U(-t)+H*U(-t)+H,"text-anchor":"right"===L[i]?"end":"left"===L[i]?"start":"middle","vertical-align":x.verticalAlign,rotation:x.rotation}).css(x.style);j.push("Z");e.spikeGraph=m.path(B,E).attr({stroke:n.gridLineColor,"stroke-width":c(n.gridLineWidth,1)});n.showRadarBorder&&(e.borderGraph=m.path(j,E).toBack().attr({stroke:n.radarBorderColor,"stroke-width":c(n.radarBorderThickness,2),fill:n.radarFillColor}))},drawPlotRadar:function(e,t){var n=this,r=n.paper,i=n.layers,s=i.dataset=i.dataset||r.group("orphan-dataset"),u=i.datalabels=i.datalabels||r.group("datalabels").insertAfter(s),a=i.tracker=i.tracker||r.group("hot").insertAfter(s),f=n.options,l=f.chart.anchorTrackingRadius,c=f.plotOptions.series,h=[],d=e.items||{},v=e.graphics=e.graphics||[],i=n.radarAxis,m=t.data||[],g=m.length,y,b,E=!1===t.visible,S=E?"hidden":"visible",c=isNaN(+c.animation)&&c.animation.duration||1e3*c.animation,x,T,N=!1!==(f.tooltip||{}).enabled,C,k,A,O,M=s.radarGroup=s.radarGroup||r.group("connectors",s),_=s.marker=s.marker||r.group("anchors",s),P=a.trackers=a.trackers||r.group("trackers",a),H=n.chartWidth,B=n.chartHeight,s=[],j,F,I,q,R,W,X,J,K,Q,G,Y,Z,et,tt,nt,rt=(f=f.cursor)&&{cursor:f},it=bt["renderer.cartesian"],st,ot,ut;void 0===n.radarAxis&&(i=n.radarAxis=n.createRadarAxis(t),n.drawRadarAxis(t));x=i.yTrans;C=i.yMin;k=i.startAngle;T=i.xTrans;y=i.centerX;b=i.centerY;1<=g&&(W=[],L(m,function(i,s){K=null;s?2>s&&W.push("L"):W.push("M");d[s]=st=h[s]={chart:n,index:s,value:i.y};if(null===i.y)W.push(y,b);else{X=Q=null;G=i.link;Y=i.tooltext||i.toolText;A=y+x*$(i.y-C)*z(-(k+s*T));O=b+x*$(i.y-C)*U(-(k+s*T));if(X=i.anchorElem)R=p(X.attr("r"),F.radius),X.attr({x:A,y:O,r:R});else if(F=i.marker,ut={index:s,link:G,value:i.y,displayValue:i.displayValue,categoryLabel:i.categoryLabel,toolText:Y,id:e.userID,datasetIndex:e.index,datasetName:e.name,visible:e.visible},F&&F.enabled)if(I=F.radius,Z=F.shadow,j=F.symbol.split("_"),q="spoke"===j[0]?1:0,tt=nt={},et=i.rolloverProperties,F.imageUrl)ot=new o.Image,ot.onload=function(i,s,o,u,f,l,c,h){return function(){var p=o.imageUrl,d=o.imageScale,m=o.imageAlpha,g=c.imageHoverAlpha,y=c.imageHoverScale,b=this.width*d*.01,w=this.width*y*.01;tt={x:i-this.width*d*.005,y:s-this.height*d*.005,width:b,height:this.height*d*.01,alpha:m};nt={x:i-this.width*y*.005,y:s-this.height*y*.005,width:w,height:this.height*y*.01,alpha:g};g=w>b?nt:tt;(u.graphic=X=r.image(p,_).attr(tt).css({opacity:.01*m}).data("alwaysInvisible",0===d).data("setRolloverProperties",c).data("setRolloverAttr",nt).data("setRolloutAttr",tt).data("anchorRadius",d).data("anchorHoverRadius",y))&&v.push(X);if(G||N||c)Q=u.tracker=r.rect(a).attr(g).attr({cursor:G?"pointer":"",stroke:D,"stroke-width":o.lineWidth,fill:D,ishot:!0,visibility:S}).data("eventArgs",f).click(function(e){kt.call(this,n,e)}).hover(function(e){return function(t){it.hoverPlotAnchor(this,t,"DataPlotRollOver",e,n)}}(u),function(e){return function(t){it.hoverPlotAnchor(this,t,"DataPlotRollOut",e,n)}}(u)).tooltip(l);(K=u.dataLabel=it.drawPlotLineLabel.call(n,e,t,h,i,s))&&v.push(K)}}(A,O,F,st,ut,Y,et,s),ot.onerror=function(r,i,s,o,u,a,f,l){return function(){(K=o.dataLabel=it.drawPlotLineLabel.call(n,e,t,l,r,i))&&v.push(K)}}(A,O,F,st,ut,Y,et,s),ot.src=F.imageUrl;else{et&&(tt={polypath:[j[1]||2,A,O,I,F.startAngle,q],fill:w(F.fillColor),"stroke-width":F.lineWidth,stroke:w(F.lineColor)},nt={polypath:[et.sides||2,A,O,et.radius,et.startAngle,et.dip],fill:w(et.fillColor),"stroke-width":et.lineWidth,stroke:w(et.lineColor)});X=st.graphic=r.polypath(j[1]||2,A,O,I,F.startAngle,null,_).attr({fill:w(F.fillColor),"stroke-width":F.lineWidth,stroke:w(F.lineColor),cursor:G?"pointer":"","stroke-linecap":"round","stroke-linejoin":"round",ishot:!0,visibility:0===I?"hidden":S}).data("alwaysInvisible",0===I).data("setRolloverProperties",et).data("setRolloverAttr",nt).data("setRolloutAttr",tt).data("anchorRadius",I).data("anchorHoverRadius",et&&et.radius).shadow(Z);i.anchorElem=X;if(G||N||et)(Q=i.trackerElem)?(R=p(Q.attr("r"),F.radius+1),Q.attr({x:A,y:O,r:R})):(j||(j=F.symbol.split("_")),I=V(I,l,et&&et.radius||0),Q=r.circle(A,O,I,P).attr({cursor:i.link?"pointer":"",stroke:D,"stroke-width":1,fill:D,ishot:!0,visibility:S}).css(rt)),i.trackerElem=Q;(Q=Q||X)&&Q.data("eventArgs",ut).click(function(e){kt.call(this,n,e)}).hover(function(e){return function(t){it.hoverPlotAnchor(this,t,"DataPlotRollOver",e,n)}}(st),function(e){return function(t){it.hoverPlotAnchor(this,t,"DataPlotRollOut",e,n)}}(st)).tooltip(Y)}W.push(A,O);st.dataLabel=K;st.tracker=Q;F&&F.imageUrl||(K=it.drawPlotLineLabel.call(n,e,t,s,A,O));X&&v.push(X);K&&v.push(K);Q&&v.push(Q)}}),W.push("Z"),s=s.concat(W));s&&0<s.length&&(J=e.graphic=r.path(s,M).attr({stroke:w(t.lineColor.FCcolor),fill:w(t.fillColor.FCcolor),"stroke-width":t.lineWidth,visibility:S}));c&&(n.animationCompleteQueue.push({fn:function(){_.show();u.attr({transform:"...t"+ -H+","+ -B})},scope:n}),_.hide(),u.attr({transform:"...t"+H+","+B}),M.scale(.01,.01,y,b).animate({transform:"s1,1"},c,"normal",n.getAnimationCompleteFn()));J&&v.push(J);e.visible=!E},legendClick:function(e){bt["renderer.cartesian"].legendClick.call(this,e)},getEventArgs:function(e){return bt["renderer.cartesian"].getEventArgs.call(this,e)}},bt["renderer.root"]);bt("renderer.multiLevelPie",{drawPlotMultilevelpie:function(e,t){var n=this,r=e.items,i=e.data,o=n.options,u=o.plotOptions.series,a=n.layers,f=u.animation,l=u.dataLabels.style,c=u.shadow,h=p(e.moveDuration,f.duration,0),d=u.borderWidth,v=u.borderColor,m=n.paper,o=(o=o.tooltip||{})&&!1!==o.enabled,g=(t.startAngle||0)%et,y=et/(t.valueTotal||100),b=n.canvasLeft+.5*n.canvasWidth,E=n.canvasTop+.5*n.canvasHeight,S,x,T,N,C,k,L,A,O,M,_;x=X(n.canvasWidth,n.canvasHeight);var D,P=a.dataset,H=f.mainItem,B=f.animObj,j=function(e){kt.call(this.graphic,n,e,"DataPlotRollOver");u.point.events.mouseOver.call(this)},F=function(e){kt.call(this.graphic,n,e,"DataPlotRollOut");u.point.events.mouseOut.call(this)},I=function(e){kt.call(this.graphic,n,e,"DataPlotRollOver");u.point.events.mouseOver.call(this)},q=function(e){kt.call(this.graphic,n,e,"DataPlotRollOut");u.point.events.mouseOut.call(this)},R=function(){n.placeDataLabels(!1,r,e,t)};S=.5*(/%$/.test(t.size)?x*parseInt(t.size,10)/100:t.size);x=.5*(/%$/.test(t.innerSize)?x*parseInt(t.innerSize,10)/100:t.innerSize);t.metrics=[b,E,2*S,2*x];i&&i.length||(i=[]);D=a.datalabels||(a.datalabels=m.group("datalabels").insertAfter(P));M=O=g;for(_=i.length;_--;)N=i[_],C=N.y,k=N.displayValue,a=N.toolText,L=!!N.link,null!==C&&void 0!==C&&(M=O,O-=C*y,A=.5*(O+M),(T=r[_])||(T=r[_]={chart:n,link:N.link,value:C,angle:A,color:N.color,prevPointIndex:N.prevPointIndex,prevSeriesIndex:N.prevSeriesIndex,labelText:k,graphic:m.ringpath(b,E,S,x,g,g,P).attr({"stroke-width":N.borderWidth||d,stroke:N.borderColor||v,fill:w(N.color),"stroke-dasharray":N.dashStyle,ishot:L,cursor:L?"pointer":""}).shadow(c&&!!N.shadow)},N={link:N.link,label:N.displayValue,toolText:N.toolText},T.graphic.mouseover(j,T),T.graphic.mouseout(F,T),T.graphic.mouseup(n.plotMouseUp),T.graphic.data("plotItem",T),T.graphic.data("eventArgs",N),o&&T.graphic.tooltip(a),void 0!==k&&(T.dataLabel=m.text(D).css(l).attr({text:k,fill:l.color||"#000000",visibility:"hidden",ishot:L,cursor:L?"pointer":""}).mouseover(I,T).mouseout(q,T).mouseup(n.plotMouseUp),T.dataLabel.data("plotItem",T),T.graphic.data("eventArgs",N),o&&T.dataLabel.tooltip(a))),h?H?T.graphic.animateWith(H,B,{ringpath:[b,E,S,x,O,M]},h,"easeIn",!_&&R):(B=f.animObj=s.animation({ringpath:[b,E,S,x,O,M]},h,"easeIn",!_&&R),H=f.mainItem=T.graphic.animate(B)):(T.graphic.attr({ringpath:[b,E,S,x,O,M]}),!_&&R&&R()))},plotMouseUp:function(e){var t=this.data("plotItem");kt.call(this,t.chart,e)}},bt["renderer.piebase"]);s.addSymbol({resizeIcon:function(e,t,n){var r=p(n,15)/3,i=[];0>r&&(r=-r,n=-n,e+=n-r/2,t+=n-r/2);for(n=3;0<n;n-=1)i.push(F,e-r*n,t-3,I,e-3,t-r*n);return i},closeIcon:function(e,t,n){var r=1.3*n,i=43*Z,s=48*Z,o=e+r*z(i),i=t+r*U(i),u=e+r*z(s),a=t+r*U(s),s=.71*(n-2);n=.71*(n-2);r=["A",r,r,0,1,0,u,a];o=[F,o,i];o=o.concat(r);return o=o.concat([F,e+s,t-n,I,e-s,t+n,F,e-s,t-n,I,e+s,t+n])},configureIcon:function(e,t,n){n-=1;var r=.71*n,i=.71*(n+2),s=e-n,o=t-n,u=e+n;n=t+n;var a=e+.5,f=t+.5,l=e-.5,c=t-.5,h=s-2,p=o-2,d=u+2,v=n+2,m=e+r,g=t+r,y=e-r,r=t-r,b=e+i,w=t+i;e-=i;t-=i;return[F,s,f,I,h,f,h,c,s,c,y-.25,r+.25,e-.25,t+.25,e+.25,t-.25,y+.25,r-.25,l,o,l,p,a,p,a,o,m-.25,r-.25,b-.25,t-.25,b+.25,t+.25,m+.25,r+.25,u,c,d,c,d,f,u,f,m+.25,g-.25,b+.25,w-.25,b-.25,w+.25,m-.25,g+.25,a,n,a,v,l,v,l,n,y+.25,g+.25,e+.25,w+.25,e-.25,w-.25,y-.25,g-.25,"Z"]},axisIcon:function(e,t,n){n-=1;var r=.33*n,i=n/2,s=e-n,o=t-n,u=e+i;n=t+n;e-=i;i=t+r;t-=r;return[F,s,o,I,u,o,u,n,s,n,F,e,i,I,u,i,F,e,t,I,u,t]},loggerIcon:function(e,t,n){n-=1;e-=n;t-=n;var r=e+2*n,i=e+2,s=r-2,o=t+2;n=o+n;var u=n+2;return[F,e,t,I,r,t,r,o,s,o,s,n,r,n,r,u,e,u,e,n,i,n,i,o,e,o,e,t]}})},[3,2,1,"release"]])