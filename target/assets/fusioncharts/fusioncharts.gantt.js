FusionCharts.register("module",["private","modules.renderer.js-gantt",function(){var e=this,t=e.hcLib,n=e.window,r=/msie/i.test(n.navigator.userAgent)&&!n.opera,i=t.chartAPI,s=t.chartAPI,o=t.extend2,u=t.pluck,a=t.pluckNumber,f=t.getFirstColor,l=t.graphics,c=l.convertColor,h=l.getDarkColor,p=l.parseColor,d=t.parseUnsafeString,v=t.getFirstValue,m=t.getValidValue,g=t.Raphael,y=t.COMMASTRING,b=t.setLineHeight,w=t.getDashStyle,E=t.toRaphaelColor,S=t.each,x=t.FC_CONFIG_STRING,T="rgba(192,192,192,"+(r?.002:1e-6)+")",N=l.mapSymbolName,r=Math,C=r.ceil,k=r.round,L=r.max,A=r.min,O=r.abs,M=parseInt,_=parseFloat,D={pageX:0,pageY:0},P=t.plotEventHandler,H,B,j=t.hasTouch=void 0!==n.document.documentElement.ontouchstart,F=t.addEvent,I=t.removeEvent,q=function(e){return void 0!==e&&null!==e},R={left:"start",right:"end",center:"middle"},U={left:0,right:1,center:.5,"undefined":.5},z={top:1,bottom:0,middle:.5,"undefined":.5},W={left:5,right:-5,center:0,"undefined":0},X=function(e,t){this.min=e.min;this.max=a(e.visibleMax,e.max);this.pixelValueRatio=t/(this.max-this.min);this.startPixel=e.chart.marginLeft+e.chart.ganttStartX};X.prototype={getPixel:function(e){return this.startPixel+(e-this.min)*this.pixelValueRatio}};X.prototype.constructor=X;i("gantt",{friendlyName:"Gantt Chart",rendererId:"gantt",standaloneInit:!0,defaultSeriesType:"gantt",canvasborderthickness:1,defaultPlotShadow:1,creditLabel:!1,defaultPaletteOptions:function(){var e=arguments;return t.extend2(t.extend2(t.extend2(t.extend2({},e[0]),e[1]),e[2]),e[3])}(o({},t.defaultGaugePaletteOptions),{paletteColors:["AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" ")],bgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAngle:[270,270,270,270,270],bgRatio:["100","100","100","100","100"],bgAlpha:["100","100","100","100","100"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],gridColor:["DDDDDD","D8DCC5","99C4CD","DEC49C","FEC1D0"],gridResizeBarColor:["999999","545454","415D6F","845001","D55979"],categoryBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],dataTableBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["666666","545454","415D6F","845001","D55979"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],plotFillColor:["EEEEEE","D8DCC5","BCD8DE","E9D8BE","FEDAE3"],scrollBarColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"]}),charttopmargin:10,chartbottommargin:20,series:function(){var e=this.dataObj,n=e.chart,r=(r=e.categories)||[],i=r.length,s=this.hcJSON,l=s.chart,g=s[x],y=this.smartLabel,S=this.colorManager,C=s.categories={},O=[],D=this.inCanvasStyle,P=this.numberFormatter,H=Infinity,B=-Infinity,j=l.origW-l.marginLeft-l.marginRight,F=l.origH-l.marginTop-l.marginBottom,I=e.processes||{},R=I&&I.process,U=R&&R.length,z=M(D.fontSize,10),W=e.datatable,X=W&&W.datacolumn,$=X&&X.length,J=e.connectors,Q=J&&J.length,G=s.connectors=[],Y=e.milestones&&e.milestones.milestone,Z=Y&&Y.length,et=s.milestone=[],tt=e.tasks,nt=tt&&tt.task,rt=nt&&nt.length,it=0,st=0,ot=a(n.forceganttwidthpercent,0),ut=0,at=0,ft=!1,lt={top:"top",bottom:"bottom"},ct={top:"top",bottom:"bottom","undefined":"middle"},ht={right:"right",left:"left"},pt={right:"right",left:"left","undefined":"center"},dt=s.dataTable={},vt=Infinity,mt=-Infinity,gt=s.processIDMap=[],yt,bt,wt=a(n.dateintooltip,1),Et=e.legend&&e.legend.item,St=s.tasksMap||(s.tasksMap={}),xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt,Zt,en,tn,nn,rn,sn,on,un,an,fn,ln,cn,hn,pn,dn,vn,mn,gn,yn,bn,wn,En,Sn,xn,Tn,Nn,Cn,kn,Ln,An,On,Mn,_n,Dn,Pn,Hn,Bn,jn,Fn,In,qn,Rn,Un,zn,Wn,Xn,Vn,$n,Jn,Kn,Qn,Gn,Yn,Zn,er,tr;if(U){s.tasks=[];delete s.yAxis;delete s.xAxis;l.backgroundColor=c(u(n.bgcolor,"FFFFFF"),u(n.bgalpha,S.getColor("bgAlpha")));a(n.showborder,0)||(l.borderWidth=0);l.plotBorderColor=c(u(n.canvasbordercolor,S.getColor("canvasBorderColor")),0===a(n.showcanvasborder,1)?0:u(n.canvasborderalpha,100));l.backgroundColor={FCcolor:{color:u(n.bgcolor,"FFFFFF"),alpha:u(n.bgalpha,S.getColor("bgAlpha")),angle:u(n.bgangle,S.getColor("bgAngle")),ratio:u(n.bgratio,S.getColor("bgRatio"))}};l.plotBackgroundColor={FCcolor:{color:u(n.canvasbgcolor,S.getColor("canvasBgColor")),alpha:u(n.canvasbgalpha,S.getColor("canvasBgAlpha")),angle:u(n.canvasbgangle,S.getColor("canvasBgAngle")),ratio:u(n.canvasbgratio,S.getColor("canvasBgRatio"))}};l.plotBorderWidth=a(n.canvasborderthickness,1);l.outputDateFormat=u(n.outputdateformat,l.dateFormat);l.extendCategoryBg=a(n.extendcategorybg,0);l.ganttLineColor=c(u(n.ganttlinecolor,S.getColor("gridColor")),a(n.ganttlinealpha,100));l.ganttLineThickness=a(n.ganttlinethickness,1);l.ganttLineDashStyle=a(n.ganttlinedashed,0)?w(a(n.ganttlinedashlen,1),n.ganttlinedashgap,l.ganttLineThickness):void 0;l.gridBorderColor=c(u(n.gridbordercolor,S.getColor("gridColor")),a(n.gridborderalpha,100));l.gridBorderThickness=a(n.gridborderthickness,1);l.gridBorderDashStyle=a(n.gridborderdashed,0)?w(a(n.gridborderdashlen,1),n.gridborderdashgap,l.gridborderThickness):void 0;l.showSlackAsFill=a(n.showslackasfill,1);l.slackFillColor=f(u(n.slackfillcolor,"FF5E5E"));l.gridResizeBarColor=c(u(n.gridresizebarcolor,S.getColor("gridResizeBarColor")),a(n.gridresizebaralpha,100));l.gridResizeBarThickness=a(n.gridresizebarthickness,1);l.taskBarRoundRadius=a(n.taskbarroundradius,0);l.taskBarFillMix=n.taskbarfillmix;l.taskBarFillRatio=n.taskbarfillratio;void 0===l.taskBarFillMix&&(l.taskBarFillMix="{light-10},{dark-20},{light-50},{light-85}");void 0===l.taskBarFillRatio&&(l.taskBarFillRatio="0,8,84,8");l.connectorExtension=a(n.connectorextension,10);l.clickURL=u(n.clickurl,"");l.annRenderDelay=n.annrenderdelay;l.taskDatePadding=a(n.taskdatepadding,3);l.taskLabelPadding=a(n.tasklabelspadding,2);l.ganttStartX=a(n.ganttwidthpercent,65);100<l.ganttStartX&&(l.ganttStartX=100);Dt=l.ganttStartX=.01*(100-l.ganttStartX)*j;l.gridWidth=j-l.ganttStartX;Zn=a(n.showfulldatatable,1);vn=I.width;vn=a(l.ganttStartX*(/\%/g.test(vn)&&.01*_(vn,10))||vn);Dt-=a(vn,0);yt=k(vn);at+=1;for(er=0;er<$;er+=1)At=X[er].width,Ot=a(l.ganttStartX*(/\%/g.test(At)&&.01*_(At,10))||At),Dt-=a(Ot,0),Ot=X[er].width=k(Ot),at+=1;0<=Dt?Dt/=at:(ft=!0,Dt=l.ganttStartX/at);if(ot||!Zn)for((isNaN(yt)||ft)&&(yt=Dt),er=0;er<$;er+=1)(isNaN(X[er].width)||ft)&&(X[er].width=Dt);for(er=0;er<i;er+=1){cn=r[er];H=Infinity;B=-Infinity;pn=u(cn.bgcolor,S.getColor("categoryBgColor"));dn=a(cn.bgalpha,100);Yt=u(cn.font,D.fontFamily);Zt=a(cn.fontsize,z+1);en=u(cn.fontcolor,D.color);tn=a(cn.isbold,1);nn=a(cn.isitalic,0);rn=a(cn.isunderline,0);a(cn.verticalpadding,3);sn=u(cn.align,"center").toLowerCase();on=u(cn.valign,"middle").toLowerCase();an=(fn=cn.category)&&fn.length;Fn=0;Vn={};for(tr=0;tr<an;tr+=1)ln=fn[tr],Qt=P.getDateValue(ln.start).ms,Gt=P.getDateValue(ln.end).ms,isNaN(Qt)&&(Qt=void 0),Qt>B&&(B=Qt),Qt<=H&&(H=Qt),isNaN(Gt)&&(Gt=void 0),Gt>B&&(B=Gt),Gt<=H&&(H=Gt),un=d(u(ln.label,ln.name)),In={color:f(u(ln.fontcolor,en)),fontFamily:u(ln.font,Yt),fontSize:a(ln.fontsize,Zt)+"px",fontWeight:a(ln.isbold,tn)&&"bold"||"normal",fontStyle:a(ln.isitalic,nn)&&"italic"||"normal",textDecoration:a(ln.isunderline,rn)&&"underline"||"none"},b(In),y.setStyle(In),Mt=y.getOriSize(un),Fn=L(Fn,Mt.height),Un="FCCAT_"+er+"_"+tr,Tt=u(ln.hoverbandcolor,cn.hoverbandcolor,n.categoryhoverbandcolor,n.hoverbandcolor,S.getColor("gridColor")),Nt=a(ln.hoverbandalpha,cn.hoverbandalpha,n.categoryhoverbandalpha,n.hoverbandalpha,30),Ct=a(ln.showhoverband,cn.showhoverband,n.showcategoryhoverband,n.showhoverband,n.showhovereffect,1),C[Un]={text:un,style:In,start:Qt,end:Gt,index:tr,isLast:er===i-1,bgColor:c(u(ln.bgcolor,pn),a(ln.bgalpha,dn)),dimension:Vn,link:ln.link,align:pt[[u(ln.align,sn).toLowerCase()]],vAlign:ct[lt[u(ln.valign,on).toLowerCase()]],hoverColor:c(Tt,Nt),useHover:Ct,usePlotHover:a(ln.showganttpanehoverband,cn.showganttpanehoverband,n.showganttpaneverticalhoverband,Ct)},C[zn]&&(C[zn].nextCol=C[Un],C[Un].prevCol=C[zn]),zn=Un;if(wn=C["FCCAT_"+er+"_0"])C[Un].first=wn,wn.last=C[Un],C[bn]&&(C[bn].nextRow=wn,wn.prevRow=C[bn]);bn=Un;Vn.h=Fn+5+2*a(cn.verticalpadding,3);Vn.y=st;Vn.min=H;Vn.max=B;Vn.numCat=tr;st+=Vn.h;mt=L(mt,B);vt=A(vt,H)}C.min=vt;C.max=mt;if(U){Fn=_t=0;Yn="right"===u(I.positioningrid,"left").toLowerCase();In={color:f(u(I.headerfontcolor,D.color)),fontFamily:u(I.headerfont,D.fontFamily),fontSize:a(I.headerfontsize,z+3)+"px",fontWeight:a(I.headerisbold,1)&&"bold"||"normal",fontStyle:a(I.headerisitalic,0)&&"italic"||"normal",textDecoration:a(I.headerisunderline,0)&&"underline"||"none"};b(In);un=d(I.headertext);y.setStyle(In);Mt=y.getOriSize(un);_t=L(_t,Mt.width);sn=pt[ht[u(I.headeralign,"center").toLowerCase()]];on=ct[lt[u(I.headervalign,"middle").toLowerCase()]];Vn={};Un=Wn=bn="processHeader";dt.processHeader={text:un,style:In,align:sn,vAlign:on,isHeader:!0,link:u(I.headerlink),dimension:{x:0,w:0,h:L(Mt.height,st)},bgColor:c(u(I.headerbgcolor,S.getColor("dataTableBgColor")),a(I.headerbgalpha,100)),key:Un,isLast:Yn,drawResizer:!Yn&&$,prevCol:null,nextCol:null,prevRow:null,nextRow:null};pn=u(I.bgcolor,S.getColor("dataTableBgColor"));dn=a(I.bgalpha,100);Yt=u(I.font,D.fontFamily);Zt=a(I.fontsize,z);en=u(I.fontcolor,D.color);tn=a(I.isbold,0);nn=a(I.isitalic,0);rn=a(I.isunderline,0);sn=u(I.align,"center").toLowerCase();on=u(I.valign,"middle").toLowerCase();for(er=0;er<U;er+=1)hn=R[er],Tt=u(hn.hoverbandcolor,I.hoverbandcolor,n.processhoverbandcolor,n.hoverbandcolor,S.getColor("gridColor")),Nt=a(hn.hoverbandalpha,I.hoverbandalpha,n.processhoverbandalpha,n.hoverbandalpha,30),Ct=a(hn.showhoverband,I.showhoverband,n.showprocesshoverband,n.showhoverband,n.showhovereffect,1),In={color:f(u(hn.fontcolor,en)),fontSize:a(hn.fontsize,Zt)+"px",fontFamily:u(hn.font,Yt),fontWeight:a(hn.isbold,tn)&&"bold"||"normal",fontStyle:a(hn.isitalic,nn)&&"italic"||"normal",textDecoration:a(hn.isunderline,rn)&&"underline"||"none"},b(In),un=d(u(hn.label,hn.name)),y.setStyle(In),Mt=y.getOriSize(un),Fn=L(Fn,Mt.height),_t=L(_t,Mt.width),zn=Un,Un=u(hn.id,"__FCDPID__"+er).toUpperCase(),dt[Un]&&(Un="__FCDPID__"+er),gt[er]=Un,dt[Un]={text:Mt.text,style:In,link:hn.link,id:Un,align:pt[[u(hn.align,sn).toLowerCase()]],vAlign:ct[lt[u(hn.valign,on).toLowerCase()]],bgColor:c(u(hn.bgcolor,pn),a(hn.bgalpha,dn)),prevCol:dt[zn],dimension:Vn,hoverColor:c(Tt,Nt),useHover:Ct,usePlotHover:a(hn.showganttpanehoverband,I.showganttpanehoverband,n.showganttpanehorizontalhoverband,Ct),isLast:Yn,nextCol:null,prevRow:null,nextRow:null},dt[zn]&&(dt[zn].nextCol=dt[Un]);dt[Un].first=dt[Wn];dt[Wn].last=dt[Un];dt[Wn].processCount=U;dt[Wn].maxProcessHeight=Fn+8;bt=Fn+8;isNaN(yt)&&(yt=_t+10);ut+=yt;Vn.x=0;dt[Wn].dimension.w=Vn.w=yt;Vn.h=bt=L((F-dt[Wn].dimension.h)/U,bt)}Yn&&(ut=0);if($)for(s.datacolumns=[],er=0;er<$;er+=1){mn=X[er];_t=0;pn=f(u(mn.bgcolor,W.bgcolor,S.getColor("dataTableBgColor")));dn=a(mn.bgalpha,W.bgalpha,100);Yt=u(mn.font,W.font,D.fontFamily);en=f(u(mn.fontcolor,W.fontcolor,D.color));Zt=a(mn.fontsize,W.fontsize,z);tn=a(mn.isbold,W.isbold,0);nn=a(mn.isitalic,W.isitalic,0);rn=a(mn.isunderline,W.isunderline,0);sn=pt[ht[u(mn.align,W.align,"center").toLowerCase()]];on=ct[lt[u(mn.valign,W.valign,"middle").toLowerCase()]];In={color:f(u(mn.headerfontcolor,W.headerfontcolor,en)),fontFamily:u(mn.headerfont,W.headerfont,Yt),fontSize:a(mn.headerfontsize,W.headerfontsize,Zt+3)+"px",fontWeight:a(mn.headerisbold,W.headerisbold,1)&&"bold"||"normal",fontStyle:a(mn.headerisitalic,W.headerisitalic,nn)&&"italic"||"normal",textDecoration:a(mn.headerisunderline,W.headerisunderline,rn)&&"underline"||"none"};b(In);un=d(mn.headertext);y.setStyle(In);Mt=y.getOriSize(un);_t=L(_t,Mt.width);Un=Wn="_FCDtHeader_"+er;Ut=dt[Un]={text:un,style:In,align:pt[ht[u(mn.headeralign,W.headeralign,sn).toLowerCase()]],vAlign:ct[lt[u(mn.headervalign,W.headervalign,on).toLowerCase()]],link:u(mn.headerlink),drawResizer:Yn||er<$-1,dimension:{x:0+ut,w:mn.width,h:dt.processHeader&&dt.processHeader.dimension.h},isHeader:!0,key:Un,bgColor:c(u(mn.headerbgcolor,W.headerbgcolor,S.getColor("dataTableBgColor")),a(mn.headerbgalpha,W.headerbgalpha,100))};Ut.data=[];qn=mn.text||[];Xn=dt.processHeader;En=dt[bn];En.nextRow=dt[Un];dt[Un].prevRow=En;Xn=Xn.nextCol;En=En.nextCol;Vn={};bn=Wn;for(tr=0;Xn;Xn=Xn.nextCol,En=En.nextCol,tr+=1)zn=Un,Un="_FCDt_"+er+"_"+tr,(Rn=qn[tr])?(In={fontFamily:u(Rn.font,Yt),color:f(u(Rn.fontcolor,en)),fontSize:a(Rn.fontsize,Zt)+"px",fontWeight:a(Rn.isbold,tn)&&"bold"||"normal",fontStyle:a(Rn.isitalic,nn)&&"italic"||"normal",textDecoration:a(Rn.isunderline,rn)&&"underline"||"none"},b(In),y.setStyle(In),un=d(Rn.label),Mt=y.getOriSize(un),_t=L(_t,Mt.width),dt[Un]={text:un,style:In,link:u(Rn.link,""),bgColor:c(u(Rn.bgcolor,pn),a(Rn.bgalpha,dn)),align:pt[ht[u(Rn.align,sn).toLowerCase()]],vAlign:ct[lt[u(Rn.valign,on).toLowerCase()]],prevCol:dt[zn],dimension:Vn,nextCol:null,nextRow:null,prevRow:null}):dt[Un]={prevCol:dt[zn],dimension:Vn,isNaN:!0,nextCol:null,nextRow:null,prevRow:null},dt[zn].nextCol=dt[Un],dt[Un].prevRow=En,En.nextRow=dt[Un],dt[Un].hoverColor=dt[gt[tr]].hoverColor,dt[Un].useHover=dt[gt[tr]].useHover,dt[Un].usePlotHover=dt[gt[tr]].usePlotHover;dt[Un].first=dt[Wn];dt[Wn].last=dt[Un];isNaN(mn.width)?Ut.width=_t+10:Ut.width=mn.width;Vn.x=0+ut;ut+=dt[Wn].dimension.w=Vn.w=Ut.width;Vn.h=bt;s.datacolumns.push(Ut)}Yn&&(hn=dt.processHeader,hn.dimension.x=hn.nextCol.dimension.x=ut,ut+=yt);ot||(l.ganttStartX=A(l.ganttStartX,ut));l.totalGridWidth=ut;Jn=e.trendlines||{};s.trendlines=[];for(er=0;er<Jn.length;er+=1)for(Z=(Kn=Jn[er].line)&&Kn.length,tr=0;tr<Z;tr+=1)Gn=Kn[tr],Qn=a(Gn.istrendzone,0),Kt=u(Gn.color,S.getColor("legendBorderColor")),In=o({},g.trendStyle),In.color=c(Kt),b(In),s.trendlines.push({start:P.getDateValue(Gn.start).ms,end:P.getDateValue(Gn.end).ms,displayValue:d(u(Gn.displayvalue,Gn.start)),color:c(Kt,a(Gn.alpha,Qn?40:99)),style:In,isTrendZone:Qn,dashedStyle:a(Gn.dashed,0)?w(a(Gn.dashlen,3),a(Gn.dashgap,3),a(Gn.thickness,1)):void 0,thickness:a(Gn.thickness,1)});if(rt){H=Infinity;B=-Infinity;a(n.taskbarroundradius,0);Vt=n.taskbarfillmix;$t=n.taskbarfillratio;void 0===Vt&&(Vt="{light-10},{dark-20},{light-50},{light-85}");void 0===$t&&($t="0,8,84,8");l.shadow=a(n.showshadow,1);Lt=a(n.showslackasfill,1);for(er=0;er<rt;er+=1)gn=nt[er],yn=it%U,Qt=P.getDateValue(gn.start).ms,Gt=P.getDateValue(gn.end).ms,Un=u(dt[v(gn.processid,"").toUpperCase()],dt["__FCDPID__"+yn],dt[gt[yn]]).id.toUpperCase(),Sn=a(gn.alpha,tt.alpha,100),Kt=u(gn.color,tt.color,S.getColor("plotFillColor")),Tn=a(gn.borderalpha,tt.borderalpha,100),xn=u(gn.bordercolor,tt.bordercolor,S.getColor("plotBorderColor")),isNaN(Qt)&&(Qt=void 0),Qt>B&&(B=Qt),Qt<=H&&(H=Qt),isNaN(Gt)&&(Gt=void 0),Gt>B&&(B=Gt),Gt<=H&&(H=Gt),In={color:f(u(gn.fontcolor,tt.fontcolor,D.color)),fontSize:a(gn.fontsize,tt.fontsize,z)+"px",fontFamily:u(gn.font,tt.font,D.fontFamily)},b(In),it+=1,Nn=S.parseColorMix(Kt,Vt),Cn=S.parseAlphaList(Sn.toString(),Nn.length),kn=S.parseRatioList($t,Nn.length),Ln=a(gn.angle,tt.angle,270),_n=S.parseColorMix(u(gn.slackfillcolor,tt.slackfillcolor,n.slackfillcolor,"FF5E5E"),Vt),Dn=A(a(gn.percentcomplete,-1),100),un=v(u(gn.label,gn.name),""),Mn="",a(gn.showlabel,gn.showname,tt.showlabels,tt.showname,n.showtasklabels,n.showtasknames,0)&&(Mn=un),a(gn.showpercentlabel,tt.showpercentlabel,n.showpercentlabel,0)&&-1!==Dn&&(Mn+=" "+Dn+"%"),Pn={FCcolor:{color:Nn.join(),alpha:Cn,ratio:kn,angle:Ln}},_n=Lt?{FCcolor:{color:_n.join(),alpha:Cn,ratio:kn,angle:Ln}}:T,Hn={FCcolor:{color:S.parseColorMix(u(gn.hoverfillcolor,tt.hoverfillcolor,n.taskhoverfillcolor,h(Kt,80)),Vt).join(),alpha:S.parseAlphaList(u(gn.hoverfillalpha,tt.hoverfillalpha,n.taskhoverfillalpha,Sn).toString(),Nn.length),ratio:kn,angle:Ln}},Bn=c(u(gn.hoverbordercolor,tt.hoverbordercolor,n.taskhoverbordercolor,h(xn,80)),u(gn.hoverborderalpha,tt.hoverborderalpha,n.taskhoverborderalpha,Tn)),jn=Lt?{FCcolor:{color:S.parseColorMix(h(u(gn.slackhoverfillcolor,tt.slackhoverfillcolor,n.slackhoverfillcolor,n.slackfillcolor,"FF5E5E"),80),Vt).join(),alpha:S.parseAlphaList(u(gn.slackhoverfillalpha,tt.slackhoverfillalpha,n.slackhoverfillalpha,Sn).toString(),Nn.length),ratio:kn,angle:Ln}}:T,An=P.getFormattedDate(Qt),On=P.getFormattedDate(Gt),xt=m(d(u(gn.tooltext,gn.hovertext,tt.plottooltext,g.tooltext))),xt=void 0!==xt?t.parseTooltext(xt,[3,28,29,30,31],{end:On,start:An,label:un,percentComplete:-1!==Dn?P.percentValue(Dn):"",processName:dt[Un]&&dt[Un].text},gn):(""!==un?un+(wt?", ":""):"")+(wt?An+" - "+On:""),Xt=v(gn.id,"").toUpperCase(),St[v(Xt,er)]={dataObj:{processId:Un,label:Mn,labelAlign:pt[[u(gn.labelalign,n.tasklabelsalign,"center").toLowerCase()]],link:gn.link,start:Qt,end:Gt,id:v(gn.id,"").toUpperCase(),showAsGroup:a(gn.showasgroup,0),animation:a(gn.animation,n.animation,n.defaultanimation,1),style:In,percentComplete:Dn,color:E(Pn),slackColor:E(_n),hoverFillColor:E(Hn),hoverBorderColor:Bn,slackHoverColor:E(jn),showHoverEffect:a(gn.showhovereffect,tt.showhovereffect,n.showtaskhovereffect,n.showhovereffect,1),shadow:{opacity:L(Sn,Tn)/100,inverted:!0},borderColor:c(xn,Tn),borderThickness:a(gn.showborder,tt.showborder,1)?a(gn.borderthickness,tt.borderthickness,1):0,height:u(gn.height,"35%"),topPadding:u(gn.toppadding,"35%"),showPercentLabel:a(gn.showpercentlabel,tt.showpercentlabel,n.showpercentlabel,0),startDate:a(gn.showstartdate,tt.showstartdate,n.showtaskstartdate)?An:void 0,endDate:a(gn.showenddate,tt.showenddate,n.showtaskenddate)?On:void 0,toolText:xt,_start:gn.start,_end:gn.end,_formatSDate:An,_formatEDate:On,_label:un}},O.push(St[v(Xt,er)].dataObj);mt=L(mt,B);vt=A(vt,H)}s.series.push({showInLegend:!1,data:O});Z=Y&&Y.length;for(er=0;er<Z;er+=1)zt=Y[er],Xt=v(zt.taskid,"").toUpperCase(),Jt=u(zt.shape,"polygon").toLowerCase(),Wt=a(zt.numsides,5),$n=0,"star"===Jt?$n=.4:(Jt=N(Wt),Jt=N(Wt).split("-")[0]),Kt=u(zt.color,S.getColor("legendBorderColor")),xt=m(d(u(zt.tooltext,zt.hovertext,n.milestonetooltext))),void 0!==xt&&St[Xt]?(gn=St[Xt].dataObj,xt=t.parseTooltext(xt,[28,32,33,34,35,36],{date:P.getFormattedDate(zt.date),taskStartDate:gn._formatSDate,taskEndDate:gn._formatEDate,taskLabel:gn._label,taskPercentComplete:-1!==gn.percentComplete?P.percentValue(gn.percentComplete):"",processName:dt[gn.processId]&&dt[gn.processId].text},zt)):xt=P.getFormattedDate(zt.date),et.push({numSides:Wt,startAngle:a(zt.startangle,90),radius:zt.radius,origDate:zt.date,date:P.getDateValue(zt.date),fillColor:f(Kt),fillAlpha:.01*a(zt.fillalpha,zt.alpha,100),borderColor:f(u(zt.bordercolor,Kt)),borderAlpha:.01*a(zt.borderalpha,zt.alpha,100),hoverFillColor:f(u(zt.hoverfillcolor,n.milestonehoverfillcolor,h(Kt,80))),hoverFillAlpha:.01*a(zt.hoverfillalpha,n.milestonehoverfillalpha,zt.fillalpha,zt.alpha,100),hoverBorderColor:f(u(zt.hoverbordercolor,n.milestonehoverbordercolor,h(u(zt.bordercolor,Kt),80))),hoverBorderAlpha:.01*a(zt.hoverborderalpha,n.milestonehoverborderalpha,zt.borderalpha,zt.alpha,100),showHoverEffect:a(zt.showhovereffect,n.showmilestonehovereffect,n.showhovereffect,1),depth:$n,taskId:Xt,borderThickness:a(zt.borderthickness,1),link:zt.link,toolText:xt});for(er=0;er<Q;er+=1)if(Ht=(Pt=(qt=J[er])&&qt.connector)&&Pt.length)for(tr=0;tr<Ht;tr+=1)Rt=Pt[tr],Bt=u(Rt.color,qt.color,S.getColor("plotBorderColor")),jt=a(Rt.alpha,qt.alpha,100),Ft=a(Rt.thickness,qt.thickness,1),It=a(Rt.isdashed,qt.isdashed,1),G.push({fromTaskId:v(Rt.fromtaskid,"").toUpperCase(),toTaskId:v(Rt.totaskid,"").toUpperCase(),fromTaskConnectStart:a(Rt.fromtaskconnectstart,0),toTaskConnectStart:a(Rt.totaskconnectstart,1),color:c(Bt),alpha:.01*jt,link:Rt.link,showHoverEffect:a(Rt.showhovereffect,qt.showhovereffect,n.showconnectorhovereffect,n.showhovereffect,1),hoverColor:c(u(Rt.hovercolor,qt.hovercolor,n.connectorhovercolor,h(Bt,80)),a(Rt.hoveralpha,qt.hoveralpha,n.connectorhoveralpha,jt)),hoverThickness:a(Rt.hoverthickness,qt.hoverthickness,n.connectorhoverthickness,Ft),thickness:Ft,dashedStyle:It?w(a(Rt.dashlen,qt.dashlen,5),a(Rt.dashgap,qt.dashgap,Ft),Ft):void 0});s.legend.enabled=Boolean(a(n.showlegend,1));s.legend.interactiveLegend=!1;s.legend.itemStyle.cursor="default";s.legend.itemHoverStyle={cursor:"inherit"};Z=Et&&Et.length;for(er=0;er<Z;er+=1)kt=Et[er],q(kt.label)&&""!==kt.label&&s.series.push({name:d(kt.label),showInLegend:!0,type:!1,color:p(u(kt.color,S.getPlotColor()))});s.max=mt;s.min=vt;s.chart.hasScroll=!0;return s}},spaceManager:function(e,t,n,r){this.titleSpaceManager(e,t,n,.3*r);var i=this.numberFormatter,s=e.chart,o=t.chart,l=e.dataTable,c=e.categories,h=e.scrollOptions={},p=l.__scrollOptions={},l=l.processHeader;r=r-s.marginTop-s.marginBottom;n=n-s.marginLeft-s.marginRight;var d=s.totalGridWidth,v=e.verticalScroll={enabled:a(o.useverticalscrolling,1)},m=a(o.ganttpaneduration,-1),g=u(o.ganttpanedurationunit,"s").toLowerCase(),i=i.getDateValue(o.scrolltodate).ms,y=l&&l.maxProcessHeight;if(l){e.legend.enabled&&(r-=this.placeLegendBlockBottom(e,t,n,r/2));r-=l.dimension.h;h.padding=a(o.scrollpadding,e.chart.plotBorderWidth/2);h.height=a(o.scrollheight,16);h.showButtons=!!a(o.scrollshowbuttons,1);h.buttonPadding=a(o.scrollbtnpadding,0);h.flatScrollBars=a(o.flatscrollbars,0);h.color=f(u(o.scrollcolor,this.colorManager.getColor("altHGridColor")));t=h.height+h.padding;d>s.ganttStartX&&(p.enabled=!0,p.startPercent=Boolean(a(o.scrolltoend,0)));n-=s.ganttStartX;c.scroll={};h=new Date(c&&c.min);if(-1!==m){switch(g){case"y":h.setYear(h.getFullYear()+m);break;case"m":h.setMonth(h.getMonth()+m);break;case"d":h.setDate(h.getDate()+m);break;case"h":h.setHours(h.getHours()+m);break;case"mn":h.setMinutes(h.getMinutes()+m);break;default:h.setSeconds(h.getSeconds()+m)}h=h.getTime();h>e.min&&h<e.max&&(e.visibleMax=h,c.scroll.enabled=!0)}if(p.enabled||c.scroll.enabled)r-=t;p=r/l.processCount;y=a(o.rowheight,y);0<y-p&&(y=3>y-p?p:r/k(r/y));l.maxProcessHeight=y;v.enabled&&p<y?(p=y,v.startPercent=Boolean(a(o.scrolltoend,0)),n-=t):v.enabled=!1;c.scroll.startPercent=a(o.scrolltoend,0);if(Infinity===e.min||-Infinity===e.max||e.min===e.max)e.min=c.min=0,e.max=c.max=1;if(Infinity===c.min||-Infinity===c.max)c.min=e.min,c.max=e.max;c.axis=new X(e,n);c.startX=c.axis.getPixel(A(c.min,e.min));c.endX=c.axis.getPixel(L(c.max,e.max));c.visibleW=n;i&&i>c.min&&i<c.max&&(c.scroll.startPercent=A((c.axis.getPixel(i)-c.startX)/(c.endX-c.startX-c.visibleW),1));for(s.processHeight=r+l.dimension.h;l;)l.nextCol&&(l.nextCol.dimension.h=p),l=l.nextRow}}},i.gaugebase);s("renderer.gantt",{drawProcess:function(e){var t=this,n=t.options,r=n.chart,i=t.paper,s=t.logic,o=s.smartLabel,a=t.canvasTop,f=t.canvasLeft,l=t.layers,h=l.gridLayer,p=l.gridHeaderLayer,d=r.gridBorderThickness,v=.5*d,m=r.gridBorderColor,y=r.gridBorderDashStyle,b=0,w=0,E=[],S=a,x=e.dimension.w||16,N=e.dimension.x||0,k=n.dataTable.processHeader,A=k.nextCol.dimension.h,O=k.dimension.h+k.processCount*k.nextCol.dimension.h,s=c(u(s.dataObj.chart.rolloverbandcolor,"#FF0000"),u(s.dataObj.chart.rolloverbandalpha,30)),_=k.items||(k.items={}),n=n.categories||{},D,j,F,I,X,$,J,K,Q,G,Z;_.hoverEle||(_.hoverEle=i.rect(n.startX,0,n.endX,A,0,l.dataset).attr({fill:s,visibility:"hidden","stroke-width":0}));Q=function(e){P.call(this,t,e,"ProcessClick")};G=function(e){H=clearTimeout(H);B&&t.gridOutHandler.call(B);B=null;t.gridHoverHandler.call(this);P.call(this,t,e,"ProcessRollOver")};for(Z=function(e){B=this;H=clearTimeout(H);H=setTimeout(function(){t.gridOutHandler.call(B)},500);P.call(B,t,e,"ProcessRollOut")};e;)K=e.dimension,J=f+N,F=e.text,F=e.align,_=e.items||(e.items={}),A=e.link,j=e.isHeader?p:h,I=_.background,n=C(S+w)-.5,F={x:C(J+b)-.5,y:n,width:x+.5,height:K.h+v+.5,radius:0,fill:e.bgColor||T,"stroke-dasharray":y,stroke:m,cursor:A?"pointer":"","stroke-width":0},I?I.attr(F):(_.background=i.rect(j).attr(F).hover(G,Z),D={label:e.text,vAlign:e.vAlign,align:e.align,link:e.link,id:e.id},_.background.click(Q).data("dataObj",e).data("eventArgs",D).data("data",{y:n,gridObj:e,rollOverColor:s,useHover:!0,useNext:!0,hoverEle:k.items.hoverEle})),e.isNaN||(K=e.dimension,F=e.text,F=e.align,I=_.label,F=e.text,q(F)&&""!==F&&($=e.style,o.setStyle($),X=o.getSmartText(F,x-8,L(M($.lineHeight,10),K.h)),$.title=X.oriText,F=e.align,F={text:X.text,x:J+x*U[F]+W[F],y:S+K.h-K.h*z[e.vAlign],"text-anchor":R[F],cursor:A?"pointer":"","vertical-align":e.vAlign},I?I.attr(F):_.label=i.text(j).attr(F).css($).hover(G,Z).click(Q).data("eventArgs",D).data("dataObj",e).data("data",{y:n,gridObj:e,rollOverColor:s,useHover:!0,useNext:!0,hoverEle:k.items.hoverEle}))),e.xPos=J,e.yPos=C(S+K.h)-d%2*.5,E.push("M",J,e.yPos,"h",x),(I=_.hBorder)?I.attr("path",E):_.hBorder=i.path(E,j).attr({"stroke-dasharray":y,stroke:m,"stroke-width":d}),S+=K.h,e.nextCol||(b=v,w-=0,I=e.first.items.vBorder,F=["M",C(J+x)-d%2*.5,a,"v",O],I?I.attr("path",F):e.first.items.vBorder=i.path(F,p).attr({"stroke-dasharray":y,stroke:m,"stroke-width":d}),e.nextRow&&!e.isLast&&(e.first.items.dragEle||(e.first.items.dragEle=i.path(F,l.gridTracker).attr({stroke:r.gridResizeBarColor,"stroke-width":r.gridResizeBarThickness,visibility:"hidden"})),e.first.items.tracker||(e.first.items.tracker=i.path(F,l.gridTracker).attr({stroke:T,ishot:!0,"stroke-width":30}).css("cursor",g.svg&&"ew-resize"||"e-resize").drag(this.dragMove,this.dragStart,this.dragUp).data("drag-options",{grid:e.first,xPos:C(J+x)-d%2*.5,chart:t})))),e=e.nextCol},dragStart:function(){var e=this.data("drag-options"),t=e.grid,n=t.items,r=t.nextRow,i={style:{lineHeight:16}},s=t.nextCol.style||i,o=r&&r.nextCol&&r.nextCol.style||i,u=e.chart,f=u.canvasLeft,l=t.dimension,s=L(M(t.style.lineHeight,10),M(s.lineHeight,10))+2,i=L(M((r||i).style.lineHeight,10),M(o.lineHeight,10))+2;e.leftSideLimit=f+a(t.dimension.x,0)+s;e.rightSideLimit=f+a(r&&r.dimension.x+r.dimension.w,l.x+l.w)-i;e.origX=e.lastX||(e.lastX=0);n.dragEle.show();u.trackerClicked=!0;e.draged=!1},dragMove:function(e){var t=this.data("drag-options"),n=t.grid.items,r=t.xPos+e,i=t.leftSideLimit,s=t.rightSideLimit;r<i&&(e=i-t.xPos);r>s&&(e=s-t.xPos);r={transform:"t"+(t.origX+e)+y+0};this.attr(r);n.dragEle.attr(r);t.draged=!0;t.lastX=e},dragUp:function(){var e=this.data("drag-options"),t=e.chart,n=e.grid,r=n.nextRow,i=t.canvasLeft,s=n.dimension,u=r&&r.dimension,a=n.items,f={hcJSON:{dataTable:{}}};t.trackerClicked=!1;a.dragEle.hide();e.draged&&(s.w=e.xPos+e.lastX-i-s.x,n.nextCol&&(n.nextCol.dimension.w=s.w),f.hcJSON.dataTable[n.key]={dimension:s},r&&(u.w+=u.x-s.x-s.w,u.x=s.x+s.w,r.dimension.w=u.w,r.dimension.x=u.x,t.drawProcess(r),f.hcJSON.dataTable[r.key]={dimension:u}),t.drawProcess(n),o(t.logic.chartInstance.jsVars._reflowData,f,!0),e.xPos+=e.lastX,e.lastX+=e.origX)},drawCategories:function(){var e=this,t=e.options,n=t.chart,r=e.paper,i=e.layers,s=e.logic.smartLabel,o=e.canvasTop,u=t.categories,f=t.dataTable.processHeader,l=u.FCCAT_0_0,c=u.axis,h=u.endX,p=u.startX,d=h-p,v=n.ganttLineThickness,m=f.totalPH+f.dimension.h,g=[],y=[],b=i.dataset,i=i.ganttHeaderLayer,w,E,S,x,N,C,A,O,M,_,D,j,F,I,q;F=function(t){P.call(this,e,t,"CategoryClick")};I=function(t){H=clearTimeout(H);B&&e.gridOutHandler.call(B);B=null;e.gridHoverHandler.call(this);P.call(this,e,t,"CategoryRollOver")};q=function(t){B=this;H=clearTimeout(H);H=setTimeout(function(){e.gridOutHandler.call(B)},500);P.call(B,e,t,"CategoryRollOut")};x=u.items||(u.items={});f=t.dataTable.processHeader;for(x.hoverEle=r.rect(0,o+f.dimension.h,50,m,0,b).attr({fill:T,visibility:"hidden","stroke-width":0});l;)E=d/l.dimension.numCat,N=p+E*(l.index+1),M=N-E,O=l.dimension.h,_=M,j=o+l.dimension.y,C=l.align,A=l.vAlign,S=l.link,x=l.items||(l.items={}),E=!(!l.nextRow&&l.nextCol),D=t.verticalScroll.enabled&&E?t.scrollOptions.height:0,w={align:l.align,vAlign:l.vAlign,link:l.link,text:l.text},M=_=a(c.getPixel(l.start),M),N=a(c.getPixel(!E&&l.nextCol.start||(E?L(l.end||0,t.max):void 0)),N),E=N-M,_=k(_)+.5,j=k(j)+.5,l.isLast&&(g.push("M",_,j,"v",m),j-=.5*v,O-=v,n.extendCategoryBg&&r.rect(_,j,E,m,0,b).attr({fill:l.bgColor,"stroke-width":0,stroke:n.ganttLineColor}).toBack()),x.background=r.rect(_,j,E+D,O,0,i).attr({fill:l.bgColor,"stroke-width":0,cursor:S?"pointer":"",stroke:n.ganttLineColor}).click(F).data("eventArgs",w).data("dataObj",l).hover(I,q).data("data",{x:_,width:E,gridObj:l,hoverEle:u.items.hoverEle}),y.push("M",_,j,"v",O),l.nextRow&&y.push("M",p,j+O,"H",h+D),s.setStyle(l.style),N=s.getSmartText(l.text,E-5,O),l.style.title=N.oriText,x.label=r.text(i).attr({text:N.text,x:_+E*U[C]+W[C],y:j+O-O*z[A],"text-anchor":R[C],cursor:S?"pointer":"","vertical-align":A}).css(l.style).hover(I,q).click(F).data("eventArgs",w).data("dataObj",l).data("data",{x:_,width:E,gridObj:l,hoverEle:u.items.hoverEle}),l=l.nextCol;for(;f;)g.push("M",u.startX,f.yPos,"H",h),f=f.nextCol;x=u.items||(u.items={});x.headerGrid=r.path(y,i).attr({"stroke-dasharray":n.ganttLineDashStyle,"stroke-width":v,stroke:n.ganttLineColor});x.processGrid=r.path(g,b).attr({"stroke-dasharray":n.ganttLineDashStyle,"stroke-width":n.ganttLineThickness,stroke:n.ganttLineColor})},drawScroller:function(){var t=this,n=t.options,r=t.paper,i=t.layers,s=t.canvasTop,u=t.canvasHeight,f=n.scrollOptions,l=n.categories,c=l.startX,h=l.endX-c,p=f.flatScrollBars,d={hcJSON:{categories:{scroll:{}}}},v=i.dataset,m=i.datalabels,y=i.ganttTracker,b=i.ganttHeaderLayer,w=t.logic.chartInstance&&t.logic.chartInstance.jsVars._reflowData||{},E=n.chart,S=i.gridLayer,x=(c=n.dataTable)&&c.processHeader,T=t.canvasLeft,N=t.canvasWidth,C=E.gridBorderThickness,L=E.totalGridWidth,O=A(E.ganttStartX,L)+C,M=l.scroll,_=c&&c.__scrollOptions,D=n.verticalScroll,P={hcJSON:{dataTable:{__scrollOptions:{}},verticalScroll:{}}},H=P.hcJSON.dataTable.__scrollOptions,B=x.totalPH=x.processCount*x.nextCol.dimension.h,j=i.gridHeaderLayer,F=i.gridTracker,I,q,c=a(l.startX,E.ganttStartX),i=i.scroll=i.scroll||r.group("scroll").insertAfter(y);M.enabled&&(n=l.visibleW/h,M.scroller=r.scroller(c,s+u-f.height,l.visibleW,f.height,!0,{showButtons:f.showButtons,displayStyleFlat:p,buttonWidth:f.buttonWidth,scrollRatio:n,scrollPosition:M.startPercent},i).attr({"scroll-display-style":p,fill:f.color}).scroll(function(e){q=-k(e*(h-l.visibleW));v&&v.transform(["T",q,v.data("vOffset")]);m&&m.transform(["T",q,m.data("vOffset")]);y&&y.transform(["T",q,y.data("vOffset")]);b&&b.transform(["T",q,0]);v&&v.data("hOffset",q);m&&m.data("hOffset",q);y&&y.data("hOffset",q);d.hcJSON.categories.scroll.startPercent=e;o(w,d,!0)}),function(){var n;g.eve.on("raphael.scroll.start."+M.scroller.id,function(r){n=r;e.raiseEvent("scrollstart",{scrollPosition:r},t.logic.chartInstance)});g.eve.on("raphael.scroll.end."+M.scroller.id,function(r){e.raiseEvent("scrollend",{prevScrollPosition:n,scrollPosition:r},t.logic.chartInstance)})}(),M.startPercent&&(q=-k(M.startPercent*(h-l.visibleW)),v&&v.data("hOffset",q),m&&m.data("hOffset",q),y&&y.data("hOffset",q),b&&b.transform(["T",q,0]),v&&v.transform(["T",q,v.data("vOffset")]),m&&m.transform(["T",q,v.data("vOffset")]),y&&y.transform(["T",q,v.data("vOffset")])));_.enabled&&(_.scroller=r.scroller(T,s+u-f.height,O,f.height,!0,{showButtons:f.showButtons,displayStyleFlat:p,buttonWidth:f.buttonWidth,scrollRatio:O/L,scrollPosition:_.startPercent},i).attr({"scroll-display-style":p,fill:f.color}).scroll(function(e){q=-k(e*(L-O));S&&S.transform(["T",q,S.data("vOffset")]);j&&j.transform(["T",q,0]);F&&F.transform(["T",q,F.data("vOffset")]);S.data("hOffset",q);j.data("hOffset",q);F.data("hOffset",q);H.startPercent=e;o(w,P,!0)}),function(){var n;g.eve.on("raphael.scroll.start."+_.scroller.id,function(r){n=r;e.raiseEvent("scrollstart",{scrollPosition:r},t.logic.chartInstance)});g.eve.on("raphael.scroll.end."+_.scroller.id,function(r){e.raiseEvent("scrollend",{prevScrollPosition:n,scrollPosition:r},t.logic.chartInstance)})}(),_.startPercent&&(q=-k(_.startPercent*(L-O)),S&&S.transform(["T",q,0]),F&&F.transform(["T",q,0]),j&&j.transform(["T",q,0]),S.data("hOffset",q),F.data("hOffset",q)));D.enabled&&(I=E.processHeight-x.dimension.h,D.scroller=r.scroller(T+N-f.height,s+x.dimension.h,f.height,E.processHeight-x.dimension.h,!1,{showButtons:f.showButtons,displayStyleFlat:p,buttonWidth:f.buttonWidth,scrollRatio:I/B,scrollPosition:D.startPercent},i).attr({"scroll-display-style":p,fill:f.color}).scroll(function(e){q=-k(e*(B-I));S&&S.transform(["T",S.data("hOffset"),q]);v&&v.transform(["T",v.data("hOffset"),q]);m&&m.transform(["T",m.data("hOffset"),q]);y&&y.transform(["T",y.data("hOffset"),q]);F&&F.transform(["T",F.data("hOffset"),q]);S.data("vOffset",q);F.data("vOffset",q);v.data("vOffset",q);y.data("vOffset",q);m.data("vOffset",q);P.hcJSON.verticalScroll.startPercent=e;o(w,P,!0)}),function(){var n;g.eve.on("raphael.scroll.start."+D.scroller.id,function(r){n=r;e.raiseEvent("scrollstart",{scrollPosition:r},t.logic.chartInstance)});g.eve.on("raphael.scroll.end."+D.scroller.id,function(r){e.raiseEvent("scrollend",{prevScrollPosition:n,scrollPosition:r},t.logic.chartInstance)})}(),D.startPercent&&(q=-k(D.startPercent*(B-I)),S&&S.transform(["T",S.data("hOffset"),q]),v&&v.transform(["T",v.data("hOffset"),q]),m&&m.transform(["T",m.data("hOffset"),q]),y&&y.transform(["T",y.data("hOffset"),q]),F&&F.transform(["T",F.data("hOffset"),q]),S.data("vOffset",q),F.data("vOffset",q),v.data("vOffset",q),m.data("vOffset",q),y.data("vOffset",q)))},finalizeScrollPlots:function(){var e=this,n=e.options,r=e.canvasTop,i=n.categories,s=i.endX,o=i.startX,u=i.scroll,a=n.chart,f=n.dataTable,l=f&&f.processHeader,c=e.canvasLeft,h=a.gridBorderThickness,p=a.totalGridWidth,d=A(a.ganttStartX,p)+h,v,m,g,y,b,w=s-o-i.visibleW,s=e.container,E=f&&f.__scrollOptions,S=n.verticalScroll,x=l.totalPH,T=a.processHeight-l.dimension.h,N,C,k,L,O,u=i.scroll,n=function(n){var s=e.elements.canvas,a=L.left,f=L.top,h=n.type,A=j&&t.getTouchEvent(n)||D,a=n.layerX||A.layerX||(n.pageX||A.pageX)-a;n=n.layerY||A.layerY||(n.pageY||A.pageY)-f;switch(h){case"dragstart":O=s.isPointInside(a,n);N=a>o&&a<o+i.visibleW;k=a>c&&a<o+i.visibleW&&n>r+l.dimension.h;C=a<o;v=O&&a||null;m=O&&n||null;break;case"dragend":O=!1;b=y=g=m=v=void 0;break;default:if(!O||e.trackerClicked)break;s=a-v;h=n-m;v=a;m=n;N&&u&&u.scroller&&(g=u.scroller.attrs["scroll-position"]-s/w,u.scroller.attr({"scroll-position":g}));k&&S&&S.scroller&&(y=S.scroller.attrs["scroll-position"]-h/(x-T),S.scroller.attr({"scroll-position":y}));C&&E&&E.scroller&&(b=E.scroller.attrs["scroll-position"]-s/(p-d),E.scroller.attr({"scroll-position":b}))}};j&&(L=t.getPosition(s),s&&(I(s,"dragstart drag dragend",n),F(s,"dragstart drag dragend",n)))},gridHoverHandler:function(){var e=this.data("data"),t=e.gridObj,n=!!t.prevRow,r={};if(!t.isHeader)if(e.x&&(r.x=e.x),e.y&&(r.y=e.y),e.width&&(r.width=e.width),e.height&&(r.height=e.height),t.hoverColor&&(r.fill=t.hoverColor),t.usePlotHover&&e.hoverEle.attr(r).show(),e.useNext&&t.useHover){for(;t&&n;)t=t.prevRow,n=!!t.prevRow;for(;t;)t.items.background.attr("fill",t.hoverColor),t=t.nextRow}else t.useHover&&t.items.background.attr("fill",t.hoverColor)},gridOutHandler:function(){var e=this.data("data"),t=e.gridObj,n=!!t.prevRow;if(!t.isHeader)if(t.usePlotHover&&e.hoverEle.hide(),e.useNext&&t.useHover){for(;t&&n;)t=t.prevRow,n=!!t.prevRow;for(;t;)t.items.background.attr("fill",t.bgColor||T),t=t.nextRow}else t.useHover&&t.items.background.attr("fill",t.bgColor)},drawAxes:function(){if(this.options.dataTable){s["renderer.cartesian"].drawAxes.call(this,arguments);var e=this.options,t=e.chart,n=this.paper,r=this.layers,i=r.layerBelowDataset,o=r.layerAboveDataset,u=r.gridLayer,f=r.dataset,l=e.dataTable,c=e.categories,l=l&&l.processHeader,h=this.canvasTop,f=this.canvasLeft,u=t.gridBorderThickness,p=A(t.ganttStartX,t.totalGridWidth)+u,d=l.dimension,v=d.h,d=t.processHeight-d.h,m=a(c.startX,t.ganttStartX),c=c.visibleW,t=.5*t.ganttLineThickness,u=.5*u;l.totalPH=l.processCount*l.nextCol.dimension.h;u=r.gridLayer=r.gridLayer||n.group("grid",i).attr({"clip-rect":[f,h+v+u,p,d-u]});r.gridHeaderLayer=r.gridHeaderLayer||n.group("grid-header",i).attr({"clip-rect":[f,h,p,v+d]});i=r.gridTracker=r.gridTracker||n.group("grid-tracker",i).attr({"clip-rect":[f,h,p,v+d]});u.data("vOffset",0);u.data("hOffset",0);i.data("vOffset",0);i.data("hOffset",0);r.ganttHeaderLayer=r.ganttHeaderLayer||n.group("gantt",o).attr({"clip-rect":[m,h,c+(e.verticalScroll.enabled?e.scrollOptions.height:0),this.chartHeight]});f=r.dataset.attr({"clip-rect":[m,h+v-t,c,d+t]});e=r.datalabels.attr({"clip-rect":[m,h+v-t-10,c,d+t+10]});n=r.ganttTracker=n.group("gantt-hot",r.tracker).attr({"clip-rect":[m,h+v-t,c,d+t]});f.data("vOffset",0);f.data("hOffset",0);e.data("vOffset",0);e.data("hOffset",0);n.data("vOffset",0);for(n.data("hOffset",0);l;)this.drawProcess(l),l=l.nextRow;this.drawCategories()}},drawPlotGantt:function(e){var t=this,n=t.options,r=n.chart,i=t.paper,s=t.layers,o=e.data,f=e.items,l=o.length,c=s.dataset,h=s.datalabels,p=n.dataTable,d=p.processHeader,v=n.categories,m=v.axis,y=t.canvasTop,b=r.taskBarRoundRadius,l=n.plotOptions.series,w=isNaN(+l.animation)&&l.animation.duration||1e3*l.animation,E=n.tasksMap||(n.tasksMap={}),x=n.milestone,N=n.trendlines,C=d.dimension.h,L=r.taskDatePadding,D,H,B,j,F,I,z,X,V,$,J,K,Q,G,Z,et,tt,nt,rt,it,st;e.graphics=[];Z=c.shadows||(c.shadows=i.group("shadows",c));l=N&&N.length;for(e=0;e<l;e+=1)J=N[e],J.end||(J.end=J.start),J.end&&(rt=m.getPixel(J.start),et=m.getPixel(J.end),it=J.thickness,n=J.items||(J.items={}),D=void 0,J.isTrendZone?($=["M",rt+.5*(et-rt),y+C,"v",y+d.totalPH],it=et-rt):($=["M",rt,y+C,"L",et,y+C+d.totalPH],D=J.dashedStyle),n.trendLine=i.path($,c).attr({stroke:J.color,"stroke-width":it,"stroke-dasharray":D}),q(J.displayValue)&&""!==J.displayValue&&(n.label=i.text(s.ganttHeaderLayer).attr({text:J.displayValue,x:$[1],y:0}).css(J.style),D=n.label._getBBox().height,J=y+r.processHeight+(!v.scroll.enabled||r.marginBottom<D?.5*D:-(.5*D)-5),n.label.attr("y",J)));h.hide();s=function(){h.show()};N=d=function(e){P.call(this,t,e)};v=function(e){P.call(this,t,e,"DataPlotRollOver")};y=function(e){P.call(this,t,e,"DataPlotRollOut")};C=function(e){e&&e.click(function(e){P.call(this,t,e)}).hover(function(e){var n=this.data("dataObj");P.call(this,t,e,"DataPlotRollOver");n.showHoverEffect&&t.taskHoverHandler.call(this,t)},function(e){var n=this.data("dataObj");P.call(this,t,e,"DataPlotRollOut");n.showHoverEffect&&t.taskHoverOutHandler.call(this,t)}).data("dataObj",nt).data("eventArgs",H)};l=o.length;for(e=0;e<l;e+=1)nt=o[e],n=nt.processId,J=p[n],et=tt=nt.color,n=nt.items||(nt.items={}),$=nt.animation?w||1e3:0,J&&(st=nt.borderThickness,rt=k(m.getPixel(nt.start)),it=O(j=m.getPixel(nt.end)-rt),rt&&it&&(B=J.dimension.h,J=J.yPos-B,D=B*(/%/g.test(nt.height)&&.01*_(nt.height,10))||a(nt.height,B),K=B*(/%/g.test(nt.topPadding)&&.01*_(nt.topPadding,10))||a(nt.topPadding,B),J+=A(K,B-D),G=.5*D,Q=nt.toolText,K=nt.link,(B=f[e])||(B=f[e]={index:e,dataLabel:null,start:nt.start,end:nt.end,startLabel:null,endLabel:null,tracker:null}),nt.index=e,F=u(nt.id,e),""!==F&&E[F]&&(E[F].items=B,E[F].x=rt,E[F].y=J,E[F].h=D,E[F].w=it),j=F=I=z=X=V=null,nt.showAsGroup?($?(j=i.path(["M",rt,J],c),j.animate({path:["M",rt,J,"v",D,"L",rt+G,J+G,"H",rt+it-G,"L",rt+it,J+D,"v",-D,"H",rt]},$,"normal",s)):(j=i.path(["M",rt,J,"v",D,"L",rt+G,J+G,"H",rt+it-G,"L",rt+it,J+D,"v",-D,"H",rt],c),s&&s()),j.attr({fill:et,stroke:nt.borderColor,cursor:K?"pointer":"",ishot:!0,"stroke-width":nt.borderThickness}).tooltip(Q).shadow(r.shadow&&nt.shadow,Z)):(-1!==nt.percentComplete&&(j=it*nt.percentComplete*.01,et=T,F=n.taskFill=i.rect(rt,J,0,D,0,c).attr({fill:tt,cursor:K?"pointer":"",ishot:!0,"stroke-width":0,width:$?0:j||1}).tooltip(Q),$&&F.animate({width:j||1},$,"normal"),I=i.rect(rt,J,0,D,0,c).attr({fill:nt.slackColor,cursor:K?"pointer":"",ishot:!0,"stroke-width":0,x:$?rt:rt+j||1,width:$?0:it-j||1}).tooltip(Q),$&&I.animate({x:rt+j||1,width:it-j||1},$,"normal")),n=g.crispBound(rt,J,it,D,st),j=i.rect(n.x,n.y,0,n.height,b,c).attr({fill:et,stroke:nt.borderColor,cursor:K?"pointer":"",ishot:!0,"stroke-width":nt.borderThickness,width:$?0:n.width||1}).tooltip(Q).shadow(r.shadow&&nt.shadow,Z),$?j.animate({width:n.width||1},$,"normal",s):s&&s()),q(nt.label)&&""!==nt.label&&(n=nt.labelAlign,z=i.text().attr({text:nt.label,x:rt+it*U[n]+W[n],"text-anchor":R[n],cursor:K?"pointer":"",ishot:!0,y:J-.5*M(nt.style.lineHeight,10)-r.taskLabelPadding}).css(nt.style),h.appendChild(z)),q(nt.startDate)&&""!==nt.startDate&&(X=i.text().attr({text:nt.startDate,x:rt-2-L,y:J+.5*D,cursor:K?"pointer":"",ishot:!0,"text-anchor":"end"}).css(nt.style),h.appendChild(X)),q(nt.endDate)&&""!==nt.endDate&&(V=i.text().attr({text:nt.endDate,x:rt+it+2+L,y:J+.5*D,cursor:K?"pointer":"",ishot:!0,"text-anchor":"start"}).css(nt.style),h.appendChild(V)),B.graphic=j,B.percentCompleteGraphic=F,B.slackGraphic=I,B.dataLabel=z,B.startLabel=X,B.endLabel=V,H={processId:nt.processId,taskId:nt.id,start:nt._start,end:nt._end,showAsGroup:nt.showAsGroup,sourceType:"task",percentComplete:-1!==nt.percentComplete&&nt.percentComplete},F&&F.click(d).hover(v,y).data("eventArgs",H),I&&I.click(N).data("eventArgs",H),S([j,z,X,V],C)));f=function(e){P.call(this,t,e,"MilestoneClick")};p=function(e){var n=this.data("dataObj");P.call(this,t,e,"MilestoneRollOver");n.showHoverEffect&&n.items.graphic.attr({fill:n.hoverFillColor,stroke:n.hoverBorderColor,"fill-opacity":n.hoverFillAlpha,"stroke-opacity":n.hoverBorderAlpha})};b=function(e){var n=this.data("dataObj");P.call(this,t,e,"MilestoneRollOut");n.showHoverEffect&&n.items.graphic.attr({fill:n.fillColor,stroke:n.borderColor,"fill-opacity":n.fillAlpha,"stroke-opacity":n.borderAlpha})};this.drawConnectors();n=null;l=x&&x.length;for(e=0;e<l;e+=1)r=x[e],J=E[r.taskId],n=r.items||(r.items={}),J&&(o=g.animation({"fill-opacity":r.fillAlpha,"stroke-opacity":r.borderAlpha},w,"normal"),H={sides:r.sides,date:r.origDate,radius:r.radius,taskId:r.taskId,toolText:r.toolText,numSides:r.numSides},n.graphic=i.polypath(r.numSides,m.getPixel(r.date.ms),J.y+.5*J.h,a(r.radius,.6*J.h),r.startAngle,r.depth,c).attr({fill:r.fillColor,"fill-opacity":w?0:r.fillAlpha,stroke:r.borderColor,"stroke-opacity":w?0:r.borderAlpha,ishot:!0,cursor:r.link?"pointer":"","stroke-width":r.borderThickness}).tooltip(r.toolText).click(f).data("eventArgs",H).data("dataObj",r),w&&n.graphic.animate(o.delay(w)),n.graphic.hover(p,b))},taskHoverOutHandler:function(e){var t=e.options.tasksMap;e=this.data("dataObj");var t=t[u(e.id,e.index)].items,n={fill:e.color,stroke:e.borderColor,"stroke-width":e.borderThickness,"stroke-dasharray":e.dashedStyle};-1===e.percentComplete||e.showAsGroup||(t.slackGraphic.attr({fill:e.slackColor}),t.percentCompleteGraphic.attr({fill:e.color}),delete n.fill);t.graphic.attr(n)},taskHoverHandler:function(e){var t=e.options.tasksMap;e=this.data("dataObj");var t=t[u(e.id,e.index)].items,n={fill:e.hoverFillColor,stroke:e.hoverBorderColor};-1===e.percentComplete||e.showAsGroup||(t.slackGraphic.attr({fill:e.slackHoverColor}),t.percentCompleteGraphic.attr({fill:e.hoverFillColor}),delete n.fill);t.graphic.attr(n)},drawConnectors:function(){var e=this,t=e.paper,n=e.options,r=n.chart.connectorExtension,i=n.connectors,s=n.tasksMap,o=i.length,u=e.layers.dataset,a=[],n=n.plotOptions.series,n=isNaN(+n.animation)&&n.animation.duration||1e3*n.animation,f,l,c,h,p,d,v,m,y,b,w,E,x,N,C;x=function(t){P.call(this,e,t,"ConnectorClick")};N=function(t){var n=this.data("dataObj"),r=s[n.fromTaskId],i=s[n.toTaskId],o={stroke:n.hoverColor,"stroke-dasharray":n.dashedStyle,"stroke-width":n.hoverThickness};P.call(this,e,t,"ConnectorRollOver");n.showHoverEffect&&(S([r,i],function(e){var t={fill:e.dataObj.hoverFillColor,stroke:e.dataObj.hoverBorderColor};-1===e.dataObj.percentComplete||e.dataObj.showAsGroup||(e.items.slackGraphic.attr({fill:e.dataObj.slackHoverColor}),e.items.percentCompleteGraphic.attr({fill:e.dataObj.hoverFillColor,stroke:e.dataObj.hoverBorderColor}),delete t.fill);e.items.graphic.attr(t)}),n.items.connector.attr(o))};C=function(t){var n=this.data("dataObj"),r=s[n.fromTaskId],i=s[n.toTaskId],o={stroke:n.color,"stroke-width":n.thickness,"stroke-dasharray":n.dashedStyle};P.call(this,e,t,"ConnectorRollOut");n.showHoverEffect&&(S([r,i],function(e){var t={fill:e.dataObj.color,stroke:e.dataObj.borderColor,"stroke-width":e.dataObj.borderThickness,"stroke-dasharray":e.dataObj.dashedStyle};-1===e.dataObj.percentComplete||e.dataObj.showAsGroup||(e.items.slackGraphic.attr({fill:e.dataObj.slackColor}),e.items.percentCompleteGraphic.attr({fill:e.dataObj.color}),delete t.fill);e.items.graphic.attr(t)}),n.items.connector.attr(o))};for(f=0;f<=o;f+=1)if(c=i[f]||{},d=c.fromTaskId,h=c.toTaskId,l=s[d],y=s[h],h=c.items||(c.items={}),l&&y){b=l.y+.5*l.h;w=y.y+.5*y.h;p=b==w;d=l.x;v=l.x+l.w;m=y.x;y=y.x+y.w;E=E=0;0===c.fromTaskConnectStart&&1===c.toTaskConnectStart&&(E=1);0===c.fromTaskConnectStart&&0===c.toTaskConnectStart&&(E=2);1===c.fromTaskConnectStart&&1===c.toTaskConnectStart&&(E=3);1===c.fromTaskConnectStart&&0===c.toTaskConnectStart&&(E=4);if(p)switch(l=l.height,E){case 1:E=(m-v)/10;a=["M",v,b,v+E,b,"L",v+E,b,v+E,b-l,"L",v+E,b-l,m-E,b-l,"L",m-E,b-l,m-E,b,"L",m-E,b,m,w,"L",y+r,w,y,w];break;case 2:a=["M",v,b,v+r,b,"L",v+r,b,v+r,b-l,"L",v+r,b-l,y+r,b-l,"L",y+r,w-l,y+r,w];break;case 3:a=["M",d,b,d-r,b,"L",d-r,b,d-r,b-l,"L",d-r,b-l,m-r,b-l,"L",m-r,b-l,m-r,b,"L",m-r,b,m,b];break;case 4:a=["M",d,b,d-r,b,"L",d-r,b,d-r,b-l,"L",d-r,b-l,y+r,b-l,"L",y+r,b-l,y+r,b,"L",y+r,b,y,b]}else switch(E){case 1:a=["M",v,b,v+(m-v)/2,b,"L",v+(m-v)/2,b,v+(m-v)/2,w,"L",v+(m-v)/2,w,m,w];a=v<=m?["M",v,b,v+(m-v)/2,b,"L",v+(m-v)/2,b,v+(m-v)/2,w,"L",v+(m-v)/2,w,m,w]:["M",v,b,v+r,b,"L",v+r,b,v+r,b+(w-b)/2,"L",v+r,b+(w-b)/2,m-r,b+(w-b)/2,"L",m-r,b+(w-b)/2,m-r,w,"L",m-r,w,m,w];break;case 2:E=0>y-v?0:y-v;a=["M",v,b,v+r+E,b,"L",v+r+E,b,v+r+E,w,"L",v+r+E,w,y,w];break;case 3:E=0>d-m?0:d-m;a=["M",d,b,d-r-E,b,"L",d-r-E,b,d-r-E,w,"L",d-r-E,w,m,w];break;case 4:a=d>y?["M",d,b,d-(d-y)/2,b,"L",d-(d-y)/2,b,d-(d-y)/2,w,"L",d-(d-y)/2,w,y,w]:["M",d,b,d-r,b,"L",d-r,b,d-r,b+(w-b)/2,"L",d-r,b+(w-b)/2,y+r,b+(w-b)/2,"L",y+r,b+(w-b)/2,y+r,w,"L",y+r,w,y,w]}h.connector?h.connector.animate({path:a}):(d=g.animation({"stroke-opacity":c.alpha},n,"normal"),h.connector=t.path(a,u).attr({stroke:c.color,"stroke-opacity":0,"stroke-width":c.thickness,"stroke-dasharray":c.dashedStyle}).animate(d.delay(n)));d={fromTaskId:c.fromTaskId,toTaskId:c.toTaskId,fromTaskConnectStart:c.fromTaskConnectStart,toTaskConnectStart:c.toTaskConnectStart,sourceType:"connector"};h.tracker=t.path(a,u).attr({stroke:T,"stroke-width":L(c.thickness,10),ishot:!0,cursor:c.link?"pointer":""}).data("dataObj",c).data("eventArgs",d).click(x);h.tracker.hover(N,C)}}},s["renderer.cartesian"])}])