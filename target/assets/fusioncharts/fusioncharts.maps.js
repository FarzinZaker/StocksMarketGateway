FusionCharts.register("module",["private","modules.renderer.js-gradientlegend",function(){function e(e,t,n){var r=e[0],i=e[1];e=e[2];r+=(t[0]-r)*n;i+=(t[1]-i)*n;t=e+(t[2]-e)*n;return{hex:(a+(r<<16|i<<8|t).toString(16)).slice(-6),rgb:[r,i,t]}}function t(e,t){return e.maxvalue-t.maxvalue}function n(n){var r,i,s=n.colorRange||{},o=n.dataMin,a=n.dataMax,f=n.sortLegend||!1,l=n.mapByCategory||!1,c=n.defaultColor,m=n.numberFormatter,b=s.color;n=this.colorArr=[];var w,E,S;this.mapByCategory=l;"1"===s.mapbypercent&&(this.mapbypercent=!0);if("1"===s.gradient&&!l){this.gradient=!0;i=I(C(s.startcolor,s.mincolor,s.code));f=v(I(C(i,c,"CCCCCC")));l=this.scaleMin=u(s.startvalue,s.minvalue,this.mapbypercent?0:o);n.push({code:i,maxvalue:l,label:y(s.startlabel),codeRGB:v(i)});if(b&&(r=b.length))for(o=0;o<r;o+=1)c=b[o],i=I(C(c.color,c.code)),E=u(c.value,c.maxvalue),S=u(c.minvalue),E>l&&n.push({code:i,maxvalue:E,userminvalue:S,label:y(C(c.label,c.displayvalue)),codeRGB:v(i)});n.sort(t);r=n.length;for(o=1;o<r;o+=1)c=n[o],i=c.maxvalue-l,0<i?(c.minvalue=l,c.range=i,l=c.maxvalue):(n.splice(o,1),o-=1,r-=1);2<=n.length&&(this.scaleMax=l,n[o-1].label=C(s.endlabel,n[o-1].label,n[o-1].displayvalue));1===n.length&&(E=u(s.maxvalue,this.mapbypercent?100:a),n.push({minvalue:l,maxvalue:E,range:E-l,label:s.endlabel}),this.scaleMax=E,delete n[0].code);s=n[0];a=n[n.length-1];s.code&&a.code||(i=p(f),r=h((i[2]=0,i)),i=h((i[2]=100,i)),s.code||(s.codeRGB=r,s.code=d(r)),a.code||(a.codeRGB=i,a.code=d(i)));r=n.length;for(o=1;o<r;o+=1)if(c=n[o],c.code){if(w)for(a=c,S=s.maxvalue,b=a.maxvalue-S;w<o;w+=1)f=n[w],i=e(s.codeRGB,a.codeRGB,(f.maxvalue-S)/b),f.code=i.hex,f.codeRGB=i.rgb;w=null;s=c}else w=w||o;if(void 0===this.scaleMin||void 0===this.scaleMax)this.noValidRange=!0}else if(b&&(r=b.length)){for(o=0;o<r;o+=1)c=b[o],i=C(c.color,c.code),E=u(c.maxvalue),S=u(c.minvalue),w=C(c.label,c.displayvalue,l?g:m.dataLabels(S)+" - "+m.dataLabels(E)),(i&&E>S||l&&w)&&n.push({code:i,maxvalue:E,minvalue:S,label:y(w),labelId:w.toLowerCase()});n.length?f&&n.sort(t):this.noValidRange=!0}}function r(e,t){return t?O(100*e)/100+P:k(e,g).toString()}var i=this,s=i.hcLib,o=i.window,o=/msie/i.test(o.navigator.userAgent)&&!o.opera,u=s.pluckNumber,a=s.COLOR_BLACK,f=s.COLOR_GLASS,l=s.FC_CONFIG_STRING,c=s.graphics,h=c.HSBtoRGB,p=c.RGBtoHSB,d=c.RGBtoHex,v=c.HEXtoRGB,m=s.COMMASTRING,g=s.BLANKSTRING,y=s.parseUnsafeString,b=s.graphics.convertColor,w=s.POSITION_TOP,E=s.POSITION_MIDDLE,S=s.POSITION_START,x=s.POSITION_END,T=s.graphics.getDarkColor,N=s.graphics.getLightColor,C=s.pluck,k=s.getValidValue,L=s.toRaphaelColor,A=s.hasTouch,O=Math.round,M=Math.max,_=Math.min,D=Math.abs,P="%",H,B,j,F="rgba(192,192,192,"+(o?.002:1e-6)+")",I=function(e){return e&&e.replace(/^#?([a-f0-9]+)/ig,"$1")};n.prototype={getColorObj:function(t){var n=this.colorArr,r=this.gradient?1:0,i=n[r],s;if(this.mapByCategory){for(t=y(t).toLowerCase();i;){if(i.labelId===t)return{code:i.code,seriesIndex:r};r+=1;i=n[r]}return{outOfRange:!0}}if(this.gradient){if(this.scaleMin<=t&&this.scaleMax>=t){for(;i&&i.maxvalue<t;)r+=1,i=n[r];t=(t-i.minvalue)/i.range;return{code:e(n[r-1].codeRGB,i.codeRGB,t).hex}}return{outOfRange:!0}}for(;i;){if(i.maxvalue>t&&i.minvalue<=t)return{code:i.code,seriesIndex:r};i.maxvalue===t&&(s=r);r+=1;i=n[r]}return(i=n[s])&&i.maxvalue===t?{code:i.code,seriesIndex:s}:{outOfRange:!0}}};n.prototype.constructor=n;s.colorRange=n;H=s.configureGradientLegendOptions=function(e,t){var n=e.legend,r=t.chart;n.legendSliderBorderWidth=u(r.legendpointerborderthickness,1);n.legendSliderBorderColor=b(C(r.legendpointerbordercolor,a),u(r.legendpointerborderalpha,100));n.legendSliderWidth=u(r.legendpointerwidth,r.legendpointerswidth,12);n.legendSliderHeight=u(r.legendpointerheight,r.legendpointersheight,12);n.legendColorBoxBorderColor=n.borderColor;n.legendColorBoxBorderWidth=n.borderWidth;n.legendScaleColor=b(C(r.legendscalelinecolor,a),u(r.legendscalelinealpha,100));n.legendScalePadding=u(r.legendscalepadding,4);n.legendScaleLineThickness=u(r.legendscalelinethickness,1);n.legendScaleTickDistance=u(r.legendscaletickdistance,6);n.itemStyle.cursor="default";n.interActivity=u(r.interactivelegend,1)};s.placeGLegendBlockRight=function(e,t,n,i,s){this.configureLegendOptions(e,t.chart,!0,s,n);H(e,t);s=this.snapLiterals||(this.snapLiterals={});var o=e[l],a=this.smartLabel||o.smartLabel,f=e.legend,c=e.chart.spacingRight,h,p,d=f.textPadding=2,v=2*d,m=f.title.padding,y=0,b=0,w=2*f.padding;t=u(t.chart.legendpadding,7)+f.borderWidth/2+1;var E=e.colorRange||{},S=E.colorArr,x=E.mapbypercent,T=E.scaleMin,N=E.scaleMax-T,C=f.legendSliderWidth,k=f.legendSliderHeight/2;p=f.legendScalePadding;var L=f.legendScaleTickDistance,A=f.itemStyle||{};h=u(parseInt(A.lineHeight,10)||12);var O=.75*h,D=n-w,P,B,j=0,F,I,q,z,W,X,$;i-=w;if(!E.noValidRange&&S&&1<(B=S.length)){B-=1;f.title.text!==g&&(a.setStyle(f.title.style),h=a.getSmartText(f.title.text,D,M(h,i/4)),f.title.text=h.text,y=h.width+w,i-=b=h.height+m);a.setStyle(A);h=a.lineHeight;D-=L+p+C;f.colorBoxX=C;m=M(h,D/2);D=_(D-m-4,h);F=M(h,i/2);P=i/4;L=S[0];L.scaleLabel=r(L.maxvalue,x);h=a.getSmartText(L.label,P,D);L.label=h.text;A=h.height;L.labelY=O-h.height/2;p=a.getSmartText(L.scaleLabel,m,F);L.scaleLabel=p.text;E=p.height/2;I=p.width;L.scaleLabelY=O-p.height/2;f.colorBoxY=M(E,h.width+v,k)+b;L=$=S[B];L.scaleLabel=r(L.maxvalue,x);h=a.getSmartText(L.label,P,D);L.label=h.text;A=M(A,h.height);L.labelY=O-h.height/2;p=a.getSmartText(L.scaleLabel,m,F);L.scaleLabel=p.text;I=M(I,p.width);P=p.height/2;h=M(h.width+v,P,k);L.scaleLabelY=O-p.height/2;f.colorBoxHeight=k=i-f.colorBoxY-h;F=k-P;q=k/N;W=_(k-j,F-E)-4;for(P=1;P<B;P+=1)L=S[P],z=(L.maxvalue-T)*q,h=a.getSmartText(L.label,2*_(z-j,k-z),D),L.label=h.text,A=M(A,h.height),L.labelY=O-h.height/2,h=h.width/2,L.scaleLabel=r(L.maxvalue,x),p=a.getSmartText(L.scaleLabel,m,2*_(z-E,F-z)),L.scaleLabel=p.text,I=M(I,p.width),X=p.height/2,L.scaleLabelY=O-p.height/2,W=_(W,(z-M(X+E,h+j)-4)*N/L.range),j=h+z,E=X+z;W=M(_(W,(_(F-E,k-j)-4)*N/$.range,.3*i),0);f.colorBoxHeight-=W;f.colorBoxWidth=A&&A+v||15;f.height=f.totalHeight=i+b+w-W;f.width=(I&&I+d)+f.colorBoxWidth+C+f.legendScaleTickDistance+f.legendScalePadding+w;f.width<y&&(f.colorBoxX+=(y-f.width)/2,f.width=y);f.width>n&&(f.width=n);s.legendstartx=o.width-c-f.width;s.legendwidth=f.width;s.legendendx=s.legendstartx+s.legendwidth;s.legendheight=f.height;t+=f.width;e.chart.marginRight+=t;return t}f.enabled=!1;return 0};s.placeGLegendBlockBottom=function(e,t,n,i,s){this.configureLegendOptions(e,t.chart,!1,s,n);H(e,t);s=this.snapLiterals||(this.snapLiterals={});var o=e[l],a=this.smartLabel||o.smartLabel,f=e.legend,c=e.chart,h=c.spacingBottom,p=c.spacingLeft,c=c.spacingRight,d,v,m=f.textPadding=2,y=f.title.padding,b=0,w=0,E=2*f.padding;t=u(t.chart.legendpadding,7)+f.borderWidth/2+1;var S=e.colorRange||{},x=S.colorArr,T=S.mapbypercent,N=S.scaleMin,k=S.scaleMax-N,L=f.legendSliderWidth,A=f.legendSliderHeight,O=f.legendScalePadding,D=f.legendScaleTickDistance,P=f.itemStyle||{};d=u(parseInt(P.lineHeight,10)||12);var B=.75*d,j=i-E,F,I,q,z,W=0,X,J,K;n-=E;if(!S.noValidRange&&x&&1<(I=x.length)){I-=1;f.title.text!==g&&(a.setStyle(f.title.style),d=a.getSmartText(f.title.text,n,j/3),f.title.text=d.text,b=d.width+E,j-=w=d.height+y);a.setStyle(P);d=a.lineHeight;j-=D+O+A;y=M(d,j/2);P=_(j-y-4,d);F=n/4;z=2*F;q=x[0];q.scaleLabel=r(q.maxvalue,T);d=a.getSmartText(q.label,F,P);q.label=d.text;j=d.height;q.labelY=B-d.height/2;v=a.getSmartText(q.scaleLabel,z,y);q.scaleLabel=v.text;O=v.width/2;D=v.height;q.code||(q.code=C(f.minColor,"CCCCCC"));f.colorBoxX=M(O,d.width+m,L);q=S=x[I];q.scaleLabel=r(q.maxvalue,T);d=a.getSmartText(q.label,F,P);q.label=d.text;j=M(j,d.height);q.labelY=B-d.height/2;v=a.getSmartText(q.scaleLabel,z,y);q.scaleLabel=v.text;D=M(D,v.height);q=v.width/2;d=M(d.width+m,q,L);f.colorBoxWidth=L=n-f.colorBoxX-d;z=L-q;X=L/k;K=_(L-W,z-O)-4;for(F=1;F<I;F+=1)q=x[F],J=(q.maxvalue-N)*X,d=a.getSmartText(q.label,2*_(J-W,L-J),P),q.label=d.text,j=M(j,d.height),q.labelY=B-d.height/2,d=d.width/2,q.scaleLabel=r(q.maxvalue,T),v=a.getSmartText(q.scaleLabel,2*_(J-O,z-J),y),q.scaleLabel=v.text,D=M(D,v.height),v=v.width/2,K=_(K,(J-M(v+O,d+W)-4)*k/q.range),W=d+J,O=v+J;K=M(_(K,(_(z-O,L-W)-4)*k/S.range,.3*n),0);f.colorBoxWidth-=K;f.width=n+E-K;f.width<b&&(f.colorBoxX+=(b-f.width)/2,f.width=b);f.colorBoxY=w+A;f.colorBoxHeight=j&&j+2*m||15;f.height=f.totalHeight=(D&&D+m)+f.colorBoxHeight+w+A+f.legendScaleTickDistance+f.legendScalePadding+E;f.height>i&&(f.height=i);s.legendstartx=p+.5*(o.width-p-c-f.width)+(f.x||0);s.legendwidth=f.width;s.legendendx=s.legendstartx+s.legendwidth;s.legendstarty=o.height-h-f.height;s.legendheight=f.height;s.legendendy=s.legendstarty+s.legendheight;t+=f.height;e.chart.marginBottom+=t;return t}f.enabled=!1;return 0};B=function(){return{point:this}};j=function(e){return O(100*e)/100};s.rendererRoot.drawGradientLegendItem=function(e){var t=this,n=t.paper,r=t.options,s=t.canvasLeft,o=t.canvasTop,l=t.canvasWidth,c=t.canvasHeight,h=r.colorRange,p,d,v,y,k=r.legend,_=u(k.padding,4),P=k.itemStyle,r=k.symbolStyle,H=k.interActivity,I=e.elements;e=I.elementGroup.trackTooltip(!0);var q="vertical"===k.layout,R,z,W,X,V,J,K=0,Q=k.lighting3d,G=k.colorBoxWidth,Y=k.colorBoxHeight,Z=G,et=Y,tt={FCcolor:{color:g,alpha:g,angle:0,ratio:g}},nt=tt.FCcolor,rt=k.colorBoxX+_,it=k.colorBoxY+_,st,ot,ut=k.legendColorBoxBorderColor,at=k.legendColorBoxBorderWidth,ft=["M"],lt=k.legendScaleColor;J=k.legendScalePadding;var ct=k.legendScaleLineThickness,ht=ct%2/2;d=k.legendScaleTickDistance;var pt=k.legendSliderWidth,dt=k.legendSliderHeight;V=et/2;y=Z/2;var vt=pt/2,mt=dt/2,gt,yt,bt;ot=0;var wt=N("ABABAB",50),_=T("ABABAB",70),k=b("ABABAB",100),_=b(_,100),wt=b(wt,100),Et,St={isFirst:!0},xt={},Tt,Nt,Ct,kt;if(h&&(p=h.colorArr)&&1<(v=p.length)){St.toolText=Tt=W=h.scaleMin;xt.toolText=Nt=h=h.scaleMax;X=h-W;St.snapPX=xt.snapPX=0;St.tooltipConstraint=xt.tooltipConstraint="chart";St.getLabelConfig=xt.getLabelConfig=B;St.tooltipPos=[0,0];xt.tooltipPos=[0,0];xt.tooltipOffsetReference=St.tooltipOffsetReference={};xt.tooltipOffsetReference.left=St.tooltipOffsetReference.left+=s-20;xt.tooltipOffsetReference.top=St.tooltipOffsetReference.top+=o;Ct=I.colorBox=n.group("colorBox",e);if(q){St.tooltipPos[0]=xt.tooltipPos[0]=l+s;ot=270;nt.angle=90;s=rt-pt;l=rt+Z;o=it-mt;R=it+mt;s=O(rt-pt)+.5;l=O(rt)+.5;o=O(it-mt)+.5;R=O(it+mt)+.5;gt=O(rt+Z)+.5;bt=O(it-2)+.5;z=O(it+2)+.5;st=O(it)+.5;c=rt-vt/2;yt=O(c-mt)+.5;c=O(c)+.5;V=it-mt/2;mt=O(V+mt)+.5;V=O(V)+.5;G/=2;vt=["M",s,o,"L",l,o,l,bt,gt,st,l,z,l,R,s,R,"Z","M",yt,V,"L",c,V,"M",yt,st,"L",c,st,"M",yt,mt,"L",c,mt];mt=["M",s+1,o,"L",s+1,R,"M",yt,V-1,"L",c,V-1,"M",yt,st-1,"L",c,st-1,"M",yt,mt-1,"L",c,mt-1];V=rt+Z+J;R=O(V+d)+ht;V=O(V)+ht;st=rt+y;yt=v-1;for(d=0;d<v;d+=1)y=p[d],l=(y.maxvalue-W)/X,z=et*l+it,J=O(z)+ht,d?(nt.ratio+=m,nt.color+=m,nt.alpha+=m,ft.push("L",V,J,R,J,"M",V,J),d===yt?(c=x,J=z+2):(c=E,J=z)):(ft.push(V,J,"L",R,J,"M",V,J),c=S,J=z-2),nt.ratio+=100*(l-K),nt.color+=C(y.code,a),nt.alpha+=C(y.alpha,100),K=l,y.legendItem=n.text(e).attr({text:y.label,x:st,y:J,"text-anchor":c,"vertical-align":E}).rotate(ot,st,J).css(P),y.legendSymbol=n.text(e).attr({text:y.scaleLabel,x:R,y:z,"text-anchor":S,"vertical-align":E}).css(P);St.xMin=xt.xMin=0;St.xMax=xt.xMax=0;St.yMin=xt.yMin=0;St.yMax=xt.yMax=et;St.x=xt.x=0;St.y=0;xt.y=et;p=dt+Z;v=pt}else{St.tooltipPos[1]=xt.tooltipPos[1]=c+o;s=O(rt-vt)+.5;l=O(rt+vt)+.5;o=O(it-dt)+.5;R=O(it+et)+.5;gt=O(rt-2)+.5;c=O(rt+2)+.5;yt=O(rt)+.5;bt=O(it)+.5;z=it-mt/2;st=O(z-mt)+.5;z=O(z)+.5;ot=rt-vt/2;y=O(ot+vt)+.5;ot=O(ot)+.5;Y/=2;vt=["M",s,o,"L",l,o,l,bt,c,bt,yt,R,gt,bt,s,bt,"Z","M",ot,st,"L",ot,z,"M",yt,st,"L",yt,z,"M",y,st,"L",y,z];mt=["M",s,o+1,"L",l,o+1,"M",ot-1,st,"L",ot-1,z,"M",yt-1,st,"L",yt-1,z,"M",y-1,st,"L",y-1,z];J=it+et+J;ot=O(J+d)+ht;J=O(J)+ht;z=it+V;yt=v-1;for(d=0;d<v;d+=1)y=p[d],l=(y.maxvalue-W)/X,R=Z*l+rt,V=O(R)+ht,d?(nt.ratio+=m,nt.color+=m,nt.alpha+=m,ft.push("L",V,J,V,ot,"M",V,J),d===yt?(c=S,V=R+2):(c=E,V=R)):(ft.push(V,J,"L",V,ot,"M",V,J),c=x,V=R-2),nt.ratio+=100*(l-K),nt.color+=C(y.code,a),nt.alpha+=C(y.alpha,100),K=l,y.legendItem=n.text(e).attr({text:y.label,x:V,y:z,"text-anchor":c,"vertical-align":E}).css(P),y.legendSymbol=n.text(e).attr({text:y.scaleLabel,x:R,y:ot,"text-anchor":E,"vertical-align":w}).css(P);St.xMin=xt.xMin=0;St.xMax=xt.xMax=Z;St.yMin=xt.yMin=0;St.yMax=xt.yMax=0;St.y=xt.y=0;St.x=0;xt.x=Z;p=pt;v=dt+et}I.colorBox=n.rect(Ct).attr({x:rt,y:it,width:Z,height:et,fill:L(tt),stroke:ut,strokeWidth:at});Q&&(I.colorBoxEffect=n.rect(Ct).attr({x:rt,y:it,width:G,height:Y,fill:f,"stroke-width":0}));I.scale=n.path(e).attr({path:ft,stroke:lt,"stroke-width":ct});Et=function(e,n,r,i,s){var o;q?(o=n*X/et+W,i=0<n?i:i+n+.01):(o=e*X/Z+W,r=0<e?r:r+e+.01);e=j(o);s?(I.slider1.translate(r,i),I.slider1Effect.translate(r,i),I.slider1Tracker.toFront().translate(r,i).tooltip(e,null,null,!0),Tt=o):(I.slider2.translate(r,i),I.slider2Effect.translate(r,i),I.slider2Tracker.toFront().translate(r,i).tooltip(e,null,null,!0),Nt=o);H&&(kt=clearTimeout(kt),kt=setTimeout(function(){t.setScaleRange&&t.setScaleRange(Tt,Nt)},100))};Q=function(e,t){var n=0,r=n,i,s=this.isFirst,o=s?xt:St;if(q){r=this._startY+t;0>=r&&(r=0);r>et&&(r=et);if(s?r>o.y:r<o.y)r=o.y;D(r-this.y)>=(this.snapPX||0)&&(i=!0)}else{n=this._startX+e;0>=n&&(n=0);n>Z&&(n=Z);if(s?n>o.x:n<o.x)n=o.x;D(n-this.x)>=(this.snapPX||0)&&(i=!0)}i&&(Et(n,r,n-this.x,r-this.y,s),this.x=n,this.y=r)};G=function(){var e=this.isFirst;this._startX=this.x;this._startY=this.y;this._scaleStart=Tt;this._scaleEnd=Nt;i.raiseEvent("LegendPointerDragStart",{pointerIndex:e?0:1,pointers:[{value:Tt},{value:Nt}],legendPointerHeight:dt,legendPointerWidth:pt},t.logic.chartInstance)};Y=function(){var e=this._scaleStart,n=this._scaleEnd;i.raiseEvent("LegendPointerDragStop",{pointerIndex:this.isFirst?0:1,pointers:[{value:Tt},{value:Nt}],legendPointerHeight:dt,legendPointerWidth:pt},t.logic.chartInstance);e===Tt&&n===Nt||i.raiseEvent("LegendRangeUpdated",{previousMinValue:e,previousMaxValue:n,minValue:Tt,maxValue:Nt},t.logic.chartInstance);delete this._scaleStart;delete this._scaleEnd};tt=j(W);I.slider1=n.path(e).attr({path:vt,fill:k,strokeWidth:1,stroke:_});I.slider1Effect=n.path(e).attr({path:mt,fill:"none",strokeWidth:1,stroke:wt});A&&(s-=.5*(M(30,p)-p),o-=.5*(M(40,v)-v),p=M(30,p),v=M(40,v));I.slider1Tracker=n.rect(e).attr({ishot:!0,width:p,height:v,x:s,y:o,fill:F,stroke:"none"}).drag(Q,G,Y,St,St,St).tooltip(tt,null,null,!0).css(r);tt=j(h);I.slider2=n.path(e).attr({path:vt,fill:k,strokeWidth:1,stroke:_}).translate(xt.x,xt.y);I.slider2Effect=n.path(e).attr({path:mt,fill:"none",strokeWidth:1,stroke:wt}).translate(xt.x,xt.y);I.slider2Tracker=n.rect(e).attr({ishot:!0,width:p,height:v,x:s,y:o,fill:F,stroke:"none"}).translate(xt.x,xt.y).css(r).drag(Q,G,Y,xt,xt,xt).tooltip(tt,null,null,!0)}}}]);FusionCharts.register("module",["private","modules.renderer.js-maps",function(){var e=this,t=e.window,n=e.hcLib,r=n.chartAPI,i=t.document,s=n.pluck,o=n.imprint,u=n.extend2,a=n.parseTooltext,f=n.pluckNumber,l=n.pluckFontSize,c=n.HCstub,h=u(n.defaultPaletteOptions,{foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1}),p=n.setLineHeight,d=n.getValidValue,v=n.parseUnsafeString,m=n.getFirstColor,g=n.graphics.convertColor,y=n.hashify,b=n.getDashStyle,w=t.navigator.userAgent,E=/msie/i.test(w)&&!t.opera,S=/AppleWebKit/.test(w),x=/stroke/ig,T=n.hasSVG,N=n.FC_CONFIG_STRING,C=t.Math,k=C.min,L=C.max,A=C.ceil,O=n.toRaphaelColor,M={left:"start",right:"end",center:"middle"},_=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},D=function(e){var t=this.parentNode;if(!t)return!1;for(;t&&t!==i.documentElement;){if(t===e)return!0;t=t.parentNode}return!1},P=function(e,t){var n=t?_(e.FCcolor,t):{FCcolor:e};n.toString=O;return n},H=function(e,t){var n,r;this.index=t;for(r in e)n=h[e[r]],this[r]=n instanceof Array?n[t]:n},B={right:function(e,t){return t},left:function(e,t){return e-t},center:function(e,t){return 2*k(t,e-t)}},j={top:function(e,t){return t},middle:function(e,t){return 2*k(t,e-t)},bottom:function(e,t){return e-t}},F=function(e,t,n,r){t=k(e,t);e=.02*t;t*=.07;r=parseFloat(r);n=parseFloat(n);return isNaN(r)||isNaN(n)?isNaN(r)?isNaN(n)?{min:e,max:t}:{min:parseInt(n/10,10),max:n}:{min:r,max:10*r}:r<n?{min:r,max:n}:{min:n,max:r}},I=function(e){for(var t=e&&e.length||0,n={},r;t--;)r=e[t],void 0!==r.id&&(n[r.id.toLowerCase()]=r);return n},q=function(e,t){var n,r={};t=t||1;if(!e||"object"!==typeof e)return r;for(n in e)x.test(n)||("stroke-width"===n?(r[n]=Number(e[n])/t,S&&(r[n]=r[n]&&A(r[n])||0)):r[n]=e[n]);return r},R=function(){this.hoverEntity&&(n.raiseEvent.apply(n,this.hoverEntityEventArgs),delete this.hoverEntityEventArgs,this.hoverEntity&&this.hoverEntityAttr&&this.hoverEntity.attr(this.hoverEntityAttr),delete this.hoverEntityAttr,this.hoverEntity=null)},U=function(e,t){var n=e&&e.length||!1,r=t||"id",i={},s;if(!e)return e;for(;n--;)s=e[n],void 0!==s[r]&&(i[s[r].toLowerCase()]=s);return i},z=function(e,t,r,s){function u(){var e=this,t=e.entityPathMap,n=e.data,r=e.items,i,n=I(n);b=function(){for(var s,u=t[i];u;)r[i]?e=null:((s=n[i])?s.mapItem=r[i]=new W(i,o(a(s),u),v,e.group):r[i]=new W(i,u,v,e.group),i=u.nextId&&u.nextId.toLowerCase(),u=void 0!==i&&t[i]||null);c.call(e)};w=function(){var i,s,u=y,f,l=0;for(f in d)if(!r[f]&&(i=t[f],(s=n[f])?s.mapItem=r[f]=new W(f,o(a(s),i),v,e.group):r[f]=new W(f,i,v,e.group),l+=1,delete d[f],l===u))break;l<p?(p-=l,setTimeout(w,0)):c.call(e)};(i=h&&h.toLowerCase())?b():w()}function a(e){delete e.outlines;delete e.label;delete e.shortlabel;delete e.labelposition;delete e.labelalignment;delete e.labelconnectors;return e}function f(){var e=this.items,t=[],n,r={id:"entityLabels",items:t};for(n in e)e[n].drawLabel(t);m.addGroup(r)}function l(){var e=this.items,t;for(t in e)e[t].destroy();delete this.entityPathMap;delete this.data;delete this.chartObj;delete this.items;delete this.group}function c(){g.entities.labelsOnTop&&f.call(this);this.ready=!0;v.checkComplete()}if(r&&r.getEntityPaths()){var h=r.getFirstId(),p=r.entityCount,d=r.getEntityPaths(!0),v=t,m=t.mapAnnotations,g=v.options,y=E?50:0,b,w,S;this.entityPathMap=d;this.data=e;this.chartObj=v;this.items={};this.ready=!1;this.group=s||t.mapGroup;this.isReady=function(){return this.ready};u.call(this);this.drawLabels=f;this.destroy=l;this.init=u;this.initComplete=c;v.__canvasMouseOutListenerAdded||(v.__canvasMouseOutListenerAdded=!0,S=t.paper.canvas,n.addEvent(S,"mouseout",function(e){e=e.originalEvent.relatedTarget||e.originalEvent.toElement;!E||T?e&&e.ownerSVGElement&&e.ownerSVGElement===S||R.call(v):e===i.documentElement||e===t.container||e===t.container.parentElement?R.call(v):D.call(e,S)||R.call(v)}))}},W=function(t,r,i,o){function l(e){var t=this.featureConfig;return t&&"undefined"!==typeof t[e]?Boolean(t[e]):!1}function c(){var e;if(l.apply(this,["_ds"])){e=r.labels&&r.labels[0];if(!e)return;e=(I.useSNameInTooltip?e.shortText:e.text)+(isNaN(z)?"":I.tooltipSepChar+W)}else e=(I.useSNameInTooltip?r.shortLabel:r.label)+(isNaN(z)?"":I.tooltipSepChar+W);return e}function h(e,t,n){t?n&&"undefined"!==typeof r.displayvalue?e=r.displayvalue:(e=s(I.includeNameInLabels?I.useShortName?e.shortText:e.text:""),I.includeValueInLabels&&!isNaN(z)&&(e=void 0===e?W:e+X+W)):e=e.text;return e}function p(e){for(var t=e&&e.length||0,n;t--;)n=e[t],this.connectorElem[t]=F.path(n,this.group).attr({transform:dt.transform,stroke:g(Z,et),"shape-rendering":"crisp","stroke-width":tt})}function d(){var e=this.chart.paper,t=T||!E?"litepath":"path",n=this.eJSON.outlines,r=this.group,s,o,a;s=n&&n.length||0;if(this.hasFeature("_ds")){if(this.hasFeature("isDataEnabled"))if(ct)for(;s--;)o=n[s].outline,this.svgElems[s]={},this.svgElems[s].graphic=e[t](o,r).attr(dt).tooltip($).shadow(vt,i.shadowLayer);else for(;s--;)o=n[s].outline,this.svgElems[s]={},this.svgElems[s].graphic=e[t](o,r).tooltip($).attr(dt);else if(ct)for(;s--;)a=u(u({},dt),q(n[s].style,pt)),o=n[s].outline,this.svgElems[s]={},this.svgElems[s].graphic=e[t](o,r).attr(a).tooltip($).shadow(vt,i.shadowLayer);else for(;s--;)a=u(u({},dt),q(n[s].style,pt)),o=n[s].outline,this.svgElems[s]={},this.svgElems[s].graphic=e[t](o,r).tooltip($).attr(a);this.hasFeature("isDataEnabled")&&this.addMouseGestures()}else{if(ct)for(;s--;)o=n[s],this.svgElems[s]={},this.svgElems[s].graphic=e[t](o,r).attr(dt).tooltip($).shadow(vt,i.shadowLayer);else for(;s--;)o=n[s],this.svgElems[s]={},this.svgElems[s].graphic=e[t](o,r).tooltip($).attr(dt);this.addMouseGestures()}return this}function m(e){var t=this.chart;t.hoverEntityEventArgs=["entityrollout",this.eventArgs,t.fusionCharts,[t.fusionCharts.id,"rollOut",this.legacyEventArgs],e];ut&&this.isVisible&&(t.hoverEntity=this,t.hoverEntityAttr=this.revertAttr,this.attr(this.hoverAttr));n.raiseEvent("entityrollover",this.eventArgs,t.fusionCharts,[t.fusionCharts.id,"rollOver",this.legacyEventArgs],e)}function y(t,n,r){var s=this,o=s.chart,u=t.labelPosition,a=t.labelAlignment,f=s.svgElems[0]&&s.svgElems[0].graphic,l=t.style,c,p,d,v,g;u?(f=u[0],u=u[1]):(u=f.getBBox(),f=u.x+u.width/2,u=u.y+u.height/2);a?(c=a[0],a=a[1],"right"===c?f-=st:"left"===c&&(f+=st),"top"===a?u-=st:"bottom"===a&&(u+=st)):(c="center",a="middle");p=it;d=parseFloat(rt)/i.sFactor;v=nt;g=ft;!n&&l&&(l.color&&(p=l.color),l["font-size"]&&(d=parseFloat(l["font-size"])/i.sFactor),l["font-family"]&&(v=l["font-family"]),void 0!==l["font-weight"]&&(g="bold"===l["font-weight"]));return{x:f.toString(),y:u.toString(),wrapwidth:B[c](mt,f+yt)-st,wrapheight:j[a](gt,u+bt)-st,wrap:1,type:"text",align:c,valign:a,text:h(t,n,r),tooltext:$,link:lt,bgcolor:"",bordercolor:"",fillcolor:p,fontsize:d,font:v,bold:g,onclick:function(t){e.raiseEvent("entityclick",s.eventArgs,i.fusionCharts,t)},onmouseover:function(e){s!==o.hoverEntity&&(R.call(s.chart),m.call(s,e))},ontouchstart:function(e){s!==o.hoverEntity&&(R.call(s.chart),m.call(s,e))}}}function b(e){var t=this.eJSON,n=this.hasFeature("isDataEnabled"),r,i;if(!G)return null;if(this.hasFeature("_ds"))for(i=(t=t.labels)&&t.length||0;i--;)r=t[i],e.push(this.getLabelObject(r,n,!i)),r.labelConnectors&&this.drawLabelConnectors(r.labelConnectors);else r={text:t.label,shortText:t.shortLabel,labelAlignment:t.labelAlignment,labelPosition:t.labelPosition},e.push(this.getLabelObject(r,!0,!0)),t.labelConnectors&&this.drawLabelConnectors(t.labelConnectors)}function w(e,t){var n=this.svgElems,r;for(r in n)n[r].graphic&&n[r].graphic.attr(e,t)}function x(){var e=this.svgElems,t;this.isVisible=!0;for(t in e)e[t].graphic&&e[t].graphic.attr(dt)}function k(){var e=this.svgElems,t=this.chart,n;this.isVisible=!1;t.hoverEntity===this&&R.call(t);for(n in e)e[n].graphic&&e[n].graphic.attr(ht)}function O(t){e.raiseEvent("entityclick",this.node.__entity.eventArgs,i.fusionCharts,t);void 0!==lt&&i.logic.linkClickFN.call({link:lt})}function M(e){var t=this.node.__entity,n=t.chart;t!==n.hoverEntity&&(R.call(n),m.call(t,e))}function _(){var e=this.eJSON,t=this.svgElems,n;this.eventArgs={value:this.value,label:e.label,shortLabel:e.shortLabel,originalId:this.originalId||this.id,id:this.id};this.legacyEventArgs={value:this.value,lName:e.label,sName:e.shortLabel,id:this.originalId||this.id};ut&&(this.hoverAttr={fill:this.hoverColor.toString()},this.revertAttr={fill:this.fillColor.toString()},at!==Y&&(this.hoverAttr["stroke-width"]=at,this.revertAttr["stroke-width"]=Y));if(!isNaN(z)||ot)for(n in t)void 0!==lt&&t[n].graphic.css({cursor:"pointer",_cursor:"hand"}),t[n].graphic.node.__entity=this,t[n].graphic.click(O).hover(M)}function D(){var e=this.svgElems,t=this.connectorElem,n;for(n in e)e[n].remove&&e[n].remove();for(n in t)t[n].destroy&&t[n].destroy();delete this.value;delete this.formattedValue;delete this.toolText;delete this.fillColor;delete this.hoverColor;delete this.chart;delete this.group;delete this.id;delete this.isVisible;delete this.svgElems;delete this.connectorElem;delete this.renderer;delete this.options}if(r&&i&&void 0!==t){this.chart=i;this.eJSON=r;this.group=o;this.id=t;this.originalId=r.origId;this.isVisible=!0;this.svgElems={};this.connectorElem={};this.featureConfig=r.options;"object"===typeof this.featureConfig&&(this.featureConfig._ds=!0);var H=i.options,F=i.paper,I=H.entities,U=I.dataLabels.style;t=r.cleanValue;var z=null===t?void 0:t,W=this.formattedValue=r.formattedValue||"",X=I.labelSepChar,V=f(r.showtooltip,I.showTooltip);t=c.call(this);o={formattedValue:W,sName:r.shortLabel,lName:r.label};var $=V?v(s(a(s(r.tooltext,I.tooltext,t),[1,2,7,38,39],o,r))):"",J,K,Q,G=f(r.showlabel,I.showLabels);o=s(r.bordercolor,I.borderColor);t=s(r.borderalpha,I.borderAlpha);var V=1===I.scaleBorder,Y=f(r.borderthickness,I.borderThickness),Z=s(r.labelconnectorcolor,I.connectorColor),et=s(r.labelconnectoralpha,I.connectorAlpha),tt=f(r.labelconnectorthickness,I.connectorThickness),nt=s(r.font,U.fontFamily),rt=f(parseInt(r.fontsize,10),parseInt(U.fontSize,10)),it=s(r.fontcolor,U.color),st=f(r.labelpadding,I.labelPadding),ot=I.hoverOnNull,ut=f(r.showhovereffect,r.usehovercolor,ot?I.showHoverEffect:isNaN(z)?0:I.showHoverEffect),at=f(r.borderhoverthickness,r.hoverborderthickness,I.hoverBorderThickness),ft=f(r.fontbold,0),lt=r.link,ct=I.shadow;Q=!E||T;U=i.sFactor/I.baseScaleFactor;J=i.strokeWidth;K=(Q?I.baseScaleFactor:1)*J;var ht=I.hiddenEntityFillObject||(I.hiddenEntityFillObject={fill:P({color:I.hiddenEntityColor,alpha:I.hiddenEntityAlpha}).toString()}),pt,dt,vt,H=H[N],mt=H._labelBaseWidth,gt=H._labelBaseHeight,yt=H._labelXOffset,bt=H._labelYOffset;Q?(Y=V?Y*K:Y/U,tt/=U,pt=V?U:i.sFactor,S&&(Y=Y&&A(Y)||0,tt=tt&&A(tt)||0)):(Y=V?Y*J:Y,pt=V?i.scaleFactor:I.baseScaleFactor);I.showHiddenEntityBorder||(ht["stroke-width"]=0);void 0===at?at=Y:Q?(at=V?Y*K:at/U,S&&(at=at&&A(at)||0)):at=V?at*J:at;!I.showNullEntityBorder&&isNaN(z)&&(Y=0);void 0!==s(r.color,r.alpha,r.angle,r.ratio)?(V=s(r.color,I.fillColor),H=s(r.alpha,I.fillAlpha),J=s(r.angle,I.fillAngle),K=s(r.ratio,I.fillRatio),Q=P({color:V,alpha:H,angle:J,ratio:K})):(I.fillColorObject||(I.fillColorObject=P({color:s(I.fillColor),alpha:s(I.fillAlpha),angle:s(I.fillAngle),ratio:s(I.fillRatio)})),I.emptyColorObject||(I.emptyColorObject=P({color:s(I.nullEntityColor),alpha:s(I.nullEntityAlpha),angle:s(I.nullEntityAngle),ratio:s(I.nullEntityRatio)})),Q=isNaN(z)?I.emptyColorObject:I.fillColorObject,V=Q.FCcolor.color,H=Q.FCcolor.alpha,J=Q.FCcolor.angle,K=Q.FCcolor.ratio);""===$&&(V=0);dt={transform:T||!E?"":i.transformStr,stroke:g(o,t),"stroke-width":Y,fill:(this.fillColor=Q).toString()};o=H.split(",");Y&&o.push(t);vt={scalefactor:[U,i.sFactor],opacity:L.apply(C,o)/100};ut&&(void 0!==s(r.fillhovercolor,r.fillhoveralpha,r.fillhoverangle,r.fillhoverratio,r.hoverfillcolor,r.hoverfillalpha,r.hoverfillratio,r.hoverfillangle)?(V=s(r.fillhovercolor,r.hoverfillcolor,I.hoverFillColor),H=s(r.fillhoveralpha,r.hoverfillalpha,I.hoverFillAlpha),J=s(r.fillhoverangle,r.hoverfillangle,I.hoverFillAngle),K=s(r.fillhoverratio,r.hoverfillratio,I.hoverFillRatio),t=P({color:V,alpha:H,angle:J,ratio:K})):(I.hoverColorObject||(I.hoverColorObject=P({color:I.hoverFillColor,alpha:I.hoverFillAlpha,angle:I.hoverFillAngle,ratio:I.hoverFillRatio})),t=I.hoverColorObject),this.hoverColor=t);this.value=z;this.addMouseGestures=_;this.attr=w;this.draw=d;this.drawLabel=b;this.getLabelObject=y;this.destroy=D;this.show=x;this.hide=k;this.hasFeature=l;this.drawLabelConnectors=p;d.call(this);I.hideNullEntities&&void 0===z&&this.hide()}},X=function(e,t,n,r){this.id=e;this.definition=t;this.application=n;this.rapi=r;this.markerLabel=this.markerShape=this.label=this.options=this.value=this.hasValue=null;this.drawOptions={shape:null,label:null};this.drawComplete=!1;if(e=r.options)this._conf=e[N];this.init()},V=function(e,t,n,r){this.options=e;this.from=t;this.to=n;this.api=r;if(e=r.options)this._conf=e[N]},$=function(e,t){function n(){var e=l.definition,n=U(e)||{},r=U(l.application)||{},s=l.shapes,u,a;if(e&&e.length){if(s&&s.length)for(e=s.length;e;e-=1)if(u=s[e-1],a=u.id.toLowerCase())i[a]=u;for(a in n){u=n[a];s=new X(a,u,r[a],t);if(e=s.getShapeId())s.shapeObj=i[e];o[a]=s}}}function r(){var e=l.items,n=l.shapes,r,s,u,a;if(e&&e.length){if(n&&n.length)for(r=n.length;r;r-=1)if(s=n[r-1],a=s.id.toLowerCase())i[a]=s;for(r=e.length;r--;)if(s=e[r],a=s.id&&s.id.toLowerCase())void 0!==s.value&&""!==s.value&&parseFloat(s.value),s.mapItem=n=new X(a,s,null,t),u=n.getShapeId(),s.__hideMarker&&(n._isHidden=!0),u&&(n.shapeObj=i[u]),o[a]=n}}var i={},o={},u=[],a=t.options.markers,f=t.options.connectors,l=e,c=t.mapAnnotations,h,p,d,v,m=[];this.items=o;(function(){var e=X.prototype,n=V.prototype,r;r=Boolean(s(a.hoverFillColor,a.hoverFillAlpha,a.hoverFillAngle,a.hoverFillRatio,a.hoverBorderThickness,a.hoverBorderColor,a.hoverBorderAlpha));e.markerFont=a.dataLabels.style.fontFamily;e.markerFontSize=a.dataLabels.style.fontSize;e.markerFontColor=a.dataLabels.style.fontColor;e.showMarkerTooltip=a.showTooltip;e.showHoverEffect=r;e.tooltext=a.tooltext;e.showMarkerLabels=a.showLabels;e.markerLabelPadding=a.labelPadding;e.labelWrapWidth=a.labelWrapWidth;e.labelWrapHeight=a.labelWrapHeight;e.labelSepChar=a.labelSepChar;e.tooltipSepChar=a.tooltipSepChar;e.fillColor=a.fillColor;e.fillAlpha=a.fillAlpha;e.fillRatio=a.fillRatio;e.fillAngle=a.fillAngle;e.hoverFillColor=a.hoverFillColor;e.hoverFillAlpha=a.hoverFillAlpha;e.hoverFillRatio=a.hoverFillRatio;e.hoverFillAngle=a.hoverFillAngle;e.startAngle=a.startAngle;e.shapeId=a.shapeId;e.borderThickness=a.borderThickness;e.borderColor=a.borderColor;e.borderAlpha=a.borderAlpha;e.hoverBorderThickness=a.hoverBorderThickness;e.hoverBorderColor=a.hoverBorderColor;e.hoverBorderAlpha=a.hoverBorderAlpha;e.markerRadius=a.radius;e.autoScale=a.autoScale?t.sFactor:1;e.shadow=a.shadow;e.applyAll=a.applyAll;e.dataEnabled=a.dataEnabled;e.valueToRadius=a.valueToRadius;e=Boolean(s(f.hoverthickness,f.hovercolor,f.hoveralpha));n.showHoverEffect=e;n.showTooltip=f.showTooltip;n.tooltext=f.tooltext;n.thickness=f.thickness;n.color=f.color;n.alpha=f.alpha;n.hoverThickness=f.hoverthickness;n.hoverColor=f.hovercolor;n.hoverAlpha=f.hoveralpha;n.dashed=f.dashed;n.dashlen=f.dashLen;n.dashgap=f.dashGap;n.font=f.font;n.fontsize=f.fontSize;n.fontcolor=f.fontColor;n.bgcolor=f.labelBgColor;n.bordercolor=f.labelBorderColor;n.shadow=f.shadow;n.hideOpen=f.hideOpen})();a.dataEnabled?r():n();(function(){var e=o,t=[],n,r,s,u;h=c.addGroup({fillalpha:"100",items:t});p=c.addGroup({items:[]});for(u in e)n=null,r=e[u],s=r.getShapeId(),r&&!r._isHidden&&(s&&(r.shapeObj=i[s]),n=r.draw()),n&&(r._annotationIndex=t.length,r.markerShape=n.markerShape&&h.addItem(n.markerShape),r.markerLabel=n.markerLabel&&p.addItem(n.markerLabel))})();(function(){var e=f.showLabels,n=l.connectors,r=n&&n.length,i=[],s=[],a,c,h;if(r)for(m.push({id:"connectorLabels",fillalpha:"100",items:s}),m.push({id:"connectors",fillalpha:"100",items:i});r--;)if(h=n[r],h.from&&h.to&&(a=o[h.from.toLowerCase()],c=o[h.to.toLowerCase()],a&&c&&(!f.hideOpen||!a._isHidden&&!c._isHidden)&&(u.push(c=new V(h,a,c,t)),c.connectJSON=a=c.computeConnectorJSON())))i.push(a),a.label&&e&&s.push(c.getLabelJSON())})();v=m.length;for(t.internalAnnotations={};v--;)d=m.shift(),d.id?t.internalAnnotations[d.id]=c.addGroup(d):c.addGroup(d);this.addMarkerItem=function(e){var n,r;if((n=e.id.toLowerCase())&&!o[n]){delete e.value;e=new X(n,e,null,t);if(r=e.getShapeId())e.shapeObj=i[r];o[n]=e;n=e.draw();h&&p&&(e.markerShape=n.markerShape&&h.addItem(n.markerShape,!0),e.markerLabel=n.markerLabel&&p.addItem(n.markerLabel,!0))}}};V.prototype={constructor:V,computeConnectorJSON:function(){var t=this.api,n=this.options,r=this.from,i=this.to,o=n.link,l=n.label,c=f(n.showtooltip,this.showTooltip),h=c?s(n.tooltext,this.tooltext):"",p=s(n.thickness,this.thickness),d=s(n.color,this.color),m=s(n.alpha,this.alpha),g=f(n.showhovereffect,this.showHoverEffect),y=s(n.hovercolor,this.hoverColor,d),b=s(n.hoveralpha,this.hoverAlpha,m),w=s(n.hoverthickness,this.hoverThickness,p),E=s(n.dashed,this.dashed),S=f(n.dashlen,this.dashlen),x=f(n.dashgap,this.dashgap),T;h&&(this.tooltext=h=v(a(h,[3,40,41,42,43],{label:l,fromId:r.definition.id,toId:i.definition.id,fromLabel:r.definition.label,toLabel:i.definition.label},n)));return r&&i?(T={fromMarkerId:r.id,toMarkerId:i.id,label:l},u({type:"line"},{x:r.definition.x,y:r.definition.y,tox:i.definition.x,toy:i.definition.y,dashed:E,dashlen:S,dashgap:x,link:o,tooltext:c?h:"",thickness:p,color:d,alpha:m,label:l,showshadow:this.shadow,_hovereffect:g,_defaultattrs:{stroke:P({color:d,alpha:m}).toString(),"stroke-width":p},_hoverattrs:{stroke:P({color:y,alpha:b}).toString(),"stroke-width":w},onmouseover:function(n){var r=n.data,i=r.wrapper;i&&r.options._hovereffect&&(R.call(t),i.attr(r.options._hoverattrs));e.raiseEvent("connectorrollover",T,t.fusionCharts,n)},onmouseout:function(n){var r=n.data,i=r.wrapper;i&&r.options._hovereffect&&i.attr(r.options._defaultattrs);e.raiseEvent("connectorrollout",T,t.fusionCharts,n)},onclick:function(n){e.raiseEvent("connectorClick",T,t.fusionCharts,n)}})):null},getLabelJSON:function(){var e=this.connectJSON;return u({type:"text"},{x:((Number(e.x)+Number(e.tox))/2).toString(),y:((Number(e.y)+Number(e.toy))/2).toString(),text:e.label,align:"center",valign:"middle",font:this.font,fontsize:this.fontsize/this.api.sFactor,fillcolor:this.fontcolor,bgcolor:this.bgcolor,bordercolor:this.bordercolor,tooltext:this.tooltext})}};X.prototype={constructor:X,init:function(){var e;e=this.options=u({},this.definition);this.dataEnabled?isNaN(e.value)||""===e.value||(this.value=parseFloat(e.value),this.hasValue=!0):this.applyAll?this.options=u(e,this.application):this.application&&(this.options=u(e,this.application))},getShapeId:function(){return this.options.shapeid&&this.options.shapeid.toLowerCase()},getLabelOptions:function(e,t,n,r,i){var s,o=e&&e.toLowerCase();this.getLabelAlignment[o]||(o="center");e=Number(n.x);s=Number(n.y);n=void 0===r||void 0===i?n.radius||0:/^(top|bottom)$/ig.test(o)&&.5*i||/^(left|right)$/ig.test(o)&&.5*r||0;n=Number(n)+Number(t);return this.getLabelAlignment[o](e,s,n)},draw:function(){if(this.options){var t=this.rapi,n=this._conf,r=t.translateX,i=t.translateY,o=this.options,l=o.shapeid,c=o.scale||1,h=o.label||"",p=(o.labelpos||"top").toLowerCase(),d=void 0===o.formattedValue?void 0:o.formattedValue,m=o.tooltext||this.tooltext,y=f(o.radius,this.markerRadius)*c*this.autoScale||1e-4,b=s(o.fillcolor,o.color,this.fillColor),w=s(o.fillalpha,o.alpha,this.fillAlpha),E=s(o.fillratio,this.fillRatio),S=s(o.fillangle,this.fillAngle),x=f(o.borderthickness,this.borderThickness),T=s(o.bordercolor,this.borderColor),N=s(o.borderalpha,this.borderAlpha),C=o.labelpadding||this.markerLabelPadding;if(l){m=m?v(a(m,[1,2,3],{formattedValue:d,label:h},o)):d?h+this.tooltipSepChar+d:h;l=l.toLowerCase();void 0!==d&&null!==d?h=h+this.labelSepChar+d:isNaN(c)?c=1:0>c?c=0:5<c&&(c=5);o={x:o.x.toString(),y:o.y.toString(),fillcolor:b,fillalpha:w,fillratio:E,fillangle:S,borderthickness:x,bordercolor:T,borderalpha:N,hovereffect:s(o.showhovereffect,this.showHoverEffect),radius:y.toString(),tooltext:this.showMarkerTooltip?m:"",link:o.link,showshadow:f(o.showshadow,this.shadow),_markerLabel:h,_markerId:o.id,id:(o.id+"").toLowerCase(),onmouseover:function(n){var s=n.data,o=s.options,u=s.bounds,a=o._markerEventArgs;(s=s.wrapper)&&o.hovereffect&&(R.call(t),s.attr(o._hoverattrs));a||(a=o._markerEventArgs={x:u.x1/u.xs,y:u.y1/u.ys,scaledX:u.x1,scaledY:u.y1,chartX:r+u.x1,chartY:i+u.y1,id:o._markerId,label:o._markerLabel});e.raiseEvent("markerRollOver",a,t.fusionCharts,n)},onmouseout:function(n){var r=n.data,i=r.wrapper;i&&r.options.hovereffect&&i.attr(r.options._defaultattrs);e.raiseEvent("markerRollOut",r.options._markerEventArgs,t.fusionCharts,n)},onclick:function(n){e.raiseEvent("markerClick",n.data.options._markerEventArgs,t.fusionCharts,n)}};"triangle"===l?u(o,{type:"polygon",sides:3,startangle:this.startAngle}):"diamond"===l?u(o,{type:"polygon",sides:4,startangle:this.startAngle}):"arc"===l?u(o,{type:"arc",startangle:0,endangle:360,innerradius:.6*y}):"circle"===l?o.type="circle":(C=this.getShapeArgs(),this.dataEnabled&&this.valueToRadius&&void 0!==o.radius?delete C.radius:(!C.radius&&(C.radius=this.markerRadius),C.radius=C.radius*c*this.autoScale),u(o,C));u(o,{hoverfillcolor:s(o.fillhovercolor,this.hoverFillColor,o.fillcolor),hoverfillalpha:s(o.fillhoveralpha,this.hoverFillAlpha,o.fillalpha),hoverfillratio:s(o.fillhoverratio,this.hoverFillRatio,o.fillratio),hoverfillangle:s(o.fillhoverangle,this.hoverFillAngle,o.fillangle),hoverborderthickness:f(o.borderhoverthickness,this.hoverBorderThickness,o.borderthickness),hoverbordercolor:s(o.borderhovercolor,this.hoverBorderColor,o.bordercolor),hoverborderalpha:s(o.borderhoveralpha,this.hoverBorderAlpha,o.borderalpha)});o._defaultattrs={fill:P({alpha:o.fillalpha,color:o.fillcolor,angle:o.fillangle,ratio:o.fillratio}).toString(),"stroke-width":"0"!==o.showborder?o.borderthickness:0,stroke:g(o.bordercolor,o.borderalpha)};o._hoverattrs={fill:P({alpha:o.hoverfillalpha,color:o.hoverfillcolor,angle:o.hoverfillangle,ratio:o.hoverfillratio}).toString(),"stroke-width":"0"!==o.showborder?o.hoverborderthickness:0,stroke:g(o.hoverbordercolor,o.hoverborderalpha)};"image"===o.type&&(o.borderthickness=o.borderthickness||0,o.onload=function(e){var n=this.options,r=e.width;e=e.height;var i=(Number(n.x)-r/(2*t.sFactor))*t.sFactor,n=(Number(n.y)-e/(2*t.sFactor))*t.sFactor,s;if(r&&e)for(s in{wrapper:1,tracker:1})this[s]&&this[s].attr({x:i,y:n,width:r,height:e})});this.drawOptions.shape=o;if(!this.showMarkerLabels)return{markerShape:o};C=o.labelpadding||this.markerLabelPadding;c=this.getLabelOptions(p,C,o);p=c.align;l=c.valign;m=n._labelBaseWidth;d=n._labelBaseHeight;y=n._labelXOffset;n=n._labelYOffset;m=this.labelWrapWidth?this.labelWrapWidth:this.getWrapWidth[p](m,Number(c.x)+y);n=this.labelWrapHeight?this.labelWrapHeight:this.getWrapHeight[l](d,Number(c.y)+n);m>C&&(m-=C);n>C&&(n-=C);this.drawOptions.label=u({type:"text"},{text:h,tooltext:o.tooltext,x:c.x,y:c.y,align:p,valign:c.valign,wrap:1,wrapwidth:m,wrapheight:n,fontsize:this.markerFontSize/t.sFactor,font:this.markerFont,fillcolor:this.markerFontColor});return{markerShape:o,markerLabel:this.drawOptions.label}}}},show:function(){this.setMarkerVisibility(!0)},hide:function(){this.setMarkerVisibility(!1)},setMarkerVisibility:function(e){var t=this.rapi&&this.rapi.internalAnnotations;if(t=(t=t&&t.markers)&&t.items)if(t=t[this._annotationIndex])this._origFill||(this._origFill=P({alpha:t.fillAlpha,color:t.fillColor,angle:t.fillAngle,ratio:t.fillRatio}),this._hideFill=P({alpha:"0",color:t.fillColor,angle:t.fillAngle,ratio:t.fillRatio})),e?t.wrapper.attr({fill:this._origFill}):t.wrapper.attr({fill:this._hideFill})},getShapeArgs:function(){var e=u({},this.shapeObj),t;return e?("polygon"===e.type?3>e.sides?e.type="circle":e.startangle=this.startAngle:"arc"===e.type&&(t=(e.radius||this.markerRadius)*this.autoScale,e.radius=t,e.innerradius=e.innerradius&&e.innerradius*this.autoScale||.6*t),e):null},destroy:function(){var e=this.markerShape,t=this.markerLabel,n;e&&e.destroy();t&&t.destroy();for(n in this)delete this[n]},getLabelAlignment:{top:function(e,t,n){return{x:e.toString(),y:(t-n).toString(),align:"center",valign:"top"}},left:function(e,t,n){return{x:(e-n).toString(),y:t.toString(),align:"right",valign:"middle"}},right:function(e,t,n){return{x:(e+n).toString(),y:t.toString(),align:"left",valign:"middle"}},bottom:function(e,t,n){return{x:e.toString(),y:(t+n).toString(),align:"center",valign:"bottom"}},center:function(e,t){return{x:e.toString(),y:t.toString(),align:"center",valign:"middle"}}},getWrapWidth:{right:function(e,t){return t},left:function(e,t){return e-t},center:function(e,t){return 2*k(t,e-t)}},getWrapHeight:{top:function(e,t){return t},middle:function(e,t){return 2*k(t,e-t)},bottom:function(e,t){return e-t}}};_(n.eventList,{entityrollover:"FC_Event",entityrollout:"FC_Event"});r("geo",{name:"geo",friendlyName:"Map",revision:1,creditLabel:!1,standaloneInit:!1,annotationInteractionEvents:!1,charttopmargin:10,chartrightmargin:10,chartbottommargin:10,chartleftmargin:10,baseWidth:400,baseHeight:300,baseScaleFactor:1,defaultSeriesType:"geo",rendererId:"maps",entities:{},draw:function(e,t){var n=this.renderer,i=this.chartInstance;n||(n=this.renderer=new r("renderer."+this.rendererId));this.updateDefaultAnnotations();i.addEventListener("internal.mapdrawingcomplete",function(e,n){t&&t.apply(this,[n.renderer]);e.detachHandler()});return n.init(this,e,function(e){e.checkComplete()})},chart:function(e,r){u(this.dataObj.chart,{charttopmargin:this.dataObj.chart.maptopmargin,chartrightmargin:this.dataObj.chart.maprightmargin,chartbottommargin:this.dataObj.chart.mapbottommargin,chartleftmargin:this.dataObj.chart.mapleftmargin,animation:this.dataObj.chart.animation||"0"});var i=this.dataObj,o=c(i,e,r,this),a=i.chart,h=i.markers,w=o.chart,S=o[N],x=w.useRoundEdges=1===f(a.useroundedges),T=x?1:0,x=x?0:1,C=w.use3DLighting=1===f(a.use3dlighting,1),k=u({},o.tooltip.style),A=new H(this.colorPaletteMap,(0<a.palette&&6>a.palette?a.palette:f(this.paletteIndex,1))-1),O=s(a.basefont,"Verdana,sans"),_=l(a.basefontsize,10),D=s(a.basefontcolor,A.basefontcolor),B=l(a.outcnvbasefontsize,_),j=s(a.outcnvbasefont,O),I=B+"px",q=y(s(a.outcnvbasefontcolor,D)),R=s(a.bgcolor,a.canvasbgcolor,A.canvasbgcolor),U=s(a.bgalpha,a.canvasbgalpha,A.canvasbgalpha),z=f(a.usevaluesformarkers,i.markers&&i.markers.items&&i.markers.items.length,!(i.markers&&i.markers.application&&i.markers.application.length&&i.markers.definition&&i.markers.definition.length)),W,X,V,$,J,K,Q,_=_+"px",D=y(D);this.realtimeEnabled&&this.postHCJSONCreation&&this.postHCJSONCreation.call(this,o);w.events.click=this.linkClickFN;S.numberFormatter=this.numberFormatter;u(S,{width:e,height:r,showTooltip:f(a.showtooltip,this.showtooltip,1),showHoverEffect:f(a.showhovereffect,1),tooltipSepChar:s(a.tooltipsepchar,", "),showValues:f(a.showvalues,this.showValues,1),showCanvasBG:s(a.showcanvasbg,1),useValuesForMarkers:z,adjustViewPortForMarkers:f(a.adjustviewportformarkers,z),flatScrollBars:f(a.flatscrollbars,0),scrollBar3DLighting:f(a.scrollbar3dlighting,1),outCanvasStyle:{fontFamily:j,color:q,fontSize:I},inCanvasStyle:{fontFamily:O,fontSize:_,color:D}});p(S.outCanvasStyle);W=p(S.inCanvasStyle);S.trendStyle=S.outCanvasStyle;"0"==S.showCanvasBG&&(U="0");X=s(a.entitybordercolor,a.bordercolor,A.plotbordercolor);V=s(a.entityfillcolor,a.fillcolor,A.plotfillcolor);$=s(a.entityfillalpha,a.fillalpha,A.plotfillalpha);J=s(a.entityfillratio,a.fillratio,A.plotfillratio);K=s(a.entityfillangle,a.fillangle,A.plotfillangle);Q=s(a.nullentityfillcolor,a.nullentitycolor,V);z=f(a.showcanvasborder,x)?f(a.canvasborderthickness,1):0;u(o,{chart:{emulateFlashGutter:f(a._emulateflashgutter,1),defaultSeriesType:this.defaultSeriesType,paletteIndex:A.index,borderRadius:f(a.canvasborderradius,0),borderColor:g(s(a.canvasbordercolor,A.canvasbordercolor),s(a.canvasborderalpha,A.canvasborderalpha)),borderWidth:z,borderDashStyle:f(a.canvasborderdashed,0)?b(f(a.canvasborderdashlen,4),f(a.canvasborderdashgap,2),z):void 0,backgroundColor:P({color:R,alpha:U,angle:s(a.bgangle,a.canvasbgangle,A.canvasbgangle),ratio:s(a.bgratio,a.canvasbgratio,A.canvasbgratio)}),plotBorderColor:"#ffffff",plotBorderWidth:0,plotBackgroundColor:P({color:"#ffffff",alpha:0}),bgSWF:s(a.bgimage,a.bgswf),bgSWFAlpha:f(a.bgimagealpha,a.bgswfalpha,100),bgImageScale:f(a.bgimagescale,100),bgImageDisplayMode:s(a.bgimagedisplaymode,"none").toLowerCase(),logoURL:d(a.logourl),logoPosition:s(a.logoposition,"tl").toLowerCase(),logoAlpha:f(a.logoalpha,100),logoLink:d(a.logolink),logoScale:f(a.logoscale,100),logoLeftMargin:f(a.logoleftmargin,0),logoTopMargin:f(a.logotopmargin,0),toolbar:function(){var t={button:{}},n=t.button,i;n.scale=f(a.toolbarbuttonscale,1.15);n.width=f(a.toolbarbuttonwidth,15);n.height=f(a.toolbarbuttonheight,15);n.radius=f(a.toolbarbuttonradius,2);n.spacing=f(a.toolbarbuttonspacing,5);n.fill=g(s(a.toolbarbuttoncolor,"ffffff"));n.labelFill=g(s(a.toolbarlabelcolor,"cccccc"));n.symbolFill=g(s(a.toolbarsymbolcolor,"ffffff"));n.hoverFill=g(s(a.toolbarbuttonhovercolor,"ffffff"));n.stroke=g(s(a.toolbarbuttonbordercolor,"bbbbbb"));n.symbolStroke=g(s(a.toolbarsymbolbordercolor,"9a9a9a"));n.strokeWidth=f(a.toolbarbuttonborderthickness,1);n.symbolStrokeWidth=f(a.toolbarsymbolborderthickness,1);i=n.symbolPadding=f(a.toolbarsymbolpadding,5);n.symbolHPadding=f(a.toolbarsymbolhpadding,i);n.symbolVPadding=f(a.toolbarsymbolvpadding,i);i=t.position=s(a.toolbarposition,"tr").toLowerCase();switch(i){case"tr":case"tl":case"br":case"bl":break;default:i="tr"}n=t.hAlign="left"===(""+a.toolbarhalign).toLowerCase()?"l":i.charAt(1);i=t.vAlign="bottom"===(""+a.toolbarvalign).toLowerCase()?"b":i.charAt(0);t.hDirection=f(a.toolbarhdirection,"r"===n?-1:1);t.vDirection=f(a.toolbarvdirection,"b"===i?-1:1);t.vMargin=f(a.toolbarvmargin,6);t.hMargin=f(a.toolbarhmargin,10);t.x=f(a.toolbarx,"l"===n?0:e);t.y=f(a.toolbary,"t"===i?0:r);return t}()},title:{text:v(a.caption),offsetX:Number(a.captionxshift),offsetY:Number(a.captionyshift),position:s(a.captionposition,void 0!==a.captionxshift||void 0!==a.captionyshift?"top left":"top"),padding:f(a.captionpadding,10),style:{fontFamily:s(a.captionfontfamily,j),color:s(a.captionfontcolor,q).replace(/^#?([a-f0-9]+)/ig,"#$1"),fontSize:f(a.captionfontsize,B+3)+"px",fontWeight:0===f(a.captionfontbold)?"normal":"bold"}},subtitle:{text:v(a.subcaption),style:{fontFamily:s(a.subcaptionfontfamily,a.captionfontfamily,j),color:s(a.subcaptionfontcolor,a.captionfontcolor,q).replace(/^#?([a-f0-9]+)/ig,"#$1"),fontSize:f(a.subcaptionfontsize,f(L(a.captionfontsize-3,1),B))+"px",fontWeight:0===f(a.subcaptionfontbold)?"normal":"bold"}},orphanStyles:{defaultStyle:{style:u({},S.inCanvasStyle)}},tooltip:{enabled:0!==S.showTooltip,style:{fontFamily:O,fontSize:_,lineHeight:W,color:D,padding:f(a.tooltippadding,this.tooltippadding,3)+"px",backgroundColor:g(s(k.backgroundColor,a.tooltipbgcolor,A.tooltipbgcolor),s(a.tooltipbgalpha,"100")),borderColor:g(s(k.borderColor,a.tooltipbordercolor,A.tooltipbordercolor),s(a.tooltipborderalpha,"100")),borderWidth:f(a.tooltipborderthickness,x)+"px",borderRadius:f(a.tooltipborderradius,T+1)+"px"},constrain:f(a.constraintooltip,1),shadow:f(a.showtooltipshadow,a.showshadow,1)?{enabled:!0,opacity:L(f(a.tooltipbgalpha,100),f(a.tooltipborderalpha,100))/100}:!1},legend:{itemStyle:{fontFamily:s(a.legenditemfont,j),fontSize:f(a.legenditemfontsize,B)+"px",color:y(s(a.legenditemfontcolor,q)),fontWeight:f(a.legenditemfontbold)?"bold":"normal"},itemHiddenStyle:{fontFamily:j,fontSize:I,color:y(s(a.legenditemhiddencolor,q))},itemHoverStyle:{color:y(s(a.legenditemhoverfontcolor,a.legenditemfontcolor,q))},enabled:f(a.showlegend,1),title:{text:v(a.legendcaption),style:{fontFamily:s(a.legendcaptionfont,j),fontSize:f(a.legendcaptionfontsize,B)+"px",color:y(s(a.legendcaptionfontcolor,q)),fontWeight:f(a.legendcaptionfontbold,1)?"bold":"normal"},align:M[s(a.legendcaptionalignment)]},position:s(a.legendposition,0===f(i.colorrange&&i.colorrange.gradient,0)?"right":"bottom"),backgroundColor:s(a.legendbgcolor,A.bgcolor),backgroundAlpha:s(a.legendbgalpha,"100"),borderColor:s(a.legendbordercolor,A.legendbordercolor),borderThickness:s(a.legendborderthickness,"1"),borderAlpha:s(a.legendborderalpha,"100"),shadow:f(a.legendshadow,1),allowDrag:f(a.legendallowdrag,0),scroll:{scrollBgColor:s(a.legendscrollbgcolor,a.scrollcolor,"AAAAAA"),scrollBtnColor:s(a.legendscrollbtncolor,"BBBBBB"),scrollBarColor:s(a.legendscrollbarcolor,"CCCCCC")},reversed:f(a.reverselegend,0),interactive:f(a.interactivelegend,0),minColor:Q,lighting3d:C},markers:{dataLabels:{style:{fontFamily:s(a.markerfont,O),fontSize:f(a.markerfontsize,parseInt(_,10)),fontColor:s(a.markerfontcolor,D)}},showTooltip:f(a.showmarkertooltip,S.showTooltip),showLabels:f(a.showmarkerlabels,a.showlabels,1),showHoverEffect:f(a.showmarkerhovereffect,1),labelPadding:s(a.markerlabelpadding,"5"),labelWrapWidth:f(a.markerlabelwrapwidth,0),labelWrapHeight:f(a.markerlabelwrapheight,0),fillColor:s(a.markerfillcolor,a.markerbgcolor,A.markerfillcolor),fillAlpha:s(a.markerfillalpha,A.markerfillalpha),fillAngle:s(a.markerfillangle,A.markerfillangle),fillRatio:s(a.markerfillratio,A.markerfillratio),fillPattern:s(a.markerfillpattern,A.markerbgpattern),hoverFillColor:a.markerfillhovercolor,hoverFillAlpha:a.markerfillhoveralpha,hoverFillRatio:a.markerfillhoverratio,hoverFillAngle:a.markerfillhoverangle,borderThickness:s(a.markerborderthickness,1),borderColor:s(a.markerbordercolor,A.markerbordercolor),borderAlpha:f(a.markerborderalpha,A.markerborderalpha),hoverBorderThickness:a.markerborderhoverthickness,hoverBorderColor:a.markerborderhovercolor,hoverBorderAlpha:a.markerborderhoveralpha,radius:f(a.markerradius&&n.trimString(a.markerradius),7),shapeId:s(a.defaultmarkershape,"circle"),labelSepChar:s(a.labelsepchar,", "),tooltipSepChar:S.tooltipSepChar,autoScale:f(a.autoscalemarkers,0),tooltext:s(h&&h.tooltext,a.markertooltext),dataEnabled:S.useValuesForMarkers,valueToRadius:f(a.markerradiusfromvalue,1),valueMarkerAlpha:s(a.valuemarkeralpha,"75"),hideNull:f(a.hidenullmarkers,0),nullRadius:f(a.nullmarkerradius,a.markerradius,7),adjustViewPort:f(a.adjustviewportformarkers,0),startAngle:f(a.markerstartangle,90),maxRadius:f(a.maxmarkerradius,0),minRadius:f(a.minmarkerradius,0),applyAll:f(a.applyallmarkers,0),shadow:f(a.showmarkershadow,a.showshadow,0)},connectors:{showHoverEffect:f(a.showconnectorhovereffect,1),thickness:f(a.connectorthickness,a.markerconnthickness,"2"),color:s(a.connectorcolor,a.markerconncolor,A.markerbordercolor),alpha:s(a.connectoralpha,a.markerconnalpha,"100"),hoverthickness:f(a.connectorhoverthickness,a.connectorthickness,a.markerconnthickness,"2"),hovercolor:s(a.connectorhovercolor,a.connectorcolor,a.markerconncolor,A.markerbordercolor),hoveralpha:s(a.connectorhoveralpha,a.connectoralpha,a.markerconnalpha,"100"),dashed:f(a.connectordashed,a.markerconndashed,0),dashLen:f(a.connectordashlen,a.markerconndashlen,3),dashGap:f(a.connectordashgap,a.markerconndashgap,2),font:s(a.connectorfont,a.markerconnfont,O),fontColor:s(a.connectorfontcolor,a.markerconnfontcolor,D),fontSize:f(a.connectorfontsize,a.markerconnfontsize,parseInt(_,10)),showLabels:f(a.showconnectorlabels,a.showmarkerlabels,a.showlabels,1),labelBgColor:s(a.connectorlabelbgcolor,a.markerconnlabelbgcolor,A.plotfillcolor),labelBorderColor:s(a.connectorlabelbordercolor,a.markerconnlabelbordercolor,A.markerbordercolor),shadow:f(a.showconnectorshadow,a.showmarkershadow,a.showshadow,0),showTooltip:f(a.showconnectortooltip,a.showmarkertooltip,S.showTooltip),tooltext:s(h&&h.connectortooltext,a.connectortooltext),hideOpen:f(a.hideopenconnectors,1)},entities:{baseScaleFactor:this.baseScaleFactor,dataLabels:{style:{fontFamily:O,fontSize:_,lineHeight:W,color:o.plotOptions.series.dataLabels.color=D}},fillColor:V,fillAlpha:$,fillRatio:J,fillAngle:K,borderColor:X,borderAlpha:s(a.entityborderalpha,a.borderalpha,this.borderAlpha,"100"),borderThickness:f(a.showentityborder,a.showborder,1)?f(a.entityborderthickness,a.borderthickness,1):0,scaleBorder:f(a.scaleentityborder,a.scaleborder,0),hoverFillColor:s(a.entityfillhovercolor,a.hoverfillcolor,a.hovercolor,A.plothoverfillcolor),hoverFillAlpha:s(a.entityfillhoveralpha,a.hoverfillalpha,a.hoveralpha,A.plothoverfillalpha),hoverFillRatio:s(a.entityfillhoverratio,a.hoverfillratio,a.hoverratio,A.plothoverfillratio),hoverFillAngle:s(a.entityfillhoverangle,a.hoverfillangle,a.hoverangle,A.plothoverfillangle),hoverBorderThickness:s(a.entityborderhoverthickness,a.hoverborderthickness),hoverBorderColor:s(a.entityborderhovercolor,A.plotbordercolor),hoverBorderAlpha:s(a.entityborderhoveralpha,A.plotborderalpha),nullEntityColor:Q,nullEntityAlpha:s(a.nullentityfillalpha,a.nullentityalpha,$),nullEntityRatio:s(a.nullentityfillratio,a.nullentityratio,J),nullEntityAngle:s(a.nullentityfillangle,a.nullentityangle,K),connectorColor:s(a.labelconnectorcolor,a.connectorcolor,D),connectorAlpha:s(a.labelconnectoralpha,a.connectoralpha,"100"),connectorThickness:f(a.labelconnectorthickness,a.borderthickness,1),showHoverEffect:f(a.showentityhovereffect,a.usehovercolor,S.showHoverEffect),hoverOnNull:f(a.hoveronnull,a.entityhoveronnull,1),labelPadding:f(a.labelpadding,5),showLabels:f(a.showlabels,1),labelsOnTop:f(a.entitylabelsontop,1),includeNameInLabels:f(a.includenameinlabels,1),includeValueInLabels:f(a.includevalueinlabels,0),useSNameInTooltip:f(a.usesnameintooltip,0),useShortName:f(a.usesnameinlabels,1),labelSepChar:s(a.labelsepchar,", "),showTooltip:f(a.showentitytooltip,S.showTooltip),tooltipSepChar:S.tooltipSepChar,tooltext:a.entitytooltext,hideNullEntities:f(a.hidenullentities,0),showHiddenEntityBorder:f(a.showhiddenentityborder,1),showNullEntityBorder:f(a.shownullentityborder,1),hiddenEntityColor:s(a.hiddenentitycolor,a.hiddenentityfillcolor,a.hiddenentityalpha||a.hiddenentityfillalpha?Q:"ffffff"),hiddenEntityAlpha:s(a.hiddenentityalpha,a.hiddenentityfillalpha,.001),shadow:f(a.showshadow,this.defaultPlotShadow,A.shadow)},entitydef:{useSNameAsId:f(a.usesnameasid,0)}});o.legend.title.style.lineHeight=p(o.legend.title.style);o.legend.itemStyle.lineHeight=p(o.legend.itemStyle);o.legend.itemHiddenStyle.lineHeight=p(o.legend.itemHiddenStyle);h=F(e,r,a.markermaxradius,a.markerminradius);o.markers.maxRadius=h.max;o.markers.minRadius=h.min;a.tooltipcolor&&(o.tooltip.style.color=m(a.tooltipcolor));void 0!==s(a.clickurl)&&(w.link=a.clickurl,w.style.cursor="pointer",E&&(w.style._cursor="hand"),o.plotOptions.series.point.events.click=function(){w.events.click.call({link:a.clickurl})});h=w.bgImageDisplayMode;S=d(a.bgimagevalign,"").toLowerCase();T=d(a.bgimagehalign,"").toLowerCase();"tile"==h||"fill"==h||"fit"==h?("top"!=S&&"middle"!=S&&"bottom"!=S&&(S="middle"),"left"!=T&&"middle"!=T&&"right"!=T&&(T="middle")):("top"!=S&&"middle"!=S&&"bottom"!=S&&(S="top"),"left"!=T&&"middle"!=T&&"right"!=T&&(T="left"));w.bgImageVAlign=S;w.bgImageHAlign=T;this.parseStyles(o);p(o.title.style);p(o.subtitle.style);p(o.tooltip.style);o.plotOptions.series.allowPointSelect=!0;this.parseExportOptions(o);this.preSeriesAddition&&this.preSeriesAddition(o,i,e,r);this.series&&this.series(i,o,this.name,e,r);this.postSeriesAddition&&this.postSeriesAddition(o,i,e,r);this.spaceManager(o,i,e,r);t.console&&t.FC_DEV_ENVIRONMENT&&t.console.log(o);return o},series:function(e,t){function r(e){for(M=e&&e.length||0;M--;)E=e[M],C=E.value,E.cleanValue=o.getCleanValue(C),E.formattedValue=null!==E.cleanValue?o.dataLabels(C):void 0,E.origValue=C,null!==E.cleanValue&&(b=k(E.cleanValue,b),w=L(E.cleanValue,w))}function i(e,n,r){for(M=e&&e.length||0;M--;){E=e[M];var i;e:{i=f(E.value);for(var o=void 0,u=void 0,o=void 0,a=T&&T.length||0;a--;)if(o=T[a],u=Number(o.maxvalue),o=f(o.minvalue,t.colorRange.scaleMin),i>=o&&i<=u){i=a;break e}i=null}A=i;null!==A&&(S="gradient"===g.type?t.colorRange.getColorObj(E.value).code:m&&m[A]&&s(m[A].color,m[A].code),y[A]||(y[A]=[]),S&&(E.color=E.color?E.color:S,n&&(E.alpha=E.alpha?E.alpha:n),r&&(h||E.fillhoveralpha||(E.fillhoveralpha=E.alpha),c||E.fillhovercolor||(E.fillhovercolor=E.color)),y[A].push(E)))}}var o=this.numberFormatter,a=this.hcJSON.series,l=t.markers.valueMarkerAlpha,c=t.markers.hasHoverColor,h=t.markers.hasHoverAlpha,p=this.dataObj,d=t[N],v=p.colorrange,m=v&&v.color,g=t.legend,y={},v={legendClick:function(){var e;if(e=this.chart)!this.legend&&(this.legend=this.plot.legend),e.legendClick(this,!this.visible)},getEventArgs:function(){var e;if(e=this.chart)return!this.legend&&(this.legend=this.plot.legend),e.getEventArgs(this)},setVisible:function(e){var t=this.data,n=this.legendItem,r=this.visible;this.visible=e=void 0===e?!r:e;n&&g.colorizeItem&&g.colorizeItem(this,e);for(r=t&&t.length;r--;)(n=t[r].mapItem)&&(e?n.show&&n.show():n.hide&&n.hide())}},b=Infinity,w=-Infinity,E,S,x,T,C,A,O,M;r(p.data||[]);d.useValuesForMarkers&&r(p.markers&&p.markers.items||[]);d._doNotShowLegend=!0;g.type=p.colorrange&&"1"===p.colorrange.gradient?"gradient":"point";Infinity===b&&(b=void 0);-Infinity===w&&(w=void 0);d.dataMin=b;d.dataMax=w;t.colorRange=new n.colorRange({colorRange:p.colorrange,dataMin:b,dataMax:w,defaultColor:g.minColor,numberFormatter:o});M=(T=t.colorRange.colorArr)&&T.length||0;if(0<M){for(;M--;)x=T[M],!d._doNotShowLegend||""===x.label&&void 0===x.label||(d._doNotShowLegend=!1),a.push(u({type:this.defaultSeriesType,showInLegend:!0,data:[],plot:{},name:x.label,color:x.code,rangeMin:x.minvalue,rangeMax:x.maxvalue,visible:!0},v));i(p.data||[]);d.useValuesForMarkers&&i(p.markers&&p.markers.items||[],l,!0);a=a.reverse();for(O in y)a[O]&&(a[O].data=y[O])}else a.push({type:this.defaultSeriesType,data:[]});d._doNotShowLegend&&(this.hcJSON.legend.enabled=!1)},preliminaryScaling:function(e,t){for(var n=t.markers&&t.markers.items||[],r=n&&n.length||0,i=Infinity,s=Infinity,o=-Infinity,u=-Infinity,a,f;r--;)f=n[r],a=Number(f.x),f=Number(f.y),i=k(i,a),s=k(s,f),o=L(o,a),u=L(u,f);return{x:i,y:s,x1:o,y1:u}},getScalingParameters:function(e,t,n,r){var i=e/t,s=n/(e*this.baseScaleFactor),o=r/(t*this.baseScaleFactor),u=0,a=0;s>o?(s=o,u+=(n-r*i)/2,e=200/(t*s)):(a+=(r-n/i)/2,e=200/(e*s));return{scaleFactor:s,strokeWidth:e,translateX:u,translateY:a}},calculateMarkerBounds:function(e,t,n,r,i){var s=e.markers,o=e[N];e=o.dataMin;for(var o=o.dataMax,u=s.minRadius,a=s.maxRadius,f=s.hideNull,l=s.nullRadius,s=s.valueToRadius,c=(t=t.markers&&t.markers.items||[])&&t.length||0,h=Infinity,p=Infinity,d=-Infinity,v=-Infinity,m,g,y;c--;)g=t[c],null!==g.cleanValue?(s&&void 0===g.radius&&(g.radius=u+(a-u)*(g.cleanValue-e)/(o-e)),y=Number(g.radius),m=(Number(g.x)+r)*n,g=(Number(g.y)+i)*n,h=k(h,m-y),p=k(p,g-y),d=L(d,m+y),v=L(v,g+y)):f?g.__hideMarker=!0:void 0===g.radius&&(g.radius=l);return{x:h,y:p,x1:d,y1:v}},spaceManager:function(e,t,n,r){var i=e.chart,s=e[N],o=i.spacingLeft,u=i.spacingTop,a=this.baseWidth,f=this.baseHeight;n-=i.spacingRight+o;i=r-(i.spacingBottom+u);r=s._captionBlock=this.manageTitleSpace(e,t,n,i);var l=s._legendBlock=this.placeLegendBlock(e,t,n,i-r.height,r.isBottom?r.height:0);n-=l.width;var i=i-r.height-l.height,c=l=0;s.useValuesForMarkers?(s.adjustViewPortForMarkers?(s=this.preliminaryScaling(e,t),s.x1>a&&(a=s.x1),0>s.x&&(a+=-s.x,c=-s.x),s.y1>f&&(f=s.y1),0>s.y&&(f+=-s.y,l=-s.y),s=this.getScalingParameters(a,f,n,i),s=this.calculateMarkerBounds(e,t,s.scaleFactor*this.baseScaleFactor,c,l),e=i,t=n,0>s.x&&(o+=-s.x,n+=s.x),0>s.y&&(u+=-s.y,i+=s.y),s.x1>t&&(n-=s.x1-t),s.y1>e&&(i-=s.y1-e)):(s=this.getScalingParameters(a,f,n,i),this.calculateMarkerBounds(e,t,s.scaleFactor*this.baseScaleFactor,c,l)),s=this.getScalingParameters(a,f,n,i),o+=c*s.scaleFactor*this.baseScaleFactor,u+=l*s.scaleFactor*this.baseScaleFactor):s=this.getScalingParameters(a,f,n,i);/bottom/i.test(r.position)||(u+=r.height);this.scaleFactor=s.scaleFactor;this.strokeWidth=s.strokeWidth;this.translateX=s.translateX+o;this.translateY=s.translateY+u},placeGLegendBlockRight:n.placeGLegendBlockRight,placeGLegendBlockBottom:n.placeGLegendBlockBottom,placeLegendBlock:function(e,t,n,r,i){var s=e.legend,o=e[N],u=s.position.toLowerCase(),a={position:u};if("0"===t.chart.showlegend||o._doNotShowLegend)return a.height=0,a.width=0,a;"bottom"===u?(a.height="gradient"===s.type?this.placeGLegendBlockBottom(e,t,n,r):this.placeLegendBlockBottom(e,t,n,r),a.width=0,i&&(s.y=-i)):(n/=2,a.width="gradient"===s.type?this.placeGLegendBlockRight(e,t,n,r):this.placeLegendBlockRight(e,t,n,r),a.height=0);return a},manageTitleSpace:function(e,t,n,r){var i=this.hcJSON;e=i.title;t=i.chart;var i=i.subtitle,s=this.smartLabel,o=r/2,u=0,a=e.position.toLowerCase(),f=e.padding,l=!1,c=e.offsetX,h=e.offsetY,p=0,d={},v,m;if(""===e.text&&""===i.text)return{height:0,position:a};isNaN(c)&&isNaN(h)||(l=!0,c=isNaN(c)?0:c,h=isNaN(h)?0:h);v=e.text;if(""!==v){s.setStyle(e.style);m=s.getOriSize(v);if(m.width>n||m.height>o)m=s.getSmartText(v,n,o),e.text=m.text,m.tooltext&&(e.originalText=m.tooltext);e.height=p=m.height;u+=p}o-=u;v=i.text;if(""!==v){s.setStyle(i.style);m=s.getOriSize(v);if(m.width>n||m.height>o)m=s.getSmartText(v,n,o),i.text=m.text,m.tooltext&&(i.originalText=m.tooltext);u+=i.height=m.height}u=u+f>o?o:u+f;a.match(/left/)?(i.align=e.align="start",i.x=e.x=t.marginLeft):a.match(/right/)?(i.align=e.align="end",i.x=e.x=n):(i.align=e.align="middle",i.x=e.x=n/2);/bottom/.test(a)?(n=r-u+t.marginTop+f,e.y=n,i.y=n+p,l?(e.y+=h,i.y+=h,e.x+=c,i.x+=c):(t.marginBottom+=u,d.isBottom=!0)):l?(e.y+=h,i.y+=h,e.x+=c,i.x+=c):t.marginTop+=u;d.height=l?0:u;d.position=a;return d},getFirstId:function(){return this.firstEntity},getEntityPaths:function(e){var t={},n=this.entities,r;if(e){for(r in n)t[r]=n[r];return t}return n},redefineEntities:function(e,t){var r=this.entities,i={},s={},o=0,u,a,f,l,c,h,p,d;for(p=e.length;p--;)if(u=e[p],a=u.internalid,c=u.newid?u.newid:a,f=u.sname,u=u.lname,l=r[a],a=n.trimString(a),c=n.trimString(c),l){i[c]=c={origId:a};s[a]=!0;for(h in l)c[h]=l[h];c.shortLabel=f?f:l.shortLabel;c.label=u?u:l.label}this.entities={};for(d in i)i[d].origId=d,this.entities[d.toLowerCase()]=i[d],o+=1;for(d in r)if(c=r[d],d=n.trimString(d),!s[d]){t.useSNameAsId?(this.entities[c.shortLabel.toLowerCase()]=l={},l.origId=c.shortLabel):(this.entities[d.toLowerCase()]=l={},l.origId=d);for(h in c)l[h]=c[h];o+=1}this.entityCount=o},colorPaletteMap:{basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},eiMethods:{getMapName:function(){return this.jsVars.hcObj.logic.name},getEntityList:function(){var e=this.jsVars.hcObj,e=e.entities&&e.entities.items,t,n=[],r,i;for(r in e)i=e[r],t=i.eJSON,n.push({id:i.id,originalId:i.originalId||i.id,label:t.label,shortlabel:t.shortLabel,value:i.value,formattedValue:i.formattedValue,toolText:i.toolText});return n},getDataAsCSV:function(){var e=this.jsVars,e=e.hcObj&&e.hcObj.entities&&e.hcObj.entities.items,t='"Id","Short Name","Long Name","Value","Formatted Value"',n,r,i,s;for(n in e)r=e[n],i=r.eJSON,s=r.value,t+='\r\n"'+r.id+'","'+i.shortLabel+'","'+i.label+'","'+(void 0===s?"":s)+'","'+r.formattedValue+'"';return t},getMapAttribute:function(){var t=this.jsVars.fcObj;e.raiseWarning(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".');return t.getChartAttribute.apply(t,arguments)},exportMap:function(){var t=this.jsVars.fcObj;e.raiseWarning(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".');return t.exportChart&&t.exportChart.apply(t,arguments)},addMarker:function(t){this.jsVars.hcObj.markers.addMarkerItem(t)||e.raiseWarning(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){var n=this.jsVars.hcObj,r=n.markers,n=n.mapAnnotations,i;e&&(e=(e+"").toLowerCase(),r=r.items[e])&&(i=r.options,u(i,t),r=r.draw().markerShape,n.update(e,r))},removeMarker:function(e){var t=this.jsVars.hcObj.markers,n;e&&(e=(e+"").toLowerCase(),(n=t.items[e])&&n.destroy(),delete t.items[e])}}},r.linebase);r("renderer.maps",{drawGraph:function(){var e=this.paper,t=this.layers,r,i,s;if(!this.options.nativeMessage){t.dataset||(t.dataset=e.group("dataset").insertAfter(t.background),t.tracker=e.group("hot").insertAfter(t.dataset));this.shadowLayer||(this.shadowLayer=t.shadow=e.group("shadow").insertBefore(t.dataset));this.strokeWidth=this.logic.strokeWidth;r=this.logic.scaleFactor;this.translateX=i=this.logic.translateX;this.translateY=s=this.logic.translateY;this.sFactor=r*this.logic.baseScaleFactor;this.transformStr=["t",i,",",s,"s",r,",",r,",0,0"].join("");this.options.tooltip&&!1!==this.options.tooltip.enabled&&e.tooltip(this.options.tooltip.style,this.options.tooltip.shadow,this.options.tooltip.constrain);this.mapAnnotations=new n.Annotations;this.mapAnnotations.reset(null,{id:"geo",showbelow:0,autoscale:0,grpxshift:this.translateX?this.translateX:0,grpyshift:this.translateY?this.translateY:0,xscale:100*(this.sFactor?this.sFactor:1),yscale:100*(this.sFactor?this.sFactor:1),options:{useTracker:!0}});this.processEntityDefs();this.drawEntities();if(!E||T)t.dataset.attr({transform:this.transformStr}),t.shadow.attr({transform:this.transformStr});this.drawMarkers()}},setScaleRange:function(e,t){for(var n=this.options.series,r=n.length,i,s,o,u;r--;)if(o=n[r],s=(i=o.data)&&i.length)if(o.rangeMin>=e&&o.rangeMax<=t)o.setVisible(!0);else if(o.rangeMax<e||o.rangeMin>t)o.setVisible(!1);else for(;s--;)o=(u=i[s].mapItem)&&u.value,isNaN(o)||""===o||(o>=e&&o<=t?u.show():u.hide())},processEntityDefs:function(){var e=this.logic,t=this.options.series,n=t&&t.length;for(e.redefineEntities(e.dataObj.entitydef||[],this.options.entitydef);n--;)t[n].chart=this},drawEntities:function(){this.entities=new z(this.logic&&this.logic.dataObj&&this.logic.dataObj.data,this,this.logic,this.layers.dataset)},drawMarkers:function(){var e=this.logic&&this.logic.dataObj&&this.logic.dataObj.markers||null;e&&(this.markers=new $(e,this,this.group));this.options.entities.labelsOnTop||this.entities.drawLabels()},checkComplete:function(){var t=this.logic,n=t.chartInstance;this.entities&&this.entities.isReady()&&(this.mapAnnotations.draw(this),t.hasRendered=!0,e.raiseEvent("internal.mapdrawingcomplete",{renderer:this},n))}},r["renderer.root"])},[3,2,0,"release"]])